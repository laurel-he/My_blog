{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/uploads/avatar.jpg","path":"uploads/avatar.jpg","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"dac3047bdaad738a16aaab63234471641eb98a13","modified":1575942586529},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1575942586608},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1575942586609},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1575942586609},{"_id":"themes/next/.gitignore","hash":"0b5c2ffd41f66eb1849d6426ba8cf9649eeed329","modified":1575942586610},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1575942586611},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1575942586611},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1575942586611},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1575942586611},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1575942586612},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1575942586612},{"_id":"themes/next/README.md","hash":"287c7e6b7a6ddf75d815dda0df8bd228e3f285c5","modified":1575942586613},{"_id":"themes/next/README.cn.md","hash":"263b74f1ac7c0f6f9424b8cced4b0b320ae61efc","modified":1575942586613},{"_id":"themes/next/bower.json","hash":"0674f11d3d514e087a176da0e1d85c2286aa5fba","modified":1575942586614},{"_id":"themes/next/_config.yml","hash":"6de5b027af1010df1113f85d37228e62c1d1e1ef","modified":1575942586613},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1575942586614},{"_id":"themes/next/package.json","hash":"036d3a1346203d2f1a3958024df7f74e7ac07bfe","modified":1575942586637},{"_id":"source/_posts/2019-02-26.md","hash":"8cfba76a5ad72b9d084bee4bd6f63bd560130bbc","modified":1575942586529},{"_id":"source/_posts/2019-03-07.md","hash":"93832f99b61e654e648ad0cb69df645dc1a6d2b3","modified":1575942586529},{"_id":"source/_posts/20190202.md","hash":"998f982b20ddf69e75beacc5cb58d6bcfb50e695","modified":1575942586530},{"_id":"source/_posts/20190213.md","hash":"bd4b741ff18248f101d93e90728adc440811415c","modified":1575942586530},{"_id":"source/_posts/20190214.md","hash":"b5c82b54476f09ff2b55bb2d23e8a6ea53f4ce01","modified":1575942586530},{"_id":"source/_posts/20190220.md","hash":"19320a566eddf7f14e35efe8093bed7bb7e31a01","modified":1575942586531},{"_id":"source/_posts/20190227.md","hash":"10a216114e6d0fdb0f3155c70a77f98f9ca9bb35","modified":1575942586531},{"_id":"source/_posts/2019_01_01.md","hash":"703d2e239349f71c62a7a2bd808827fdbde399c0","modified":1575942586531},{"_id":"source/_posts/AbstractFactory.md","hash":"364a98272bae9e0a36d78ed1ab62051e37cfab0c","modified":1575942586532},{"_id":"source/_posts/Hexo.md","hash":"82f06124e4baf2dc2254c458b3cbb2454c25c055","modified":1575942586532},{"_id":"source/_posts/LANP.md","hash":"90bd9befd366e610f5b6c510d54d9099b88d74ed","modified":1575942586532},{"_id":"source/_posts/Laurel.md","hash":"5441d1508bd455ff5a4f883530a7687852567550","modified":1575942586532},{"_id":"source/_posts/Log.md","hash":"4b0a57a92f398edaa9ff2f347183e1b86444765f","modified":1575942586533},{"_id":"source/_posts/SimpleFactory.md","hash":"2ffdefb9bfc42c735781126c558491684198ac66","modified":1575942586533},{"_id":"source/_posts/Strategy.md","hash":"550c0b0d54c46c5f0bf4dd68382806fa08ed7f77","modified":1575942586533},{"_id":"source/_posts/bash.md","hash":"3c60a5d6b949402850efae33c963706ca88626ef","modified":1575942586533},{"_id":"source/_posts/cleanCode.md","hash":"8ed44ae392918785344b344c7625c22a8e26fde8","modified":1575942586534},{"_id":"source/_posts/codeComplate_01.md","hash":"c3973fd77eadde82b20f6440d78a0388f0a3db4f","modified":1575942586535},{"_id":"source/_posts/codePrinceple.md","hash":"11fe74bbeda4cde6b8eb41c654b1990fcdb118a7","modified":1575942586536},{"_id":"source/_posts/commandMode.md","hash":"93c75317d8277d785e8321039dc98894d6930b0b","modified":1575942586537},{"_id":"source/_posts/crontab.md","hash":"ac162f8858f14d372e405a66c2398be25d86b274","modified":1575942586537},{"_id":"source/_posts/dePat.md","hash":"a7b32c1a9a2f1210fb9aafbf9784b02151a01090","modified":1575942586537},{"_id":"source/_posts/demo_01.md","hash":"a7ce96f59430213c7401ffa2f96eab0134564adb","modified":1575942586538},{"_id":"source/_posts/design_singleton.md","hash":"c8f52d757cd75dc36f4467e4f05287e0065db41a","modified":1575942586539},{"_id":"source/_posts/docker.md","hash":"8875442f2f199b670b3d20c1ad1c22b5ea151c10","modified":1575942586539},{"_id":"source/_posts/fastJsonPatch.md","hash":"452db377661787f6f81be850962a49b37a919465","modified":1575942586539},{"_id":"source/_posts/generators.md","hash":"a0b5854cc038e9a0548b114ea7aad65ed3a70f56","modified":1575942586540},{"_id":"source/_posts/genericity.md","hash":"d5c73c46ecbb3dd13f117c77a7d975819b26a7a4","modified":1575942586540},{"_id":"source/_posts/git.md","hash":"0ca7df3b3381a0cc086861ab33639d281be336f7","modified":1575942586540},{"_id":"source/_posts/json.md","hash":"91a02a8810c0b58f043ec6e235d0a60dd6b0caf4","modified":1575942586541},{"_id":"source/_posts/mongo1.md","hash":"1a96f7ea87123440ec27912afe3dbf88bd28f7a2","modified":1575942586544},{"_id":"source/_posts/mongoComplex.md","hash":"517fa93c76207f06de6ca4570e237076f600f91d","modified":1575942586547},{"_id":"source/_posts/monthly.md","hash":"1aa78e3d50a691e87125c3f6e412e0688be4f992","modified":1575942586547},{"_id":"source/_posts/mysqlIndex.md","hash":"924f5cfc03f7176a2b195d3bc2629810d5bd349b","modified":1575942586547},{"_id":"source/_posts/mysqlMerge.md","hash":"6db44ac96d86c5803aedc5ed9e554855e1854a34","modified":1575942586555},{"_id":"source/_posts/mysql数据库维护.md","hash":"d8ec7974c0c903ed8d4e8e919c782a488afc6caf","modified":1575942586555},{"_id":"source/_posts/paintImage.md","hash":"d0ad2c2d2aa260de3583328a1e2935f2709150bc","modified":1575942586556},{"_id":"source/_posts/phpAlg.md","hash":"9bcc184ae05102b6dab1c6bc08570ebb802e81b0","modified":1575942586556},{"_id":"source/_posts/phpPsr.md","hash":"dfd9cf9994581b7271e0fd705e3019b994fdefd3","modified":1575942586557},{"_id":"source/_posts/producerConsumer.md","hash":"9cdd7be89f7d80d04febb6a4ca087890da01564e","modified":1575942586557},{"_id":"source/_posts/python.md","hash":"c94d242a991af7a5c5e14326c156f04952ef8cda","modified":1575942586558},{"_id":"source/_posts/pythonStructure.md","hash":"10b8f88030fc977d188c7130b347f9ada526f250","modified":1575942586558},{"_id":"source/_posts/python_base.md","hash":"eb65e891350e79a61311c7fe2cd1ec8eed007490","modified":1575942586558},{"_id":"source/_posts/python_debugger.md","hash":"3790afa2d5d8801891f5551884123d6f2dda6ef3","modified":1575942586558},{"_id":"source/_posts/pythonlist.md","hash":"f8064a4f51a1861776125677160c1359b4d054f6","modified":1575942586559},{"_id":"source/_posts/pythondeque.md","hash":"4474a926a11201a050b4ec8c0e78d733cefc4a80","modified":1575942586559},{"_id":"source/_posts/pythonset.md","hash":"c5ff7ed2eedd4a5167e1777739a91cdcfc344f94","modified":1575942586559},{"_id":"source/_posts/reactUnit.md","hash":"05987a284f5d97ad6d78548b1e61751a85091e49","modified":1575942586560},{"_id":"source/_posts/react_01.md","hash":"859b951fda162c6a57f2ea0058f1bd525666a7b2","modified":1575942586560},{"_id":"source/_posts/react_02.md","hash":"ddd8c3230a9a918d7f529b88bf02b6623d7072f5","modified":1575942586560},{"_id":"source/_posts/react_06.md","hash":"87dd28845ea304279ec2d6fc17b0d8bccc83bf80","modified":1575942586561},{"_id":"source/_posts/react_base.md","hash":"116fb32e18190902fcf3059a47c728ae006b0a8a","modified":1575942586562},{"_id":"source/_posts/singleMode.md","hash":"ba4a4cf40c3b1dedbd7af484db9f68087bc77996","modified":1575942586563},{"_id":"source/_posts/unitTest.md","hash":"fe5d9ce7cb039977a1553c0ac2c4a9bcd1f0a08c","modified":1575959029218},{"_id":"source/_posts/vim.md","hash":"1507486d8573190a41239435a125491da6307af3","modified":1575942586564},{"_id":"source/_posts/test-my-site.md","hash":"1350edf30e2233c7a0ab97a069ad0da2fe0d84ac","modified":1575942586563},{"_id":"source/_posts/webassembly_go_1.md","hash":"b494e7afc03b200dc7a2ca48734d1b5c82c4c953","modified":1575966556440},{"_id":"source/_posts/wechat.md","hash":"29703a716365ad921d03397096270f2f97565fd6","modified":1575942586564},{"_id":"source/_posts/work.md","hash":"b0f74d19846d217d6f4759549457d4426814b447","modified":1575942586564},{"_id":"source/categories/index.md","hash":"dd7cde55874ffaedce84102318cc145ac4fec27f","modified":1575942586565},{"_id":"source/tag/index.md","hash":"6b7a2e4169d0e59380127f15e3d9993e2da99541","modified":1575942586565},{"_id":"source/tags/index.md","hash":"365397cc817ac987872bb0797d102ceeb44a05fa","modified":1575942586565},{"_id":"source/uploads/avatar.jpg","hash":"1716a9cc07e85a09c6bf8631a23172334a1b9de5","modified":1575942586566},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1575942586609},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"50d48c47162817a3810a9d9ad51104e83947419a","modified":1575942586610},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1575942586610},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1575942586610},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1575942586614},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1575942586614},{"_id":"themes/next/languages/en.yml","hash":"7e680d9bb8f3a3a9d1ba1c9d312b3d257183dded","modified":1575942586615},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1575942586615},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1575942586615},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1575942586615},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1575942586616},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1575942586616},{"_id":"themes/next/languages/nl-NL.yml","hash":"edca4f3598857dbc3cbf19ed412213329b6edd47","modified":1575942586616},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1575942586616},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1575942586617},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1575942586616},{"_id":"themes/next/languages/vi.yml","hash":"fd08d3c8d2c62965a98ac420fdaf95e54c25d97c","modified":1575942586617},{"_id":"themes/next/languages/zh-Hans.yml","hash":"16ef56d0dea94638de7d200984c90ae56f26b4fe","modified":1575942586617},{"_id":"themes/next/languages/zh-hk.yml","hash":"9396f41ae76e4fef99b257c93c7354e661f6e0fa","modified":1575942586617},{"_id":"themes/next/languages/zh-tw.yml","hash":"50b71abb3ecc0686f9739e179e2f829cd074ecd9","modified":1575942586618},{"_id":"themes/next/layout/_layout.swig","hash":"da0929166674ea637e0ad454f85ad0d7bac4aff2","modified":1575942586618},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1575942586635},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1575942586636},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1575942586636},{"_id":"themes/next/layout/page.swig","hash":"969caaee05bdea725e99016eb63d810893a73e99","modified":1575942586636},{"_id":"themes/next/layout/post.swig","hash":"b3589a8e46288a10d20e41c7a5985d2493725aec","modified":1575942586636},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1575942586637},{"_id":"themes/next/scripts/merge-configs.js","hash":"81e86717ecfb775986b945d17f0a4ba27532ef07","modified":1575942586638},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1575942586637},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1575942586638},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1575942586736},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1575942586736},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1575942586736},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586673},{"_id":"source/_posts/mysqlIndex/const.png","hash":"82cce1e16e88f05e98f1e2f5eb95541c79fb5abe","modified":1575942586548},{"_id":"source/_posts/mysqlIndex/error.png","hash":"1b3981b8f75193f57fbb890456273ba8c5a2dfa1","modified":1575942586549},{"_id":"source/_posts/mysqlIndex/exp.png","hash":"43712a827a401ca6b5dcf7388fb0b7369f521048","modified":1575942586550},{"_id":"source/_posts/mysqlIndex/towrow.png","hash":"b56fa3d5e48b7bd15c30ffc77fd574353510b6e9","modified":1575942586554},{"_id":"source/_posts/mysqlIndex/explain.png","hash":"599a4e1628da1c74ea6b662a347107a387662140","modified":1575942586551},{"_id":"source/_posts/mysqlIndex/towrowres.png","hash":"839f322e1b21c8df3fc8bc7b08b7feea9e0d43b1","modified":1575942586554},{"_id":"source/_posts/mysql数据库维护/TestSql.png","hash":"16c69cd2bad29a6e953308aa1ba950c1c6a319c9","modified":1575942586556},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1575942586618},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1575942586618},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1575942586619},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"665a928604f99d2ba7dc4a4a9150178229568cc6","modified":1575942586619},{"_id":"themes/next/layout/_macro/post.swig","hash":"446a35a2cd389f8cfc3aa38973a9b44ad0740134","modified":1575942586619},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1575942586620},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"6a54c3c85ff6b19d275827a327abbf4bd99b2ebf","modified":1575942586620},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1575942586620},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4a6f5b1792b2e5262b7fdab9a716b3108e2f09c7","modified":1575942586620},{"_id":"themes/next/layout/_partials/footer.swig","hash":"c4d6181f5d3db5365e622f78714af8cc58d7a45e","modified":1575942586621},{"_id":"themes/next/layout/_partials/head.swig","hash":"6b94fe8f3279daea5623c49ef4bb35917ba57510","modified":1575942586621},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1575942586622},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1575942586622},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1575942586622},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1575942586622},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1575942586625},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1575942586625},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"a266f96ad06ee87bdeae6e105a4b53cd587bbd04","modified":1575942586626},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1575942586632},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1575942586632},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1575942586632},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"5fe0447cc88a5a63b530cf0426f93c4634811876","modified":1575942586633},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1575942586633},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1575942586633},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1575942586633},{"_id":"themes/next/scripts/tags/button.js","hash":"d023f10a00077f47082b0517e2ad666e6e994f60","modified":1575942586639},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1575942586639},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1575942586639},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1575942586640},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1575942586640},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1575942586640},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1575942586640},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1575942586641},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1575942586641},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1575942586673},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1575942586674},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1575942586674},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1575942586674},{"_id":"themes/next/source/images/avatar.jpg","hash":"1716a9cc07e85a09c6bf8631a23172334a1b9de5","modified":1575942586675},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1575942586675},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1575942586676},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1575942586675},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1575942586676},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1575942586676},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1575942586676},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1575942586677},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1575942586677},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1575942586677},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1575942586677},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1575942586677},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1575942586678},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1575942586678},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1575942586678},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1575942586679},{"_id":"source/_posts/mongo/accu.png","hash":"9d82515d82c0b61535cfc890f87233983549dd42","modified":1575942586544},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586626},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586626},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586664},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586664},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586665},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586672},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1575942586673},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1575942586621},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1575942586622},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1575942586623},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1575942586623},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1575942586623},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1575942586624},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1575942586624},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1575942586624},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1575942586624},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1575942586625},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1575942586625},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1575942586626},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1575942586626},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1575942586626},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"1cd01c6e92ab1913d48e556a92bb4f28b6dc4996","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1575942586627},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1575942586628},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1575942586628},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1575942586628},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1575942586628},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1575942586629},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1575942586629},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1575942586630},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1575942586630},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"3b51dc50ea210a2de99da8f5663d7aceb372e766","modified":1575942586630},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1575942586630},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"aa0629277d751c55c6d973e7691bf84af9b17a60","modified":1575942586631},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"fcabbb241f894c9a6309c44e126cf3e8fea81fd4","modified":1575942586631},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1575942586631},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1575942586631},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1575942586634},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1575942586635},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1575942586635},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1575942586635},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1575942586663},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1575942586663},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1575942586664},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1575942586664},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"99fbb4686ea9a3e03a4726ed7cf4d8f529034452","modified":1575942586672},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1575942586672},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"f29165e36489a87ba32d17dddfd2720d84e3f3ec","modified":1575942586672},{"_id":"themes/next/source/css/_variables/base.styl","hash":"29c261fa6b4046322559074d75239c6b272fb8a3","modified":1575942586673},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1575942586679},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1575942586680},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1575942586680},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1575942586681},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1575942586680},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1575942586681},{"_id":"themes/next/source/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1575942586681},{"_id":"themes/next/source/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1575942586681},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1575942586682},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1575942586683},{"_id":"themes/next/source/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1575942586683},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1575942586688},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1575942586693},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1575942586693},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1575942586698},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1575942586698},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1575942586698},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1575942586698},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1575942586700},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1575942586700},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1575942586700},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1575942586700},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1575942586700},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1575942586713},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1575942586714},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1575942586714},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1575942586714},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1575942586714},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1575942586715},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1575942586715},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1575942586717},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1575942586717},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1575942586717},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1575942586718},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1575942586718},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1575942586718},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1575942586718},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1575942586719},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1575942586721},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1575942586721},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1575942586719},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1575942586721},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1575942586722},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1575942586722},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1575942586722},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1575942586722},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1575942586723},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1575942586724},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1575942586724},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1575942586725},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1575942586730},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1575942586730},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1575942586734},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1575942586735},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1575942586735},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1575942586713},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1575942586634},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1575942586634},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1575942586641},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1575942586642},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1575942586642},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1575942586642},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1575942586642},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1575942586647},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1575942586653},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1575942586660},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1575942586661},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1575942586660},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1575942586661},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1575942586662},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1575942586662},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1575942586662},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1575942586665},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1575942586665},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1575942586666},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1575942586666},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1575942586666},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1575942586666},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1575942586667},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1575942586668},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"4aac01962520d60b03b23022ab601ad4bd19c08c","modified":1575942586669},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1575942586668},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1575942586669},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1575942586669},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1575942586670},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1575942586670},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1575942586671},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1575942586671},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1575942586671},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"9d16fa3c14ed76b71229f022b63a02fd0f580958","modified":1575942586671},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1575942586682},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1575942586686},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1575942586687},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1575942586693},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1575942586693},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1575942586687},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1575942586694},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1575942586694},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1575942586694},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1575942586694},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1575942586697},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1575942586697},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1575942586698},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1575942586699},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1575942586699},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1575942586701},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1575942586701},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1575942586702},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1575942586730},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1575942586730},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1575942586667},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1575942586687},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1575942586710},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1575942586734},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1575942586643},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1575942586643},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1575942586643},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1575942586644},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1575942586644},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1575942586644},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1575942586644},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"25dc25f61a232f03ca72472b7852f882448ec185","modified":1575942586645},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1575942586645},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1575942586646},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1575942586645},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1575942586646},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1575942586646},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1575942586647},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1575942586646},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1575942586647},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1575942586647},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1575942586648},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"535b3b4f8cb1eec2558e094320e7dfb01f94c0e7","modified":1575942586648},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1575942586648},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1575942586648},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1575942586649},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1575942586649},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1575942586649},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1575942586649},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1575942586650},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1575942586650},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1575942586650},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"262debfd4442fa03d9919ceb88b948339df03fb0","modified":1575942586651},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1575942586651},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"a40c298e39608a10338a455c5c58bd1393574027","modified":1575942586651},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1575942586652},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1575942586652},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1575942586652},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1575942586652},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"12937cae17c96c74d5c58db6cb29de3b2dfa14a2","modified":1575942586652},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1575942586653},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"50305b6ad7d09d2ffa4854e39f41ec1f4fe984fd","modified":1575942586653},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1575942586653},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1575942586654},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1575942586654},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"37e951e734a252fe8a81f452b963df2ba90bfe90","modified":1575942586654},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1575942586654},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1575942586655},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1575942586655},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1575942586655},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1575942586656},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1575942586656},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1575942586655},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1575942586656},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1575942586656},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1575942586657},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1575942586657},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1575942586658},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1575942586658},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1575942586659},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1575942586658},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1ccfbd4d0f5754b2dc2719a91245c95f547a7652","modified":1575942586659},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1575942586670},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1575942586667},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1575942586668},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1575942586684},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1575942586684},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1575942586685},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1575942586685},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1575942586686},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1575942586695},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1575942586695},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1575942586696},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1575942586696},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1575942586696},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1575942586712},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1575942586706},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1575942586696},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1575942586702},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1575942586705},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1575942586692},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1575942586729},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1575942586706},{"_id":"public/content.json","hash":"a50057f7b14e3b971372bbd4c4845dfa8c7debae","modified":1575966806707},{"_id":"public/categories/index.html","hash":"02a2e822ba8ccb35d6cc49f1976dfc19870b10ae","modified":1575966807371},{"_id":"public/tag/index.html","hash":"ae0a49e78584dc960be2a504461a6f647cd81c25","modified":1575966807371},{"_id":"public/tags/index.html","hash":"53eca382c113812791c4b0be954e4fcdc2e07672","modified":1575966807376},{"_id":"public/2019/04/08/mysqlMerge/index.html","hash":"cfb27fe1605c5c0063f7fc85b70b694b9182bfb3","modified":1575966807377},{"_id":"public/2019/03/28/mysql数据库维护/index.html","hash":"b2cd86c90d5f7ba47e00e4a5907f6300154559c3","modified":1575966807377},{"_id":"public/2019/03/14/python_base/index.html","hash":"83ca755226db9dde102943876d9aec1a35982f78","modified":1575966807377},{"_id":"public/2019/03/13/bash/index.html","hash":"b9591c5bd1bafb2840abf9386bbe62d3de9e4fee","modified":1575966807377},{"_id":"public/archives/page/6/index.html","hash":"8d871c61e109266860134645ad6794bcce8c6860","modified":1575966807377},{"_id":"public/archives/2019/page/6/index.html","hash":"0898384359ae138e192c40785c32536e689daae3","modified":1575966807377},{"_id":"public/archives/2019/01/index.html","hash":"d791050a5893079cb87bc763cc5faff1a7cb13c6","modified":1575966807377},{"_id":"public/archives/2019/02/index.html","hash":"0000d9582c59c71bba3dbede4b775ea4f3c736b0","modified":1575966807377},{"_id":"public/archives/2019/03/page/2/index.html","hash":"ead10ebbe676dd12e50e8166328c1456139ffa64","modified":1575966807378},{"_id":"public/archives/2019/04/page/2/index.html","hash":"e0ad8cedac7c1da7c238b31c0538738f59cdd940","modified":1575966807378},{"_id":"public/archives/2019/07/page/2/index.html","hash":"b9f05e224641b359062a2f6a40d392c652a6dc70","modified":1575966807378},{"_id":"public/archives/2019/08/index.html","hash":"1079cea9044e9c8fab19c157fa6f7abd084cc82a","modified":1575966807378},{"_id":"public/categories/Python/page/2/index.html","hash":"8df72c45e3a2aac257aa64f7df01542d81dc2a57","modified":1575966807378},{"_id":"public/categories/Leetcode刷题/index.html","hash":"e2fcb97153ed28656e3b03fe595b987f4471d927","modified":1575966807378},{"_id":"public/categories/快捷键/index.html","hash":"4a5108c99ca1afd2ff2b7eed451e8216fa911036","modified":1575966807378},{"_id":"public/categories/数据库/index.html","hash":"b42eb3b69d6356048d1658c907921da718fb88a6","modified":1575966807378},{"_id":"public/categories/设计模式/index.html","hash":"2c659b3b60c7be61bfd355b5fd12f9ca333c4858","modified":1575966807378},{"_id":"public/categories/前端/index.html","hash":"530ee6f7816663be4593b71a45275dc4c7c3590f","modified":1575966807379},{"_id":"public/categories/数据库/Hbase/index.html","hash":"23d83d81961892a4260dbadf47caf75c2956cbef","modified":1575966807379},{"_id":"public/categories/代码整洁之道/index.html","hash":"d4fca7b0e7d94b0225b777704ce18ca78822059f","modified":1575966807379},{"_id":"public/categories/代码大全/index.html","hash":"e2a04675d91f603b53f544be5960e73235513c66","modified":1575966807379},{"_id":"public/categories/crontab/index.html","hash":"805f7c29e86209433ce074918b5e0c4ab8fa94e6","modified":1575966807379},{"_id":"public/categories/前端/react/index.html","hash":"4b8b7b2eb622ac2f5a523a6573b455b0a1a4b6c6","modified":1575966807379},{"_id":"public/categories/docker/index.html","hash":"2134533ac971c1b5dea25558424affc6c6fa1bf2","modified":1575966807379},{"_id":"public/categories/前端/typescript/index.html","hash":"b758c2328c0d1cc1891227500a59f69cea0588db","modified":1575966807379},{"_id":"public/categories/git/index.html","hash":"a30863a286ca2e7f117ea701d06634d4f34607a1","modified":1575966807379},{"_id":"public/categories/工作/index.html","hash":"1809153c81602d43cc231012a828e31dfd7368cf","modified":1575966807379},{"_id":"public/categories/前端/react/json-patch/index.html","hash":"85e93db551cb0ef2812dbd285fbd564150d38023","modified":1575966807380},{"_id":"public/categories/数据库/mongodb/index.html","hash":"2251107e045f67929ef9bdc2c5e73cbce3e407a3","modified":1575966807380},{"_id":"public/categories/数据库/mysql/index.html","hash":"647fbf29fa67e747292e4c97f690b091fffe7882","modified":1575966807380},{"_id":"public/categories/php/index.html","hash":"ae630dba28dce45b9ea5212dee5de6426729d1ef","modified":1575966807380},{"_id":"public/categories/其他/index.html","hash":"64802ab7c0f79892d5f1091a0d7a615736742912","modified":1575966807380},{"_id":"public/tags/工作/index.html","hash":"83ffcfaf164e8f3145171a62972409c6905f0997","modified":1575966807380},{"_id":"public/tags/文档/index.html","hash":"d35ed9054953ff553da33a58d6a7a67707d2fd94","modified":1575966807380},{"_id":"public/tags/基础命令/index.html","hash":"164ad77c02ebb2e963bbe601e7f6123e4eca9863","modified":1575966807380},{"_id":"public/tags/概念介绍/index.html","hash":"ec5d12fa1461e94b161d61363a8cef40d865541f","modified":1575966807381},{"_id":"public/tags/demo/index.html","hash":"42ab852782429142f9dd574112371ba412aaa981","modified":1575966807381},{"_id":"public/tags/小工具/index.html","hash":"6f0db13dc806e13b55c514640e579f4e4945de27","modified":1575966807381},{"_id":"public/tags/使用心得/index.html","hash":"fbc6510e8966637651db637255eb1da071bfbf23","modified":1575966807381},{"_id":"public/tags/优化/index.html","hash":"94643125e99fa72123b0635507c5374eb4d9cb2e","modified":1575966807381},{"_id":"public/2019/10/07/cleanCode/index.html","hash":"f0ff4a2dcfc6abedb24f647a040fb1691e511ab8","modified":1575966807381},{"_id":"public/2019/10/07/codePrinceple/index.html","hash":"8068399f582b82c7e2a73178e1871779a4f62b59","modified":1575966807381},{"_id":"public/2019/10/06/singleMode/index.html","hash":"12349202ac6761fff94cf383f4308a3110644007","modified":1575966807381},{"_id":"public/2019/10/05/producerConsumer/index.html","hash":"e83bf9c252d80fb4464e67b0636e79f9a32999be","modified":1575966807381},{"_id":"public/2019/10/05/codeComplate_01/index.html","hash":"da3b3b3357497fa0c6cc749ecda29e21a92054cc","modified":1575966807381},{"_id":"public/2019/10/04/commandMode/index.html","hash":"07e5a1ba89c71df36d58f1426dc7b907fcbef528","modified":1575966807381},{"_id":"public/2019/08/15/json/index.html","hash":"aa9094dfda0bd0d6623d72398214d9ed17a40cb6","modified":1575966807382},{"_id":"public/2019/07/29/Strategy/index.html","hash":"07c30e4f4c22fefe444cae6b121db08b6aa396f1","modified":1575966807382},{"_id":"public/2019/07/29/reactUnit/index.html","hash":"78d4553fbcfdd128f8b12586a91ddeb921147ad6","modified":1575966807382},{"_id":"public/2019/07/26/2019-03-07/index.html","hash":"193d3320fcc367dd8e31ec1192301d066d18840a","modified":1575966807382},{"_id":"public/2019/07/26/fastJsonPatch/index.html","hash":"dac1d31cb672f291c046e37a59ede669b3c893c7","modified":1575966807382},{"_id":"public/2019/07/24/SimpleFactory/index.html","hash":"6fd35d92923f9595421accf0030d1c83bf29535f","modified":1575966807382},{"_id":"public/2019/07/22/genericity/index.html","hash":"3d27daaf562bbaacf766aabe831327ee9b6c1c66","modified":1575966807382},{"_id":"public/2019/07/22/AbstractFactory/index.html","hash":"097860302181308ec04ffdf1519eca64af03dced","modified":1575966807382},{"_id":"public/2019/07/22/dePat/index.html","hash":"4d513eec46cf44c325a8bae7e523ca7a91e4749b","modified":1575966807383},{"_id":"public/2019/07/18/demo_01/index.html","hash":"83c40338cbec000b39601e3f801a010a7270fded","modified":1575966807383},{"_id":"public/2019/07/09/react_02/index.html","hash":"07eadaa4396f32b3f0eaf8148a43423a93bd5de4","modified":1575966807383},{"_id":"public/2019/07/08/react_01/index.html","hash":"5c3892bd76283b0f966346177415b5b3dcedb332","modified":1575966807383},{"_id":"public/2019/04/28/LANP/index.html","hash":"1e12a6ae0f43c529398e0db1cc34c3a15908fb62","modified":1575966807383},{"_id":"public/2019/04/24/docker/index.html","hash":"97eb410acccc76889bbdf30b565ce9d83a56f9b5","modified":1575966807383},{"_id":"public/2019/04/24/git/index.html","hash":"57ba46058f43280881bc0d0bd3ba0cde491a4e79","modified":1575966807383},{"_id":"public/2019/04/11/Log/index.html","hash":"d517d323cc18c1d3572bd8fb1b97b669a4ae6aae","modified":1575966807383},{"_id":"public/2019/04/10/crontab/index.html","hash":"870817dd10d25091207bfb6acfef5228a86a28e1","modified":1575966807383},{"_id":"public/2019/04/08/phpAlg/index.html","hash":"e7c0bca1cee9364a035b23e7646d3d430f0048bd","modified":1575966807383},{"_id":"public/2019/04/07/phpPsr/index.html","hash":"d1015b2e04b4c6bed8ec9fae6281a4b4ff038bd8","modified":1575966807383},{"_id":"public/2019/04/02/mongo1/index.html","hash":"a68ddaefb915f9ba408b855ac52d3016abaef1f8","modified":1575966807384},{"_id":"public/2019/04/02/mysqlIndex/index.html","hash":"9a3dc47f06b39a5107f0147614cfb1c7f6a36805","modified":1575966807384},{"_id":"public/2019/04/01/Hexo/index.html","hash":"0936226023e0948dc4ad5496f2f6d6d96e312e44","modified":1575966807384},{"_id":"public/2019/03/28/wechat/index.html","hash":"a63e180c94419b2585ecfc483a5dcff20787bf99","modified":1575966807384},{"_id":"public/2019/03/28/Laurel/index.html","hash":"fd99d11824dfd00b3518b8931e435e86dffaafed","modified":1575966807384},{"_id":"public/2019/03/15/pythonset/index.html","hash":"adb7e752e8f167f4214bb44434865b34fa7c04cd","modified":1575966807384},{"_id":"public/2019/03/15/pythonlist/index.html","hash":"4762b1fd3692629f35711c5a0a4773518cd6d686","modified":1575966807384},{"_id":"public/2019/03/15/pythonStructure/index.html","hash":"ce852553834da0a4b3f6f2f14227e7e007571ffe","modified":1575966807385},{"_id":"public/2019/03/15/pythondeque/index.html","hash":"de87a8a06411e2a9e8dc3f4000d50026277e5216","modified":1575966807385},{"_id":"public/2019/03/14/generators/index.html","hash":"51c6d1dbdd41b6034cceb3cc8a1d130bf4f599a8","modified":1575966807385},{"_id":"public/2019/03/14/python_debugger/index.html","hash":"df602d3b05aa2e8f6755b8e690ac4e9859c17321","modified":1575966807385},{"_id":"public/2019/03/14/python/index.html","hash":"2735618789694189d18ac0f0fa87b0805892aa64","modified":1575966807385},{"_id":"public/2019/03/05/20190220/index.html","hash":"6664017cc687feb994cbee4602ddc5b38da81b83","modified":1575966807385},{"_id":"public/2019/03/02/20190213/index.html","hash":"33fa58862465a577c7fff58207d063d491f5f4a4","modified":1575966807386},{"_id":"public/2019/03/02/20190214/index.html","hash":"4d2a96ebf13d9e307d06cc101675b113fe924bd2","modified":1575966807386},{"_id":"public/2019/02/28/vim/index.html","hash":"0645dc63a420da6b4da1cfc0d332bb1ace020866","modified":1575966807386},{"_id":"public/2019/02/28/20190227/index.html","hash":"fe797d7a433c79eeb4c9ac55ccbea0fd95df4d1d","modified":1575966807386},{"_id":"public/2019/02/26/2019-02-26/index.html","hash":"003a2d8f3314dbcef73a4bf882c41628fc667b20","modified":1575966807386},{"_id":"public/2019/02/02/20190202/index.html","hash":"1316b46a606f5674a43668e77196fa352116fe54","modified":1575966807386},{"_id":"public/2019/02/01/2019_01_01/index.html","hash":"e81db2614cec18f3ad21e3371627cdd0543d01f2","modified":1575966807386},{"_id":"public/2019/01/31/test-my-site/index.html","hash":"65bb6e3e9ec1a8dce365a15217f68d3d398e6732","modified":1575966807386},{"_id":"public/archives/index.html","hash":"3eaa72ef5eee0d69ff2ace7b727128c6f1c768f3","modified":1575966807386},{"_id":"public/archives/page/2/index.html","hash":"e337eba3caac65e2f1eb0d92b231ca6ae504d48d","modified":1575966807387},{"_id":"public/archives/page/3/index.html","hash":"fa3fc3013a46d9356bb490ccc29eff37711f1082","modified":1575966807387},{"_id":"public/archives/page/4/index.html","hash":"45143701e2e183cf2401608bdd6c393306e566b9","modified":1575966807387},{"_id":"public/archives/page/5/index.html","hash":"4659f1597d8efb80b48e2f0d8131a81b02d9e318","modified":1575966807387},{"_id":"public/archives/2019/index.html","hash":"50fb00db45bf0a90348843ad291ec20952deed87","modified":1575966807387},{"_id":"public/archives/2019/page/2/index.html","hash":"68e2255ae821f958c7c2fd1d91e5bdb758cd22f7","modified":1575966807387},{"_id":"public/archives/2019/page/3/index.html","hash":"7483e6ce7ed4d24e3b7a26ba815f71ccfbd7ef72","modified":1575966807387},{"_id":"public/archives/2019/page/4/index.html","hash":"24b302ec53a99b7c8f385d842fc82c8d9363cff6","modified":1575966807387},{"_id":"public/archives/2019/page/5/index.html","hash":"8db2609e721a8cd4c673e967df186e4e3b5840c7","modified":1575966807387},{"_id":"public/archives/2019/03/index.html","hash":"211a50b32dd1b2994f5587b8153833e60a858766","modified":1575966807387},{"_id":"public/archives/2019/04/index.html","hash":"cee44aaa497183ad17948f85a2c1e9a5a469c310","modified":1575966807388},{"_id":"public/archives/2019/07/index.html","hash":"9d0a2360a41b335cbb96595ca3fbcdb93a3f95f3","modified":1575966807388},{"_id":"public/archives/2019/10/index.html","hash":"4af963dbfca8fb0d885db72d7230021d7496128f","modified":1575966807388},{"_id":"public/categories/Python/index.html","hash":"9f163f1a94903d400d73a8aa05782f0eb8a384b4","modified":1575966807388},{"_id":"public/index.html","hash":"4d6ca7b3adc36a766433b0f9548638d926faa0f7","modified":1575966807388},{"_id":"public/page/2/index.html","hash":"b88f3019a812dfa64e689104617d8fd59bf172f9","modified":1575966807388},{"_id":"public/page/3/index.html","hash":"9ca9dc218228b1effd658a266afd0ea1d0f3f474","modified":1575966807389},{"_id":"public/page/4/index.html","hash":"785412ff190f4ac6dd6e60d8c062eb5e9ebc6954","modified":1575966807389},{"_id":"public/page/5/index.html","hash":"9bf611ed024284b326e870f22a7fb60e07fcca88","modified":1575966807389},{"_id":"public/page/6/index.html","hash":"61ee55afc71235f6be2e2c264bbe1ed8c4953483","modified":1575966807389},{"_id":"public/tags/学习/index.html","hash":"736f623d574828afc5093907a8ccd180eef89f92","modified":1575966807390},{"_id":"public/2019/10/05/work/index.html","hash":"03efd699c4b83963ca3abbc81c9d2390b959241a","modified":1575966807418},{"_id":"public/archives/2019/10/page/2/index.html","hash":"25d00852b3c31d1c96edbba5f3617f494f03241e","modified":1575966807418},{"_id":"public/archives/2019/12/index.html","hash":"fb3b7716b857f2e546a4031d1961484c098f71af","modified":1575966807419},{"_id":"public/categories/学习/index.html","hash":"b99fc183c4171b7219379c883eec6abe61c942d0","modified":1575966807419},{"_id":"public/categories/工作经验/index.html","hash":"7fb662182dc1c48fba65838cc5b23561e8b1c961","modified":1575966807419},{"_id":"public/tags/测试/index.html","hash":"b05b1172700b9b00fdf88da040ab3ad1ba199efa","modified":1575966807419},{"_id":"public/tags/go/index.html","hash":"99a2226101844ff10140ab6f84d0ff894d461dd1","modified":1575966807419},{"_id":"public/2019/12/10/unitTest/index.html","hash":"a69946ecf043369e5ea20bea54168c54aa1a60db","modified":1575966807419},{"_id":"public/2019/12/10/webassembly_go_1/index.html","hash":"14387cb399f414bfa73b2dae6fda391f53038ff7","modified":1575966807419},{"_id":"public/2019/10/29/design_singleton/index.html","hash":"2101947194f281a9bc78637ba96ed6e6896c8338","modified":1575966807420},{"_id":"public/2019/10/22/react_06/index.html","hash":"2961c04db81c53be3f54c8b375c071299aeb4146","modified":1575966807420},{"_id":"public/2019/10/22/react_base/index.html","hash":"f4d698c708434786db76f421e34064f2b39f27bf","modified":1575966807420},{"_id":"public/2019/10/20/mongoComplex/index.html","hash":"59c191df58334f9ff2d894d5d0d6655bf904fd9a","modified":1575966807420},{"_id":"public/CNAME","hash":"dac3047bdaad738a16aaab63234471641eb98a13","modified":1575966807432},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1575966807432},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1575966807432},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1575966807432},{"_id":"public/images/avatar.jpg","hash":"1716a9cc07e85a09c6bf8631a23172334a1b9de5","modified":1575966807433},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1575966807433},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1575966807433},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1575966807433},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1575966807433},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1575966807433},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1575966807433},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1575966807433},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1575966807434},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1575966807434},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1575966807434},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1575966807434},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1575966807435},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1575966807435},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1575966807435},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1575966807435},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1575966807435},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1575966807435},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1575966807435},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1575966807435},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1575966807436},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1575966807436},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1575966807436},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1575966807436},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1575966807436},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1575966807436},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1575966807436},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1575966807436},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1575966807436},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1575966807437},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1575966807437},{"_id":"public/2019/03/28/mysql数据库维护/TestSql.png","hash":"16c69cd2bad29a6e953308aa1ba950c1c6a319c9","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/const.png","hash":"82cce1e16e88f05e98f1e2f5eb95541c79fb5abe","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/error.png","hash":"1b3981b8f75193f57fbb890456273ba8c5a2dfa1","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/exp.png","hash":"43712a827a401ca6b5dcf7388fb0b7369f521048","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/explain.png","hash":"599a4e1628da1c74ea6b662a347107a387662140","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/towrow.png","hash":"b56fa3d5e48b7bd15c30ffc77fd574353510b6e9","modified":1575966807437},{"_id":"public/2019/04/02/mysqlIndex/towrowres.png","hash":"839f322e1b21c8df3fc8bc7b08b7feea9e0d43b1","modified":1575966807437},{"_id":"public/uploads/avatar.jpg","hash":"1716a9cc07e85a09c6bf8631a23172334a1b9de5","modified":1575966808319},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1575966808322},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1575966808333},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1575966808369},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1575966808369},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1575966808371},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1575966808371},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1575966808371},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1575966808371},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1575966808371},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1575966808371},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1575966808371},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1575966808372},{"_id":"public/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1575966808372},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1575966808372},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1575966808372},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1575966808372},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1575966808372},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1575966808372},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1575966808372},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1575966808372},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1575966808372},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1575966808373},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1575966808374},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1575966808374},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1575966808374},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1575966808374},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1575966808374},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1575966808375},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1575966808375},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1575966808375},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1575966808376},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1575966808376},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1575966808376},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1575966808377},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1575966808377},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1575966808377},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1575966808378},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1575966808378},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1575966808378},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1575966808379},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1575966808379},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1575966808379},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1575966808380},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1575966808380},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1575966808380},{"_id":"public/css/main.css","hash":"1460613b5c32fe9d006d77a1c7ec9f5354759d11","modified":1575966808380},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1575966808381},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1575966808381},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1575966808381},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1575966808382},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1575966808382},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1575966808383},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1575966808383},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1575966808383},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1575966808384},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1575966808384},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1575966808386},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1575966808388},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1575966808388},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1575966808389},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1575966808389},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1575966808390},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1575966808390},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1575966808391},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1575966808391},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1575966808392},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1575966808393},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1575966808412},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1575966808429},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1575966808459}],"Category":[{"name":"Python","_id":"ck3zlxwpz0004d87p0oz2ad7f"},{"name":"Leetcode刷题","_id":"ck3zlxwqd000ad87p3u247oke"},{"name":"快捷键","_id":"ck3zlxwr1000pd87p2ya9wbul"},{"name":"数据库","_id":"ck3zlxwr6000xd87pbexlx0rd"},{"name":"设计模式","_id":"ck3zlxwr90013d87pt4y93bne"},{"name":"前端","_id":"ck3zlxwrg0019d87pya5zhjqv"},{"name":"Hbase","parent":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxwrm001gd87pktf2c6jf"},{"name":"代码整洁之道","_id":"ck3zlxwrz001td87ppyfclyrz"},{"name":"代码大全","_id":"ck3zlxws60021d87puhtaxvr2"},{"name":"crontab","_id":"ck3zlxwsd002ad87pqwgfwuaq"},{"name":"react","parent":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxwsh002hd87pjrhfs676"},{"name":"docker","_id":"ck3zlxwsn002od87po3qyn9eh"},{"name":"typescript","parent":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxwsw002sd87p3p7tv7df"},{"name":"git","_id":"ck3zlxwta002yd87pgnbi619n"},{"name":"工作","_id":"ck3zlxwth0033d87pqc87nzwc"},{"name":"json-patch","parent":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxwto0039d87po4s1gh5u"},{"name":"mongodb","parent":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxwtx003ed87pc2ze6r2u"},{"name":"mysql","parent":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxwuw003pd87pye7i8wte"},{"name":"php","_id":"ck3zlxwvo0046d87ptjsquatc"},{"name":"学习","_id":"ck3zlxww0004ld87p0b7tbufb"},{"name":"其他","_id":"ck3zlxww3004td87py4ya2xcy"},{"name":"工作经验","_id":"ck3zlxww3004wd87pg8vzlwtq"}],"Data":[],"Page":[{"title":"文章分类","date":"2019-07-20T08:48:43.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 文章分类\ndate: 2019-07-20 16:48:43\ntype: \"categories\"\n---\n","updated":"2019-12-10T01:49:46.565Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ck3zlxwpm0001d87pokmi216o","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tag","date":"2019-04-03T09:39:45.000Z","_content":"","source":"tag/index.md","raw":"---\ntitle: tag\ndate: 2019-04-03 17:39:45\n---\n","updated":"2019-12-10T01:49:46.565Z","path":"tag/index.html","comments":1,"layout":"page","_id":"ck3zlxwps0003d87p9sf3x0iy","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","date":"2019-07-20T09:14:21.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2019-07-20 17:14:21\ntype: \"tags\"\n---\n","updated":"2019-12-10T01:49:46.565Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ck3zlxwq60007d87pm26uork1","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Monthly报表完成心得","date":"2019-02-26T08:10:10.000Z","_content":"## 1 知识点\n#### 添加日志\n引入logging包，引入log文件即可\n```\nlogging.basicConfig(filename=\"/tmp/bi_dsvcs/app.log\", level = logging.DEBUG)\n```\n有四种级别INFO, DEBUG, WARNING, ERROR, CRITICAL, FATAL\n#### 获取月份列表\n**需求**\n需要获取月份数据['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11']\n**原本解决办法**\n直接定义了一个这样的数组\n**新方法**\nrange()从0到13，再在一位数前补零\n**实现代码**\n```\ntheMonth = range(0, 13)\nmonthKey = map(lambda x:'%02d' % x, theMonth)\n```\n**新方法2**\n[\"%02d\" % x for x in range(1,13)]\n#### 数据库导入导出\nshell脚本里添加mysqldump导出数据\n导入数据为避免更改表结构，直接mysql -u……连接到库，执行insert操作\n#### gunicorn配置\n使用supervisor配置gunicorn，我本地虚拟机配置如下\n```\n[program:bi_dsvcs]\ncommand=python /usr/bin/gunicorn -c /spython/bi_dsvcs/gunicorn.cnf dsvcs:app\nprocess_name=%(program_name)s/%(process_num)d\ndirectory=/spython/bi_dsvcs\nnumprocs=1\nautostart=true\nautorestart=true\nuser=developer\nredirect_stderr=true\nstdout_logfile=/tmp/bi_dsvcs.interface.info_stdout.log\nstderr_logfile=/tmpbi_dsvcs.interface.error_stderr.loga\n```\n##2 注意事项\n#### group_concat\nGROUP_CONCAT()会截断数据，限制长度为1024字节\n#### dict\ndict不可以直接添加二维数据,需要判断第一维是否已经存在\n```\ndef addtwodimdict(thedict, key_a, key_b, val): \n    if key_a in adic:\n        thedict[key_a].update({key_b: val})\n    else:\n        thedict.update({key_a:{key_b: val}})\n```\n#### list的append()和extend()区别\n(1)append()\n接受任意数据类型添加到list尾部\n(2)extend()\n只接受list，将这个list每个元素添加到list中\n#### 部署后404但是代码确实已部署上去\nsupervisor可能没有重启，重启supervisor或者直接bi_dsvcs/ ./dsvcs restart \n","source":"_posts/2019-02-26.md","raw":"---\ntitle: Monthly报表完成心得\ndate: 2019-02-26 16:10:10\ntags: 工作\ncategories: Python\n---\n## 1 知识点\n#### 添加日志\n引入logging包，引入log文件即可\n```\nlogging.basicConfig(filename=\"/tmp/bi_dsvcs/app.log\", level = logging.DEBUG)\n```\n有四种级别INFO, DEBUG, WARNING, ERROR, CRITICAL, FATAL\n#### 获取月份列表\n**需求**\n需要获取月份数据['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11']\n**原本解决办法**\n直接定义了一个这样的数组\n**新方法**\nrange()从0到13，再在一位数前补零\n**实现代码**\n```\ntheMonth = range(0, 13)\nmonthKey = map(lambda x:'%02d' % x, theMonth)\n```\n**新方法2**\n[\"%02d\" % x for x in range(1,13)]\n#### 数据库导入导出\nshell脚本里添加mysqldump导出数据\n导入数据为避免更改表结构，直接mysql -u……连接到库，执行insert操作\n#### gunicorn配置\n使用supervisor配置gunicorn，我本地虚拟机配置如下\n```\n[program:bi_dsvcs]\ncommand=python /usr/bin/gunicorn -c /spython/bi_dsvcs/gunicorn.cnf dsvcs:app\nprocess_name=%(program_name)s/%(process_num)d\ndirectory=/spython/bi_dsvcs\nnumprocs=1\nautostart=true\nautorestart=true\nuser=developer\nredirect_stderr=true\nstdout_logfile=/tmp/bi_dsvcs.interface.info_stdout.log\nstderr_logfile=/tmpbi_dsvcs.interface.error_stderr.loga\n```\n##2 注意事项\n#### group_concat\nGROUP_CONCAT()会截断数据，限制长度为1024字节\n#### dict\ndict不可以直接添加二维数据,需要判断第一维是否已经存在\n```\ndef addtwodimdict(thedict, key_a, key_b, val): \n    if key_a in adic:\n        thedict[key_a].update({key_b: val})\n    else:\n        thedict.update({key_a:{key_b: val}})\n```\n#### list的append()和extend()区别\n(1)append()\n接受任意数据类型添加到list尾部\n(2)extend()\n只接受list，将这个list每个元素添加到list中\n#### 部署后404但是代码确实已部署上去\nsupervisor可能没有重启，重启supervisor或者直接bi_dsvcs/ ./dsvcs restart \n","slug":"2019-02-26","published":1,"updated":"2019-12-10T01:49:46.529Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwpe0000d87pqe2m18z0","content":"<h2 id=\"1-知识点\"><a href=\"#1-知识点\" class=\"headerlink\" title=\"1 知识点\"></a>1 知识点</h2><h4 id=\"添加日志\"><a href=\"#添加日志\" class=\"headerlink\" title=\"添加日志\"></a>添加日志</h4><p>引入logging包，引入log文件即可<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">logging.basicConfig(filename=&quot;/tmp/bi_dsvcs/app.log&quot;, level = logging.DEBUG)</span><br></pre></td></tr></table></figure></p>\n<p>有四种级别INFO, DEBUG, WARNING, ERROR, CRITICAL, FATAL</p>\n<h4 id=\"获取月份列表\"><a href=\"#获取月份列表\" class=\"headerlink\" title=\"获取月份列表\"></a>获取月份列表</h4><p><strong>需求</strong><br>需要获取月份数据[‘00’, ‘01’, ‘02’, ‘03’, ‘04’, ‘05’, ‘06’, ‘07’, ‘08’, ‘09’, ‘10’, ‘11’]<br><strong>原本解决办法</strong><br>直接定义了一个这样的数组<br><strong>新方法</strong><br>range()从0到13，再在一位数前补零<br><strong>实现代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">theMonth = range(0, 13)</span><br><span class=\"line\">monthKey = map(lambda x:&apos;%02d&apos; % x, theMonth)</span><br></pre></td></tr></table></figure></p>\n<p><strong>新方法2</strong><br>[“%02d” % x for x in range(1,13)]</p>\n<h4 id=\"数据库导入导出\"><a href=\"#数据库导入导出\" class=\"headerlink\" title=\"数据库导入导出\"></a>数据库导入导出</h4><p>shell脚本里添加mysqldump导出数据<br>导入数据为避免更改表结构，直接mysql -u……连接到库，执行insert操作</p>\n<h4 id=\"gunicorn配置\"><a href=\"#gunicorn配置\" class=\"headerlink\" title=\"gunicorn配置\"></a>gunicorn配置</h4><p>使用supervisor配置gunicorn，我本地虚拟机配置如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[program:bi_dsvcs]</span><br><span class=\"line\">command=python /usr/bin/gunicorn -c /spython/bi_dsvcs/gunicorn.cnf dsvcs:app</span><br><span class=\"line\">process_name=%(program_name)s/%(process_num)d</span><br><span class=\"line\">directory=/spython/bi_dsvcs</span><br><span class=\"line\">numprocs=1</span><br><span class=\"line\">autostart=true</span><br><span class=\"line\">autorestart=true</span><br><span class=\"line\">user=developer</span><br><span class=\"line\">redirect_stderr=true</span><br><span class=\"line\">stdout_logfile=/tmp/bi_dsvcs.interface.info_stdout.log</span><br><span class=\"line\">stderr_logfile=/tmpbi_dsvcs.interface.error_stderr.loga</span><br></pre></td></tr></table></figure></p>\n<p>##2 注意事项</p>\n<h4 id=\"group-concat\"><a href=\"#group-concat\" class=\"headerlink\" title=\"group_concat\"></a>group_concat</h4><p>GROUP_CONCAT()会截断数据，限制长度为1024字节</p>\n<h4 id=\"dict\"><a href=\"#dict\" class=\"headerlink\" title=\"dict\"></a>dict</h4><p>dict不可以直接添加二维数据,需要判断第一维是否已经存在<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def addtwodimdict(thedict, key_a, key_b, val): </span><br><span class=\"line\">    if key_a in adic:</span><br><span class=\"line\">        thedict[key_a].update(&#123;key_b: val&#125;)</span><br><span class=\"line\">    else:</span><br><span class=\"line\">        thedict.update(&#123;key_a:&#123;key_b: val&#125;&#125;)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"list的append-和extend-区别\"><a href=\"#list的append-和extend-区别\" class=\"headerlink\" title=\"list的append()和extend()区别\"></a>list的append()和extend()区别</h4><p>(1)append()<br>接受任意数据类型添加到list尾部<br>(2)extend()<br>只接受list，将这个list每个元素添加到list中</p>\n<h4 id=\"部署后404但是代码确实已部署上去\"><a href=\"#部署后404但是代码确实已部署上去\" class=\"headerlink\" title=\"部署后404但是代码确实已部署上去\"></a>部署后404但是代码确实已部署上去</h4><p>supervisor可能没有重启，重启supervisor或者直接bi_dsvcs/ ./dsvcs restart </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-知识点\"><a href=\"#1-知识点\" class=\"headerlink\" title=\"1 知识点\"></a>1 知识点</h2><h4 id=\"添加日志\"><a href=\"#添加日志\" class=\"headerlink\" title=\"添加日志\"></a>添加日志</h4><p>引入logging包，引入log文件即可<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">logging.basicConfig(filename=&quot;/tmp/bi_dsvcs/app.log&quot;, level = logging.DEBUG)</span><br></pre></td></tr></table></figure></p>\n<p>有四种级别INFO, DEBUG, WARNING, ERROR, CRITICAL, FATAL</p>\n<h4 id=\"获取月份列表\"><a href=\"#获取月份列表\" class=\"headerlink\" title=\"获取月份列表\"></a>获取月份列表</h4><p><strong>需求</strong><br>需要获取月份数据[‘00’, ‘01’, ‘02’, ‘03’, ‘04’, ‘05’, ‘06’, ‘07’, ‘08’, ‘09’, ‘10’, ‘11’]<br><strong>原本解决办法</strong><br>直接定义了一个这样的数组<br><strong>新方法</strong><br>range()从0到13，再在一位数前补零<br><strong>实现代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">theMonth = range(0, 13)</span><br><span class=\"line\">monthKey = map(lambda x:&apos;%02d&apos; % x, theMonth)</span><br></pre></td></tr></table></figure></p>\n<p><strong>新方法2</strong><br>[“%02d” % x for x in range(1,13)]</p>\n<h4 id=\"数据库导入导出\"><a href=\"#数据库导入导出\" class=\"headerlink\" title=\"数据库导入导出\"></a>数据库导入导出</h4><p>shell脚本里添加mysqldump导出数据<br>导入数据为避免更改表结构，直接mysql -u……连接到库，执行insert操作</p>\n<h4 id=\"gunicorn配置\"><a href=\"#gunicorn配置\" class=\"headerlink\" title=\"gunicorn配置\"></a>gunicorn配置</h4><p>使用supervisor配置gunicorn，我本地虚拟机配置如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[program:bi_dsvcs]</span><br><span class=\"line\">command=python /usr/bin/gunicorn -c /spython/bi_dsvcs/gunicorn.cnf dsvcs:app</span><br><span class=\"line\">process_name=%(program_name)s/%(process_num)d</span><br><span class=\"line\">directory=/spython/bi_dsvcs</span><br><span class=\"line\">numprocs=1</span><br><span class=\"line\">autostart=true</span><br><span class=\"line\">autorestart=true</span><br><span class=\"line\">user=developer</span><br><span class=\"line\">redirect_stderr=true</span><br><span class=\"line\">stdout_logfile=/tmp/bi_dsvcs.interface.info_stdout.log</span><br><span class=\"line\">stderr_logfile=/tmpbi_dsvcs.interface.error_stderr.loga</span><br></pre></td></tr></table></figure></p>\n<p>##2 注意事项</p>\n<h4 id=\"group-concat\"><a href=\"#group-concat\" class=\"headerlink\" title=\"group_concat\"></a>group_concat</h4><p>GROUP_CONCAT()会截断数据，限制长度为1024字节</p>\n<h4 id=\"dict\"><a href=\"#dict\" class=\"headerlink\" title=\"dict\"></a>dict</h4><p>dict不可以直接添加二维数据,需要判断第一维是否已经存在<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def addtwodimdict(thedict, key_a, key_b, val): </span><br><span class=\"line\">    if key_a in adic:</span><br><span class=\"line\">        thedict[key_a].update(&#123;key_b: val&#125;)</span><br><span class=\"line\">    else:</span><br><span class=\"line\">        thedict.update(&#123;key_a:&#123;key_b: val&#125;&#125;)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"list的append-和extend-区别\"><a href=\"#list的append-和extend-区别\" class=\"headerlink\" title=\"list的append()和extend()区别\"></a>list的append()和extend()区别</h4><p>(1)append()<br>接受任意数据类型添加到list尾部<br>(2)extend()<br>只接受list，将这个list每个元素添加到list中</p>\n<h4 id=\"部署后404但是代码确实已部署上去\"><a href=\"#部署后404但是代码确实已部署上去\" class=\"headerlink\" title=\"部署后404但是代码确实已部署上去\"></a>部署后404但是代码确实已部署上去</h4><p>supervisor可能没有重启，重启supervisor或者直接bi_dsvcs/ ./dsvcs restart </p>\n"},{"title":"Leetcode刷题","date":"2019-07-26T08:10:10.000Z","_content":"#### 1 两数之和\n**描述**\n给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。\n你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。\n**示例**\n```\n给定 nums = [2, 7, 11, 15], target = 9\n因为 nums[0] + nums[1] = 2 + 7 = 9\n所以返回 [0, 1]\n```\n","source":"_posts/2019-03-07.md","raw":"---\ntitle: Leetcode刷题\ndate: 2019-07-26 16:10:10\ntags: 学习\ncategories: Leetcode刷题\n---\n#### 1 两数之和\n**描述**\n给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。\n你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。\n**示例**\n```\n给定 nums = [2, 7, 11, 15], target = 9\n因为 nums[0] + nums[1] = 2 + 7 = 9\n所以返回 [0, 1]\n```\n","slug":"2019-03-07","published":1,"updated":"2019-12-10T01:49:46.529Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwpp0002d87phyva3hqr","content":"<h4 id=\"1-两数之和\"><a href=\"#1-两数之和\" class=\"headerlink\" title=\"1 两数之和\"></a>1 两数之和</h4><p><strong>描述</strong><br>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。<br>你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。<br><strong>示例</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">给定 nums = [2, 7, 11, 15], target = 9</span><br><span class=\"line\">因为 nums[0] + nums[1] = 2 + 7 = 9</span><br><span class=\"line\">所以返回 [0, 1]</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"1-两数之和\"><a href=\"#1-两数之和\" class=\"headerlink\" title=\"1 两数之和\"></a>1 两数之和</h4><p><strong>描述</strong><br>给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。<br>你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。<br><strong>示例</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">给定 nums = [2, 7, 11, 15], target = 9</span><br><span class=\"line\">因为 nums[0] + nums[1] = 2 + 7 = 9</span><br><span class=\"line\">所以返回 [0, 1]</span><br></pre></td></tr></table></figure></p>\n"},{"title":"python100例学习笔记","date":"2019-02-02T05:25:21.000Z","_content":"## 四个数组成不重复三位数\n**描述**\n有四个数字，1,2,3,4，能组成多少个不重复的三位数\n**思考**\n原文分析：将所有的数字排列组合后去掉不满足条件的列\n**代码**\n```\nnum = 1;\nfor i in range(1,5):\n    for j in range(1,5):\n        for k in range(1,5):\n            if(i != k) and (i != j) and (j != k): \n                print i,j,k\n                num = num + 1 \nprint num\n```\n**扩展**\n循环三次效率很低，每次循环都是1-5，有没有更好的解决办法\n## 2 \n","source":"_posts/20190202.md","raw":"---\ntitle: python100例学习笔记\ndate: 2019-02-02 13:25:21\ntags: 学习\ncategories: Python\n---\n## 四个数组成不重复三位数\n**描述**\n有四个数字，1,2,3,4，能组成多少个不重复的三位数\n**思考**\n原文分析：将所有的数字排列组合后去掉不满足条件的列\n**代码**\n```\nnum = 1;\nfor i in range(1,5):\n    for j in range(1,5):\n        for k in range(1,5):\n            if(i != k) and (i != j) and (j != k): \n                print i,j,k\n                num = num + 1 \nprint num\n```\n**扩展**\n循环三次效率很低，每次循环都是1-5，有没有更好的解决办法\n## 2 \n","slug":"20190202","published":1,"updated":"2019-12-10T01:49:46.530Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwq40006d87p619ujw9n","content":"<h2 id=\"四个数组成不重复三位数\"><a href=\"#四个数组成不重复三位数\" class=\"headerlink\" title=\"四个数组成不重复三位数\"></a>四个数组成不重复三位数</h2><p><strong>描述</strong><br>有四个数字，1,2,3,4，能组成多少个不重复的三位数<br><strong>思考</strong><br>原文分析：将所有的数字排列组合后去掉不满足条件的列<br><strong>代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num = 1;</span><br><span class=\"line\">for i in range(1,5):</span><br><span class=\"line\">    for j in range(1,5):</span><br><span class=\"line\">        for k in range(1,5):</span><br><span class=\"line\">            if(i != k) and (i != j) and (j != k): </span><br><span class=\"line\">                print i,j,k</span><br><span class=\"line\">                num = num + 1 </span><br><span class=\"line\">print num</span><br></pre></td></tr></table></figure></p>\n<p><strong>扩展</strong><br>循环三次效率很低，每次循环都是1-5，有没有更好的解决办法</p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"四个数组成不重复三位数\"><a href=\"#四个数组成不重复三位数\" class=\"headerlink\" title=\"四个数组成不重复三位数\"></a>四个数组成不重复三位数</h2><p><strong>描述</strong><br>有四个数字，1,2,3,4，能组成多少个不重复的三位数<br><strong>思考</strong><br>原文分析：将所有的数字排列组合后去掉不满足条件的列<br><strong>代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num = 1;</span><br><span class=\"line\">for i in range(1,5):</span><br><span class=\"line\">    for j in range(1,5):</span><br><span class=\"line\">        for k in range(1,5):</span><br><span class=\"line\">            if(i != k) and (i != j) and (j != k): </span><br><span class=\"line\">                print i,j,k</span><br><span class=\"line\">                num = num + 1 </span><br><span class=\"line\">print num</span><br></pre></td></tr></table></figure></p>\n<p><strong>扩展</strong><br>循环三次效率很低，每次循环都是1-5，有没有更好的解决办法</p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2>"},{"title":"分析bi数据获取流程","date":"2019-03-02T05:25:21.000Z","_content":"### 一：导入数据\n#### 1. bi_etl:通过定时任务脚本将数据从源数据库导出：\n（1） 修改配置文件，执行dump_order.sh，导入部分测试数据\n（2）其中mysqldump导出数据到文件中\n（3）shell无法直接执行source，可以用bash来操作，命令：sudo bash dump_order.sh\n（4）sh文件可能是在windows下面编辑的，在vim中使用set fileformat=unix 去除\\M字符\n（5）运行sh文件可在data目录下生成sql文件\n（6）注意事项：\n\t为什么不使用增量：因为有个中间表没有update_at，financial的表不能随意加字段\n\n**1-1修改:**\n（1）第一步导数据，源数据（来自于order_system）已经执行了删除五张表的三个字段，因此导出的数据结构和以前导出的数据结构是不一样的；\n#### 2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**\n（1）由于本地无法直接部署jump server,直接拷贝刚才生成的文件到bi_new的upload中；\n（2）load_new.sh文件读取的是data.tar.gz压缩文件，因此直接压缩整个data文件夹到upload文件夹下\n\n#### 3. bi_dsvcs读取数据并存入bi_new数据库\n（1）修改配置文件（不修改可能会覆盖线上数据）\n（2）执行脚本并去除\\M字符(会读取conf文件，set ff=unix可以去除/r字符)\n（2）在load_new.sh脚本中（使用了mysql的source命令）将刚才文件中的数据导入ori_new数据库中\n（4）注意事项：sh文件中使用了tar -xvf 解压data文件，但是实际上没有解压成功，文件不存在，可以直接复制所有文件\n\n**3-2修改：**\n（1）执行sql命令直接修改ori_new的结构，命令如下：\n\n```sql\nuse ori_new;\nalter table `order_product` add `departure_date` date DEFAULT NULL;\nalter table `order_product` add `end_date` date DEFAULT NULL;\nalter table `order_product` add `product_status` int(11) NOT NULL DEFAULT '10000';\nalter table `order_order_product_combine` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_customize` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_hotel` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_oneday` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_ticket` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_tour` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\n\n```\n#### 4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据\n（1）module/order.py:__get_order_product_line_table:定义了操作的五张表：\norder_order_product_oneday、order_order_product_tour，order_order_product_ticket，order_order_product_hotel，order_order_product_combine\norder_product_tff表从ori_new就没有导入；order_product_customize单独操作\n（2）class OrderProduct \n\n**4-2修改：**\n（1）bi数据库的order_product表不存在end_date,departure_date两个字段；order_product_customize存在这两个字段，修改方法如下：\n\n```sql\nuse bi;\nalter table `order_product` add `departure_date` date DEFAULT NULL;\nalter table `order_product` add `end_date` date DEFAULT NULL;\nalter table `order_order_product_customize` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\n\n```\n （2）修改代码\n\n        \n\n","source":"_posts/20190213.md","raw":"---\ntitle: 分析bi数据获取流程\ndate: 2019-03-02 13:25:21\ntags: 工作\ncategories: Python\n---\n### 一：导入数据\n#### 1. bi_etl:通过定时任务脚本将数据从源数据库导出：\n（1） 修改配置文件，执行dump_order.sh，导入部分测试数据\n（2）其中mysqldump导出数据到文件中\n（3）shell无法直接执行source，可以用bash来操作，命令：sudo bash dump_order.sh\n（4）sh文件可能是在windows下面编辑的，在vim中使用set fileformat=unix 去除\\M字符\n（5）运行sh文件可在data目录下生成sql文件\n（6）注意事项：\n\t为什么不使用增量：因为有个中间表没有update_at，financial的表不能随意加字段\n\n**1-1修改:**\n（1）第一步导数据，源数据（来自于order_system）已经执行了删除五张表的三个字段，因此导出的数据结构和以前导出的数据结构是不一样的；\n#### 2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**\n（1）由于本地无法直接部署jump server,直接拷贝刚才生成的文件到bi_new的upload中；\n（2）load_new.sh文件读取的是data.tar.gz压缩文件，因此直接压缩整个data文件夹到upload文件夹下\n\n#### 3. bi_dsvcs读取数据并存入bi_new数据库\n（1）修改配置文件（不修改可能会覆盖线上数据）\n（2）执行脚本并去除\\M字符(会读取conf文件，set ff=unix可以去除/r字符)\n（2）在load_new.sh脚本中（使用了mysql的source命令）将刚才文件中的数据导入ori_new数据库中\n（4）注意事项：sh文件中使用了tar -xvf 解压data文件，但是实际上没有解压成功，文件不存在，可以直接复制所有文件\n\n**3-2修改：**\n（1）执行sql命令直接修改ori_new的结构，命令如下：\n\n```sql\nuse ori_new;\nalter table `order_product` add `departure_date` date DEFAULT NULL;\nalter table `order_product` add `end_date` date DEFAULT NULL;\nalter table `order_product` add `product_status` int(11) NOT NULL DEFAULT '10000';\nalter table `order_order_product_combine` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_customize` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_hotel` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_oneday` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_ticket` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\nalter table `order_order_product_tour` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\n\n```\n#### 4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据\n（1）module/order.py:__get_order_product_line_table:定义了操作的五张表：\norder_order_product_oneday、order_order_product_tour，order_order_product_ticket，order_order_product_hotel，order_order_product_combine\norder_product_tff表从ori_new就没有导入；order_product_customize单独操作\n（2）class OrderProduct \n\n**4-2修改：**\n（1）bi数据库的order_product表不存在end_date,departure_date两个字段；order_product_customize存在这两个字段，修改方法如下：\n\n```sql\nuse bi;\nalter table `order_product` add `departure_date` date DEFAULT NULL;\nalter table `order_product` add `end_date` date DEFAULT NULL;\nalter table `order_order_product_customize` drop column `departure_date`, drop column `end_date`, drop column `product_status`;\n\n```\n （2）修改代码\n\n        \n\n","slug":"20190213","published":1,"updated":"2019-12-10T01:49:46.530Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwq90008d87pphh3iq97","content":"<h3 id=\"一：导入数据\"><a href=\"#一：导入数据\" class=\"headerlink\" title=\"一：导入数据\"></a>一：导入数据</h3><h4 id=\"1-bi-etl-通过定时任务脚本将数据从源数据库导出：\"><a href=\"#1-bi-etl-通过定时任务脚本将数据从源数据库导出：\" class=\"headerlink\" title=\"1. bi_etl:通过定时任务脚本将数据从源数据库导出：\"></a>1. bi_etl:通过定时任务脚本将数据从源数据库导出：</h4><p>（1） 修改配置文件，执行dump_order.sh，导入部分测试数据<br>（2）其中mysqldump导出数据到文件中<br>（3）shell无法直接执行source，可以用bash来操作，命令：sudo bash dump_order.sh<br>（4）sh文件可能是在windows下面编辑的，在vim中使用set fileformat=unix 去除\\M字符<br>（5）运行sh文件可在data目录下生成sql文件<br>（6）注意事项：<br>    为什么不使用增量：因为有个中间表没有update_at，financial的表不能随意加字段</p>\n<p><strong>1-1修改:</strong><br>（1）第一步导数据，源数据（来自于order_system）已经执行了删除五张表的三个字段，因此导出的数据结构和以前导出的数据结构是不一样的；</p>\n<h4 id=\"2-通过jump-server将bi-etl的数据文件导出到bi-new的upload中-本地无法部署\"><a href=\"#2-通过jump-server将bi-etl的数据文件导出到bi-new的upload中-本地无法部署\" class=\"headerlink\" title=\"2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**\"></a>2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**</h4><p>（1）由于本地无法直接部署jump server,直接拷贝刚才生成的文件到bi_new的upload中；<br>（2）load_new.sh文件读取的是data.tar.gz压缩文件，因此直接压缩整个data文件夹到upload文件夹下</p>\n<h4 id=\"3-bi-dsvcs读取数据并存入bi-new数据库\"><a href=\"#3-bi-dsvcs读取数据并存入bi-new数据库\" class=\"headerlink\" title=\"3. bi_dsvcs读取数据并存入bi_new数据库\"></a>3. bi_dsvcs读取数据并存入bi_new数据库</h4><p>（1）修改配置文件（不修改可能会覆盖线上数据）<br>（2）执行脚本并去除\\M字符(会读取conf文件，set ff=unix可以去除/r字符)<br>（2）在load_new.sh脚本中（使用了mysql的source命令）将刚才文件中的数据导入ori_new数据库中<br>（4）注意事项：sh文件中使用了tar -xvf 解压data文件，但是实际上没有解压成功，文件不存在，可以直接复制所有文件</p>\n<p><strong>3-2修改：</strong><br>（1）执行sql命令直接修改ori_new的结构，命令如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> ori_new;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`departure_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`end_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`product_status`</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">'10000'</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_combine`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_customize`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_hotel`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_oneday`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_ticket`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_tour`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-bi-dpsvc将数据从ori-new中导入到bi库中并合并部分数据\"><a href=\"#4-bi-dpsvc将数据从ori-new中导入到bi库中并合并部分数据\" class=\"headerlink\" title=\"4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据\"></a>4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据</h4><p>（1）module/order.py:__get_order_product_line_table:定义了操作的五张表：<br>order_order_product_oneday、order_order_product_tour，order_order_product_ticket，order_order_product_hotel，order_order_product_combine<br>order_product_tff表从ori_new就没有导入；order_product_customize单独操作<br>（2）class OrderProduct </p>\n<p><strong>4-2修改：</strong><br>（1）bi数据库的order_product表不存在end_date,departure_date两个字段；order_product_customize存在这两个字段，修改方法如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> bi;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`departure_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`end_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_customize`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br></pre></td></tr></table></figure>\n<p> （2）修改代码</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一：导入数据\"><a href=\"#一：导入数据\" class=\"headerlink\" title=\"一：导入数据\"></a>一：导入数据</h3><h4 id=\"1-bi-etl-通过定时任务脚本将数据从源数据库导出：\"><a href=\"#1-bi-etl-通过定时任务脚本将数据从源数据库导出：\" class=\"headerlink\" title=\"1. bi_etl:通过定时任务脚本将数据从源数据库导出：\"></a>1. bi_etl:通过定时任务脚本将数据从源数据库导出：</h4><p>（1） 修改配置文件，执行dump_order.sh，导入部分测试数据<br>（2）其中mysqldump导出数据到文件中<br>（3）shell无法直接执行source，可以用bash来操作，命令：sudo bash dump_order.sh<br>（4）sh文件可能是在windows下面编辑的，在vim中使用set fileformat=unix 去除\\M字符<br>（5）运行sh文件可在data目录下生成sql文件<br>（6）注意事项：<br>    为什么不使用增量：因为有个中间表没有update_at，financial的表不能随意加字段</p>\n<p><strong>1-1修改:</strong><br>（1）第一步导数据，源数据（来自于order_system）已经执行了删除五张表的三个字段，因此导出的数据结构和以前导出的数据结构是不一样的；</p>\n<h4 id=\"2-通过jump-server将bi-etl的数据文件导出到bi-new的upload中-本地无法部署\"><a href=\"#2-通过jump-server将bi-etl的数据文件导出到bi-new的upload中-本地无法部署\" class=\"headerlink\" title=\"2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**\"></a>2. 通过jump server将bi_etl的数据文件导出到bi_new的upload中(本地无法部署)**</h4><p>（1）由于本地无法直接部署jump server,直接拷贝刚才生成的文件到bi_new的upload中；<br>（2）load_new.sh文件读取的是data.tar.gz压缩文件，因此直接压缩整个data文件夹到upload文件夹下</p>\n<h4 id=\"3-bi-dsvcs读取数据并存入bi-new数据库\"><a href=\"#3-bi-dsvcs读取数据并存入bi-new数据库\" class=\"headerlink\" title=\"3. bi_dsvcs读取数据并存入bi_new数据库\"></a>3. bi_dsvcs读取数据并存入bi_new数据库</h4><p>（1）修改配置文件（不修改可能会覆盖线上数据）<br>（2）执行脚本并去除\\M字符(会读取conf文件，set ff=unix可以去除/r字符)<br>（2）在load_new.sh脚本中（使用了mysql的source命令）将刚才文件中的数据导入ori_new数据库中<br>（4）注意事项：sh文件中使用了tar -xvf 解压data文件，但是实际上没有解压成功，文件不存在，可以直接复制所有文件</p>\n<p><strong>3-2修改：</strong><br>（1）执行sql命令直接修改ori_new的结构，命令如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> ori_new;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`departure_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`end_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`product_status`</span> <span class=\"built_in\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">'10000'</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_combine`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_customize`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_hotel`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_oneday`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_ticket`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_tour`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-bi-dpsvc将数据从ori-new中导入到bi库中并合并部分数据\"><a href=\"#4-bi-dpsvc将数据从ori-new中导入到bi库中并合并部分数据\" class=\"headerlink\" title=\"4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据\"></a>4. bi_dpsvc将数据从ori_new中导入到bi库中并合并部分数据</h4><p>（1）module/order.py:__get_order_product_line_table:定义了操作的五张表：<br>order_order_product_oneday、order_order_product_tour，order_order_product_ticket，order_order_product_hotel，order_order_product_combine<br>order_product_tff表从ori_new就没有导入；order_product_customize单独操作<br>（2）class OrderProduct </p>\n<p><strong>4-2修改：</strong><br>（1）bi数据库的order_product表不存在end_date,departure_date两个字段；order_product_customize存在这两个字段，修改方法如下：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">use</span> bi;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`departure_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_product`</span> <span class=\"keyword\">add</span> <span class=\"string\">`end_date`</span> <span class=\"built_in\">date</span> <span class=\"keyword\">DEFAULT</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> <span class=\"string\">`order_order_product_customize`</span> <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`departure_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`end_date`</span>, <span class=\"keyword\">drop</span> <span class=\"keyword\">column</span> <span class=\"string\">`product_status`</span>;</span><br></pre></td></tr></table></figure>\n<p> （2）修改代码</p>\n"},{"title":"Monthly报表完成步骤","date":"2019-03-02T05:25:21.000Z","_content":"## 1 计算规则（都在订单产品维度）\n#### 1 已收\n（1）计算此订单产品所在的订单的所有已收款\n（2）计算此订单产品所在的订单有多少订单产品\n（3）所有已收款除以订单产品数量，平均得出每个订单产品的已收款\n## 2 基础接口实现\n#### 1 注意事项\n每次更新代码supervisor都需要重启\n#### 2 添加路由和方法\n创建finance_monthly controller,并在dsvcs.py中引入\n#### 3 导入bill表\n需要导入bill和bill_item表进ori_new以及bi表中\n","source":"_posts/20190214.md","raw":"---\ntitle: Monthly报表完成步骤\ndate: 2019-03-02 13:25:21\ntags: 工作\ncategories: Python\n---\n## 1 计算规则（都在订单产品维度）\n#### 1 已收\n（1）计算此订单产品所在的订单的所有已收款\n（2）计算此订单产品所在的订单有多少订单产品\n（3）所有已收款除以订单产品数量，平均得出每个订单产品的已收款\n## 2 基础接口实现\n#### 1 注意事项\n每次更新代码supervisor都需要重启\n#### 2 添加路由和方法\n创建finance_monthly controller,并在dsvcs.py中引入\n#### 3 导入bill表\n需要导入bill和bill_item表进ori_new以及bi表中\n","slug":"20190214","published":1,"updated":"2019-12-10T01:49:46.530Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwqb0009d87poeyfxsk5","content":"<h2 id=\"1-计算规则（都在订单产品维度）\"><a href=\"#1-计算规则（都在订单产品维度）\" class=\"headerlink\" title=\"1 计算规则（都在订单产品维度）\"></a>1 计算规则（都在订单产品维度）</h2><h4 id=\"1-已收\"><a href=\"#1-已收\" class=\"headerlink\" title=\"1 已收\"></a>1 已收</h4><p>（1）计算此订单产品所在的订单的所有已收款<br>（2）计算此订单产品所在的订单有多少订单产品<br>（3）所有已收款除以订单产品数量，平均得出每个订单产品的已收款</p>\n<h2 id=\"2-基础接口实现\"><a href=\"#2-基础接口实现\" class=\"headerlink\" title=\"2 基础接口实现\"></a>2 基础接口实现</h2><h4 id=\"1-注意事项\"><a href=\"#1-注意事项\" class=\"headerlink\" title=\"1 注意事项\"></a>1 注意事项</h4><p>每次更新代码supervisor都需要重启</p>\n<h4 id=\"2-添加路由和方法\"><a href=\"#2-添加路由和方法\" class=\"headerlink\" title=\"2 添加路由和方法\"></a>2 添加路由和方法</h4><p>创建finance_monthly controller,并在dsvcs.py中引入</p>\n<h4 id=\"3-导入bill表\"><a href=\"#3-导入bill表\" class=\"headerlink\" title=\"3 导入bill表\"></a>3 导入bill表</h4><p>需要导入bill和bill_item表进ori_new以及bi表中</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-计算规则（都在订单产品维度）\"><a href=\"#1-计算规则（都在订单产品维度）\" class=\"headerlink\" title=\"1 计算规则（都在订单产品维度）\"></a>1 计算规则（都在订单产品维度）</h2><h4 id=\"1-已收\"><a href=\"#1-已收\" class=\"headerlink\" title=\"1 已收\"></a>1 已收</h4><p>（1）计算此订单产品所在的订单的所有已收款<br>（2）计算此订单产品所在的订单有多少订单产品<br>（3）所有已收款除以订单产品数量，平均得出每个订单产品的已收款</p>\n<h2 id=\"2-基础接口实现\"><a href=\"#2-基础接口实现\" class=\"headerlink\" title=\"2 基础接口实现\"></a>2 基础接口实现</h2><h4 id=\"1-注意事项\"><a href=\"#1-注意事项\" class=\"headerlink\" title=\"1 注意事项\"></a>1 注意事项</h4><p>每次更新代码supervisor都需要重启</p>\n<h4 id=\"2-添加路由和方法\"><a href=\"#2-添加路由和方法\" class=\"headerlink\" title=\"2 添加路由和方法\"></a>2 添加路由和方法</h4><p>创建finance_monthly controller,并在dsvcs.py中引入</p>\n<h4 id=\"3-导入bill表\"><a href=\"#3-导入bill表\" class=\"headerlink\" title=\"3 导入bill表\"></a>3 导入bill表</h4><p>需要导入bill和bill_item表进ori_new以及bi表中</p>\n"},{"title":"一些快捷键","date":"2019-03-05T05:25:21.000Z","_content":"## navicat for mysql 快捷键\n1.ctrl+q           打开查询窗口\n2.ctrl+/            注释sql语句\n3.ctrl+shift +/  解除注释\n4.ctrl+r           运行查询窗口的sql语句\n5.ctrl+shift+r   只运行选中的sql语句\n6.F6               打开一个mysql命令行窗口\n7.ctrl+l            删除一行\n8.ctrl+n           打开一个新的查询窗口\n9.ctrl+w          关闭一个查询窗口\n## phpstrom快捷键\n**编辑**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Ctrl + Space | 代码自动完成（一般与输入法冲突） |\n| Ctrl + Shift + Enter | 智能完善代码（如:if()） |\n| Ctrl + P | 方法参数提示，显示默认参数 |\n| Ctrl + Q | 显示注释代码 |\n| Ctrl + mouse over code | 查看到简短的函数介绍 |\n| Ctrl + F1 | 显示错误或警告信息的描述（需要把光标放到错误或警告位置） |\n| Alt + Insert | 生成代码段（ 包括函数或类注释，版权信息，构造方法，抽象方法等） |\n| Ctrl + O | 插入覆盖父类的方法 |\n| Ctrl + I | 实现抽象方法 |\n| Ctrl + Alt + T | 选中的代码放在if..else..、for、foreach里,或者函数里，或者为选中的代码块添加区域解释（可以折叠该段代码，折叠后只显示解释，便于代码管理） |\n| Ctrl + / | 以添加“//”的方式添加注释 |\n| Ctrl + Shift + / | 添加“/**/”的方式添加注释 |\n| Ctrl + W | 增量式的选中当前块 |\n| Ctrl + Shift + W | 与Ctrl + W对应，减小选中范围 |\n| Alt + Q | 显示包含光标所在位置的标签头 |\n| Alt + Enter | 显示意图行动。 Show Intention Action |\n| Ctrl + Alt + L | 格式化代码 |\n| Ctrl + Alt + I | 自动缩进。 |\n| Tab / Shift + Tab | 手动缩进/反向缩进 |\n| Ctrl + X or Shift + Delete | 剪切 |\n| Ctrl + C or Ctrl + Insert | 复制 |\n| Ctrl + V or Shift + Insert | 粘贴 |\n| Ctrl + Shift + V | 从粘贴板中选择内容进行粘贴 |\n| Ctrl + D | 将当前行或者选择的内容复制到下一行或光标处 |\n| Ctrl + Y | 删除光标所在的行 |\n| Ctrl + Shift + J | 合成选中代码到一行。格式化代码的反向动作 |\n| Ctrl + Enter | 智能线分割 |\n| Shift + Enter | 另起一新行。无论光标在行的那个位置 |\n| Ctrl + Shift + U | 字符大小写切换 |\n| Ctrl + Shift + ] / [ | 以区块为单位，从光标处 向后/向前 选择，再次点击增加选择范围 |\n| Ctrl + Delete | 删除光标之后的部分单词 |\n| Ctrl + Backspace | 删除光标之前的部分单词 |\n| Ctrl + +/- | 折叠/打开代码块，再次点击扩大折叠/打开范围 |\n| Ctrl + Shift +  + | 打开全部 |\n| Ctrl + Shift +  - | 折叠全部 |\n| Ctrl + F4 | 关闭当前页面 |\n**搜索/替换**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Ctrl + F | 查找 |\n| F3| 查找下一个，结合查找使用 |\n| Shift + F3 | 查找前一个，结合查找使用  |\n| Ctrl + R | 替换 |\n| Ctrl + Shift + F | 在文件中查找 |\n| Ctrl + Shift + R | 在文件中替换 |\n**被使用搜索**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Alt + F7 / Ctrl + F7 | 全项目被使用查找/当前文件声明变量处 |\n| Ctrl + Shift + F7 | 在文件中变量或函数被使用处高亮 |\n| Ctrl + Alt + F7 | 显示详细被使用的位置列表 |\n","source":"_posts/20190220.md","raw":"---\ntitle: 一些快捷键\ndate: 2019-03-05 13:25:21\ntags: 文档\ncategories: 快捷键\n---\n## navicat for mysql 快捷键\n1.ctrl+q           打开查询窗口\n2.ctrl+/            注释sql语句\n3.ctrl+shift +/  解除注释\n4.ctrl+r           运行查询窗口的sql语句\n5.ctrl+shift+r   只运行选中的sql语句\n6.F6               打开一个mysql命令行窗口\n7.ctrl+l            删除一行\n8.ctrl+n           打开一个新的查询窗口\n9.ctrl+w          关闭一个查询窗口\n## phpstrom快捷键\n**编辑**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Ctrl + Space | 代码自动完成（一般与输入法冲突） |\n| Ctrl + Shift + Enter | 智能完善代码（如:if()） |\n| Ctrl + P | 方法参数提示，显示默认参数 |\n| Ctrl + Q | 显示注释代码 |\n| Ctrl + mouse over code | 查看到简短的函数介绍 |\n| Ctrl + F1 | 显示错误或警告信息的描述（需要把光标放到错误或警告位置） |\n| Alt + Insert | 生成代码段（ 包括函数或类注释，版权信息，构造方法，抽象方法等） |\n| Ctrl + O | 插入覆盖父类的方法 |\n| Ctrl + I | 实现抽象方法 |\n| Ctrl + Alt + T | 选中的代码放在if..else..、for、foreach里,或者函数里，或者为选中的代码块添加区域解释（可以折叠该段代码，折叠后只显示解释，便于代码管理） |\n| Ctrl + / | 以添加“//”的方式添加注释 |\n| Ctrl + Shift + / | 添加“/**/”的方式添加注释 |\n| Ctrl + W | 增量式的选中当前块 |\n| Ctrl + Shift + W | 与Ctrl + W对应，减小选中范围 |\n| Alt + Q | 显示包含光标所在位置的标签头 |\n| Alt + Enter | 显示意图行动。 Show Intention Action |\n| Ctrl + Alt + L | 格式化代码 |\n| Ctrl + Alt + I | 自动缩进。 |\n| Tab / Shift + Tab | 手动缩进/反向缩进 |\n| Ctrl + X or Shift + Delete | 剪切 |\n| Ctrl + C or Ctrl + Insert | 复制 |\n| Ctrl + V or Shift + Insert | 粘贴 |\n| Ctrl + Shift + V | 从粘贴板中选择内容进行粘贴 |\n| Ctrl + D | 将当前行或者选择的内容复制到下一行或光标处 |\n| Ctrl + Y | 删除光标所在的行 |\n| Ctrl + Shift + J | 合成选中代码到一行。格式化代码的反向动作 |\n| Ctrl + Enter | 智能线分割 |\n| Shift + Enter | 另起一新行。无论光标在行的那个位置 |\n| Ctrl + Shift + U | 字符大小写切换 |\n| Ctrl + Shift + ] / [ | 以区块为单位，从光标处 向后/向前 选择，再次点击增加选择范围 |\n| Ctrl + Delete | 删除光标之后的部分单词 |\n| Ctrl + Backspace | 删除光标之前的部分单词 |\n| Ctrl + +/- | 折叠/打开代码块，再次点击扩大折叠/打开范围 |\n| Ctrl + Shift +  + | 打开全部 |\n| Ctrl + Shift +  - | 折叠全部 |\n| Ctrl + F4 | 关闭当前页面 |\n**搜索/替换**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Ctrl + F | 查找 |\n| F3| 查找下一个，结合查找使用 |\n| Shift + F3 | 查找前一个，结合查找使用  |\n| Ctrl + R | 替换 |\n| Ctrl + Shift + F | 在文件中查找 |\n| Ctrl + Shift + R | 在文件中替换 |\n**被使用搜索**\n\n| 快捷键 | 作用 | \n| --- | --- |\n| Alt + F7 / Ctrl + F7 | 全项目被使用查找/当前文件声明变量处 |\n| Ctrl + Shift + F7 | 在文件中变量或函数被使用处高亮 |\n| Ctrl + Alt + F7 | 显示详细被使用的位置列表 |\n","slug":"20190220","published":1,"updated":"2019-12-10T01:49:46.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwqh000dd87pn4t2conx","content":"<h2 id=\"navicat-for-mysql-快捷键\"><a href=\"#navicat-for-mysql-快捷键\" class=\"headerlink\" title=\"navicat for mysql 快捷键\"></a>navicat for mysql 快捷键</h2><p>1.ctrl+q           打开查询窗口<br>2.ctrl+/            注释sql语句<br>3.ctrl+shift +/  解除注释<br>4.ctrl+r           运行查询窗口的sql语句<br>5.ctrl+shift+r   只运行选中的sql语句<br>6.F6               打开一个mysql命令行窗口<br>7.ctrl+l            删除一行<br>8.ctrl+n           打开一个新的查询窗口<br>9.ctrl+w          关闭一个查询窗口</p>\n<h2 id=\"phpstrom快捷键\"><a href=\"#phpstrom快捷键\" class=\"headerlink\" title=\"phpstrom快捷键\"></a>phpstrom快捷键</h2><p><strong>编辑</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + Space</td>\n<td>代码自动完成（一般与输入法冲突）</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + Enter</td>\n<td>智能完善代码（如:if()）</td>\n</tr>\n<tr>\n<td>Ctrl + P</td>\n<td>方法参数提示，显示默认参数</td>\n</tr>\n<tr>\n<td>Ctrl + Q</td>\n<td>显示注释代码</td>\n</tr>\n<tr>\n<td>Ctrl + mouse over code</td>\n<td>查看到简短的函数介绍</td>\n</tr>\n<tr>\n<td>Ctrl + F1</td>\n<td>显示错误或警告信息的描述（需要把光标放到错误或警告位置）</td>\n</tr>\n<tr>\n<td>Alt + Insert</td>\n<td>生成代码段（ 包括函数或类注释，版权信息，构造方法，抽象方法等）</td>\n</tr>\n<tr>\n<td>Ctrl + O</td>\n<td>插入覆盖父类的方法</td>\n</tr>\n<tr>\n<td>Ctrl + I</td>\n<td>实现抽象方法</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + T</td>\n<td>选中的代码放在if..else..、for、foreach里,或者函数里，或者为选中的代码块添加区域解释（可以折叠该段代码，折叠后只显示解释，便于代码管理）</td>\n</tr>\n<tr>\n<td>Ctrl + /</td>\n<td>以添加“//”的方式添加注释</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + /</td>\n<td>添加“/**/”的方式添加注释</td>\n</tr>\n<tr>\n<td>Ctrl + W</td>\n<td>增量式的选中当前块</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + W</td>\n<td>与Ctrl + W对应，减小选中范围</td>\n</tr>\n<tr>\n<td>Alt + Q</td>\n<td>显示包含光标所在位置的标签头</td>\n</tr>\n<tr>\n<td>Alt + Enter</td>\n<td>显示意图行动。 Show Intention Action</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + L</td>\n<td>格式化代码</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + I</td>\n<td>自动缩进。</td>\n</tr>\n<tr>\n<td>Tab / Shift + Tab</td>\n<td>手动缩进/反向缩进</td>\n</tr>\n<tr>\n<td>Ctrl + X or Shift + Delete</td>\n<td>剪切</td>\n</tr>\n<tr>\n<td>Ctrl + C or Ctrl + Insert</td>\n<td>复制</td>\n</tr>\n<tr>\n<td>Ctrl + V or Shift + Insert</td>\n<td>粘贴</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + V</td>\n<td>从粘贴板中选择内容进行粘贴</td>\n</tr>\n<tr>\n<td>Ctrl + D</td>\n<td>将当前行或者选择的内容复制到下一行或光标处</td>\n</tr>\n<tr>\n<td>Ctrl + Y</td>\n<td>删除光标所在的行</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + J</td>\n<td>合成选中代码到一行。格式化代码的反向动作</td>\n</tr>\n<tr>\n<td>Ctrl + Enter</td>\n<td>智能线分割</td>\n</tr>\n<tr>\n<td>Shift + Enter</td>\n<td>另起一新行。无论光标在行的那个位置</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + U</td>\n<td>字符大小写切换</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + ] / [</td>\n<td>以区块为单位，从光标处 向后/向前 选择，再次点击增加选择范围</td>\n</tr>\n<tr>\n<td>Ctrl + Delete</td>\n<td>删除光标之后的部分单词</td>\n</tr>\n<tr>\n<td>Ctrl + Backspace</td>\n<td>删除光标之前的部分单词</td>\n</tr>\n<tr>\n<td>Ctrl + +/-</td>\n<td>折叠/打开代码块，再次点击扩大折叠/打开范围</td>\n</tr>\n<tr>\n<td>Ctrl + Shift +  +</td>\n<td>打开全部</td>\n</tr>\n<tr>\n<td>Ctrl + Shift +  -</td>\n<td>折叠全部</td>\n</tr>\n<tr>\n<td>Ctrl + F4</td>\n<td>关闭当前页面</td>\n</tr>\n</tbody>\n</table>\n<p><strong>搜索/替换</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + F</td>\n<td>查找</td>\n</tr>\n<tr>\n<td>F3</td>\n<td>查找下一个，结合查找使用</td>\n</tr>\n<tr>\n<td>Shift + F3</td>\n<td>查找前一个，结合查找使用</td>\n</tr>\n<tr>\n<td>Ctrl + R</td>\n<td>替换</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + F</td>\n<td>在文件中查找</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + R</td>\n<td>在文件中替换</td>\n</tr>\n</tbody>\n</table>\n<p><strong>被使用搜索</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Alt + F7 / Ctrl + F7</td>\n<td>全项目被使用查找/当前文件声明变量处</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + F7</td>\n<td>在文件中变量或函数被使用处高亮</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + F7</td>\n<td>显示详细被使用的位置列表</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"navicat-for-mysql-快捷键\"><a href=\"#navicat-for-mysql-快捷键\" class=\"headerlink\" title=\"navicat for mysql 快捷键\"></a>navicat for mysql 快捷键</h2><p>1.ctrl+q           打开查询窗口<br>2.ctrl+/            注释sql语句<br>3.ctrl+shift +/  解除注释<br>4.ctrl+r           运行查询窗口的sql语句<br>5.ctrl+shift+r   只运行选中的sql语句<br>6.F6               打开一个mysql命令行窗口<br>7.ctrl+l            删除一行<br>8.ctrl+n           打开一个新的查询窗口<br>9.ctrl+w          关闭一个查询窗口</p>\n<h2 id=\"phpstrom快捷键\"><a href=\"#phpstrom快捷键\" class=\"headerlink\" title=\"phpstrom快捷键\"></a>phpstrom快捷键</h2><p><strong>编辑</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + Space</td>\n<td>代码自动完成（一般与输入法冲突）</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + Enter</td>\n<td>智能完善代码（如:if()）</td>\n</tr>\n<tr>\n<td>Ctrl + P</td>\n<td>方法参数提示，显示默认参数</td>\n</tr>\n<tr>\n<td>Ctrl + Q</td>\n<td>显示注释代码</td>\n</tr>\n<tr>\n<td>Ctrl + mouse over code</td>\n<td>查看到简短的函数介绍</td>\n</tr>\n<tr>\n<td>Ctrl + F1</td>\n<td>显示错误或警告信息的描述（需要把光标放到错误或警告位置）</td>\n</tr>\n<tr>\n<td>Alt + Insert</td>\n<td>生成代码段（ 包括函数或类注释，版权信息，构造方法，抽象方法等）</td>\n</tr>\n<tr>\n<td>Ctrl + O</td>\n<td>插入覆盖父类的方法</td>\n</tr>\n<tr>\n<td>Ctrl + I</td>\n<td>实现抽象方法</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + T</td>\n<td>选中的代码放在if..else..、for、foreach里,或者函数里，或者为选中的代码块添加区域解释（可以折叠该段代码，折叠后只显示解释，便于代码管理）</td>\n</tr>\n<tr>\n<td>Ctrl + /</td>\n<td>以添加“//”的方式添加注释</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + /</td>\n<td>添加“/**/”的方式添加注释</td>\n</tr>\n<tr>\n<td>Ctrl + W</td>\n<td>增量式的选中当前块</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + W</td>\n<td>与Ctrl + W对应，减小选中范围</td>\n</tr>\n<tr>\n<td>Alt + Q</td>\n<td>显示包含光标所在位置的标签头</td>\n</tr>\n<tr>\n<td>Alt + Enter</td>\n<td>显示意图行动。 Show Intention Action</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + L</td>\n<td>格式化代码</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + I</td>\n<td>自动缩进。</td>\n</tr>\n<tr>\n<td>Tab / Shift + Tab</td>\n<td>手动缩进/反向缩进</td>\n</tr>\n<tr>\n<td>Ctrl + X or Shift + Delete</td>\n<td>剪切</td>\n</tr>\n<tr>\n<td>Ctrl + C or Ctrl + Insert</td>\n<td>复制</td>\n</tr>\n<tr>\n<td>Ctrl + V or Shift + Insert</td>\n<td>粘贴</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + V</td>\n<td>从粘贴板中选择内容进行粘贴</td>\n</tr>\n<tr>\n<td>Ctrl + D</td>\n<td>将当前行或者选择的内容复制到下一行或光标处</td>\n</tr>\n<tr>\n<td>Ctrl + Y</td>\n<td>删除光标所在的行</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + J</td>\n<td>合成选中代码到一行。格式化代码的反向动作</td>\n</tr>\n<tr>\n<td>Ctrl + Enter</td>\n<td>智能线分割</td>\n</tr>\n<tr>\n<td>Shift + Enter</td>\n<td>另起一新行。无论光标在行的那个位置</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + U</td>\n<td>字符大小写切换</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + ] / [</td>\n<td>以区块为单位，从光标处 向后/向前 选择，再次点击增加选择范围</td>\n</tr>\n<tr>\n<td>Ctrl + Delete</td>\n<td>删除光标之后的部分单词</td>\n</tr>\n<tr>\n<td>Ctrl + Backspace</td>\n<td>删除光标之前的部分单词</td>\n</tr>\n<tr>\n<td>Ctrl + +/-</td>\n<td>折叠/打开代码块，再次点击扩大折叠/打开范围</td>\n</tr>\n<tr>\n<td>Ctrl + Shift +  +</td>\n<td>打开全部</td>\n</tr>\n<tr>\n<td>Ctrl + Shift +  -</td>\n<td>折叠全部</td>\n</tr>\n<tr>\n<td>Ctrl + F4</td>\n<td>关闭当前页面</td>\n</tr>\n</tbody>\n</table>\n<p><strong>搜索/替换</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + F</td>\n<td>查找</td>\n</tr>\n<tr>\n<td>F3</td>\n<td>查找下一个，结合查找使用</td>\n</tr>\n<tr>\n<td>Shift + F3</td>\n<td>查找前一个，结合查找使用</td>\n</tr>\n<tr>\n<td>Ctrl + R</td>\n<td>替换</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + F</td>\n<td>在文件中查找</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + R</td>\n<td>在文件中替换</td>\n</tr>\n</tbody>\n</table>\n<p><strong>被使用搜索</strong></p>\n<table>\n<thead>\n<tr>\n<th>快捷键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Alt + F7 / Ctrl + F7</td>\n<td>全项目被使用查找/当前文件声明变量处</td>\n</tr>\n<tr>\n<td>Ctrl + Shift + F7</td>\n<td>在文件中变量或函数被使用处高亮</td>\n</tr>\n<tr>\n<td>Ctrl + Alt + F7</td>\n<td>显示详细被使用的位置列表</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"Hbase基础命令","date":"2019-02-28T03:03:10.000Z","_content":"## Hbase基础命令\n#### 启动和停止Hbase\n**启动**\nhbase/bin  ./start-hbase.sh\n**关闭**\nhbase/bin   ./stop-hbase.sh\n#### 使用Hbase\n**连接Hbase**\nbin/hbase shell\n**创建表**\ncreate 'test' （创建表需要添加列簇）\ncreate '表名' '列簇名1' '列簇名2' ……\n**添加数据**\nput '表名' '行名' '列簇名称' 'value'（当列簇只有一列）\nput '表名' '行名' '列簇名称：列名称' 'value'\n**查看表**\nlist: 查看所有表\nlist 'tablename' ： 查看表名为tablename的表\n**删除表**\ndisable '表名'(对应enable '明白')\ndrop '表名'\n## 配置\n####基础配置\nconf/hbase-site.xml\n## 注意事项\n（1）表名，行，列都必须用引号括起来\n{% plantuml %}\n{% endplantuml %}\n\n","source":"_posts/20190227.md","raw":"---\ntitle: Hbase基础命令\ndate: 2019-02-28 11:03:10\ntags: 基础命令\ncategories: \n- 数据库\n- Hbase\n---\n## Hbase基础命令\n#### 启动和停止Hbase\n**启动**\nhbase/bin  ./start-hbase.sh\n**关闭**\nhbase/bin   ./stop-hbase.sh\n#### 使用Hbase\n**连接Hbase**\nbin/hbase shell\n**创建表**\ncreate 'test' （创建表需要添加列簇）\ncreate '表名' '列簇名1' '列簇名2' ……\n**添加数据**\nput '表名' '行名' '列簇名称' 'value'（当列簇只有一列）\nput '表名' '行名' '列簇名称：列名称' 'value'\n**查看表**\nlist: 查看所有表\nlist 'tablename' ： 查看表名为tablename的表\n**删除表**\ndisable '表名'(对应enable '明白')\ndrop '表名'\n## 配置\n####基础配置\nconf/hbase-site.xml\n## 注意事项\n（1）表名，行，列都必须用引号括起来\n{% plantuml %}\n{% endplantuml %}\n\n","slug":"20190227","published":1,"updated":"2019-12-10T01:49:46.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwqq000fd87pggtk5uq5","content":"<h2 id=\"Hbase基础命令\"><a href=\"#Hbase基础命令\" class=\"headerlink\" title=\"Hbase基础命令\"></a>Hbase基础命令</h2><h4 id=\"启动和停止Hbase\"><a href=\"#启动和停止Hbase\" class=\"headerlink\" title=\"启动和停止Hbase\"></a>启动和停止Hbase</h4><p><strong>启动</strong><br>hbase/bin  ./start-hbase.sh<br><strong>关闭</strong><br>hbase/bin   ./stop-hbase.sh</p>\n<h4 id=\"使用Hbase\"><a href=\"#使用Hbase\" class=\"headerlink\" title=\"使用Hbase\"></a>使用Hbase</h4><p><strong>连接Hbase</strong><br>bin/hbase shell<br><strong>创建表</strong><br>create ‘test’ （创建表需要添加列簇）<br>create ‘表名’ ‘列簇名1’ ‘列簇名2’ ……<br><strong>添加数据</strong><br>put ‘表名’ ‘行名’ ‘列簇名称’ ‘value’（当列簇只有一列）<br>put ‘表名’ ‘行名’ ‘列簇名称：列名称’ ‘value’<br><strong>查看表</strong><br>list: 查看所有表<br>list ‘tablename’ ： 查看表名为tablename的表<br><strong>删除表</strong><br>disable ‘表名’(对应enable ‘明白’)<br>drop ‘表名’</p>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>####基础配置<br>conf/hbase-site.xml</p>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>（1）表名，行，列都必须用引号括起来<br><img src=\"http://www.plantuml.com/plantuml/svg/\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Hbase基础命令\"><a href=\"#Hbase基础命令\" class=\"headerlink\" title=\"Hbase基础命令\"></a>Hbase基础命令</h2><h4 id=\"启动和停止Hbase\"><a href=\"#启动和停止Hbase\" class=\"headerlink\" title=\"启动和停止Hbase\"></a>启动和停止Hbase</h4><p><strong>启动</strong><br>hbase/bin  ./start-hbase.sh<br><strong>关闭</strong><br>hbase/bin   ./stop-hbase.sh</p>\n<h4 id=\"使用Hbase\"><a href=\"#使用Hbase\" class=\"headerlink\" title=\"使用Hbase\"></a>使用Hbase</h4><p><strong>连接Hbase</strong><br>bin/hbase shell<br><strong>创建表</strong><br>create ‘test’ （创建表需要添加列簇）<br>create ‘表名’ ‘列簇名1’ ‘列簇名2’ ……<br><strong>添加数据</strong><br>put ‘表名’ ‘行名’ ‘列簇名称’ ‘value’（当列簇只有一列）<br>put ‘表名’ ‘行名’ ‘列簇名称：列名称’ ‘value’<br><strong>查看表</strong><br>list: 查看所有表<br>list ‘tablename’ ： 查看表名为tablename的表<br><strong>删除表</strong><br>disable ‘表名’(对应enable ‘明白’)<br>drop ‘表名’</p>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>####基础配置<br>conf/hbase-site.xml</p>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>（1）表名，行，列都必须用引号括起来<br><img src=\"http://www.plantuml.com/plantuml/svg/\"></p>\n"},{"title":"各种奇怪的坑","date":"2019-02-01T08:10:10.000Z","_content":"#### 1 strtotime()\n**描述**\n获取上个月的时间可以是date('Y-m-d',strtotime('-1 month'));如果今天是31号而上个月没有31号，就会直接输出这个月1号；\n**解决办法**\n使用last day of -1 month来获取上个月的最后一天\n#### 2 php 字符串和数字比较\n**描述**\n遇到一个问题，传过来的参数可能是0，可能是字符串，然后与0作比较，但是当传递的参数是字符串时，与0比较，结果是true\n**解决办法**\n直接与'0'比较。0==='0'可以返回true,可以直接比较，字符串与'0'比较也不等\n#### 3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法\nvirtualbox的共享文件夹有保护机制，不允许直接运行virtualenv env，只能在其他文件夹下运行,解决办法：\n硬链接\n#### 4 laravel get()->toArray()无法获取数据\n","source":"_posts/2019_01_01.md","raw":"---\ntitle: 各种奇怪的坑\ndate: 2019-02-01 16:10:10\ntags: 学习\n---\n#### 1 strtotime()\n**描述**\n获取上个月的时间可以是date('Y-m-d',strtotime('-1 month'));如果今天是31号而上个月没有31号，就会直接输出这个月1号；\n**解决办法**\n使用last day of -1 month来获取上个月的最后一天\n#### 2 php 字符串和数字比较\n**描述**\n遇到一个问题，传过来的参数可能是0，可能是字符串，然后与0作比较，但是当传递的参数是字符串时，与0比较，结果是true\n**解决办法**\n直接与'0'比较。0==='0'可以返回true,可以直接比较，字符串与'0'比较也不等\n#### 3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法\nvirtualbox的共享文件夹有保护机制，不允许直接运行virtualenv env，只能在其他文件夹下运行,解决办法：\n硬链接\n#### 4 laravel get()->toArray()无法获取数据\n","slug":"2019_01_01","published":1,"updated":"2019-12-10T01:49:46.531Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwqw000kd87phjmqjf8s","content":"<h4 id=\"1-strtotime\"><a href=\"#1-strtotime\" class=\"headerlink\" title=\"1 strtotime()\"></a>1 strtotime()</h4><p><strong>描述</strong><br>获取上个月的时间可以是date(‘Y-m-d’,strtotime(‘-1 month’));如果今天是31号而上个月没有31号，就会直接输出这个月1号；<br><strong>解决办法</strong><br>使用last day of -1 month来获取上个月的最后一天</p>\n<h4 id=\"2-php-字符串和数字比较\"><a href=\"#2-php-字符串和数字比较\" class=\"headerlink\" title=\"2 php 字符串和数字比较\"></a>2 php 字符串和数字比较</h4><p><strong>描述</strong><br>遇到一个问题，传过来的参数可能是0，可能是字符串，然后与0作比较，但是当传递的参数是字符串时，与0比较，结果是true<br><strong>解决办法</strong><br>直接与’0’比较。0===’0’可以返回true,可以直接比较，字符串与’0’比较也不等</p>\n<h4 id=\"3-virtualbox共享文件夹不能执行virtualenv-env，只能在其他文件夹下运行，暂时没想到解决办法\"><a href=\"#3-virtualbox共享文件夹不能执行virtualenv-env，只能在其他文件夹下运行，暂时没想到解决办法\" class=\"headerlink\" title=\"3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法\"></a>3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法</h4><p>virtualbox的共享文件夹有保护机制，不允许直接运行virtualenv env，只能在其他文件夹下运行,解决办法：<br>硬链接</p>\n<h4 id=\"4-laravel-get-gt-toArray-无法获取数据\"><a href=\"#4-laravel-get-gt-toArray-无法获取数据\" class=\"headerlink\" title=\"4 laravel get()-&gt;toArray()无法获取数据\"></a>4 laravel get()-&gt;toArray()无法获取数据</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"1-strtotime\"><a href=\"#1-strtotime\" class=\"headerlink\" title=\"1 strtotime()\"></a>1 strtotime()</h4><p><strong>描述</strong><br>获取上个月的时间可以是date(‘Y-m-d’,strtotime(‘-1 month’));如果今天是31号而上个月没有31号，就会直接输出这个月1号；<br><strong>解决办法</strong><br>使用last day of -1 month来获取上个月的最后一天</p>\n<h4 id=\"2-php-字符串和数字比较\"><a href=\"#2-php-字符串和数字比较\" class=\"headerlink\" title=\"2 php 字符串和数字比较\"></a>2 php 字符串和数字比较</h4><p><strong>描述</strong><br>遇到一个问题，传过来的参数可能是0，可能是字符串，然后与0作比较，但是当传递的参数是字符串时，与0比较，结果是true<br><strong>解决办法</strong><br>直接与’0’比较。0===’0’可以返回true,可以直接比较，字符串与’0’比较也不等</p>\n<h4 id=\"3-virtualbox共享文件夹不能执行virtualenv-env，只能在其他文件夹下运行，暂时没想到解决办法\"><a href=\"#3-virtualbox共享文件夹不能执行virtualenv-env，只能在其他文件夹下运行，暂时没想到解决办法\" class=\"headerlink\" title=\"3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法\"></a>3 virtualbox共享文件夹不能执行virtualenv env，只能在其他文件夹下运行，暂时没想到解决办法</h4><p>virtualbox的共享文件夹有保护机制，不允许直接运行virtualenv env，只能在其他文件夹下运行,解决办法：<br>硬链接</p>\n<h4 id=\"4-laravel-get-gt-toArray-无法获取数据\"><a href=\"#4-laravel-get-gt-toArray-无法获取数据\" class=\"headerlink\" title=\"4 laravel get()-&gt;toArray()无法获取数据\"></a>4 laravel get()-&gt;toArray()无法获取数据</h4>"},{"title":"抽象工厂模式","date":"2019-07-22T09:40:10.000Z","_content":"## 目的\n在不指定具体类的情况下创建一系列相关或依赖对象。 通常创建的类都实现相同的接口。 抽象工厂的客户并不关心这些对象是如何创建的，它只是知道它们是如何一起运行的。\n## 举例\n#### \n```php\n<?php\nclass KuaidiBirdLogic extends BaseLogic\n{\n    private $basic;\n    private $num;\n    public function __construct(int $num, int $basic)\n    {\n        $this->num = $num;\n        $this->basic = $basic;\n    }\n}\nclass KuaidiOneLogic implements KuaidiBase\n{\n    private $num;\n    public function __construct(int $num)\n    {\n        $this->num = $num;\n    }\n}\n```\n定义抽象工厂类\n```php\n<?php\nclass ExpressFactory extends Model\n{\n    public function getKuaidiBirdList() {\n        return new KuaidiBirdLogic(12, 13);\n    }\n    public function getKuaidiOneLogic() {\n        return new KuaidiOneLogic();\n    }\n}\n\n```\n## 几种工厂模式的区别\n#### 抽象工厂模式\n类似于示例Basic\n#### 简单工厂模式\n#### 工厂方法模式\n#### 静态工厂模式\n","source":"_posts/AbstractFactory.md","raw":"---\ntitle: 抽象工厂模式\ndate: 2019-07-22 17:40:10\ntags: 概念介绍\ncategories: 设计模式\n---\n## 目的\n在不指定具体类的情况下创建一系列相关或依赖对象。 通常创建的类都实现相同的接口。 抽象工厂的客户并不关心这些对象是如何创建的，它只是知道它们是如何一起运行的。\n## 举例\n#### \n```php\n<?php\nclass KuaidiBirdLogic extends BaseLogic\n{\n    private $basic;\n    private $num;\n    public function __construct(int $num, int $basic)\n    {\n        $this->num = $num;\n        $this->basic = $basic;\n    }\n}\nclass KuaidiOneLogic implements KuaidiBase\n{\n    private $num;\n    public function __construct(int $num)\n    {\n        $this->num = $num;\n    }\n}\n```\n定义抽象工厂类\n```php\n<?php\nclass ExpressFactory extends Model\n{\n    public function getKuaidiBirdList() {\n        return new KuaidiBirdLogic(12, 13);\n    }\n    public function getKuaidiOneLogic() {\n        return new KuaidiOneLogic();\n    }\n}\n\n```\n## 几种工厂模式的区别\n#### 抽象工厂模式\n类似于示例Basic\n#### 简单工厂模式\n#### 工厂方法模式\n#### 静态工厂模式\n","slug":"AbstractFactory","published":1,"updated":"2019-12-10T01:49:46.532Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwr0000nd87p3xu6uyv0","content":"<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p>在不指定具体类的情况下创建一系列相关或依赖对象。 通常创建的类都实现相同的接口。 抽象工厂的客户并不关心这些对象是如何创建的，它只是知道它们是如何一起运行的。</p>\n<h2 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h2><p>####<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KuaidiBirdLogic</span> <span class=\"keyword\">extends</span> <span class=\"title\">BaseLogic</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $basic;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $num;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(int $num, int $basic)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;num = $num;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;basic = $basic;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KuaidiOneLogic</span> <span class=\"keyword\">implements</span> <span class=\"title\">KuaidiBase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $num;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(int $num)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;num = $num;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>定义抽象工厂类<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ExpressFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">Model</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getKuaidiBirdList</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> KuaidiBirdLogic(<span class=\"number\">12</span>, <span class=\"number\">13</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getKuaidiOneLogic</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> KuaidiOneLogic();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"几种工厂模式的区别\"><a href=\"#几种工厂模式的区别\" class=\"headerlink\" title=\"几种工厂模式的区别\"></a>几种工厂模式的区别</h2><h4 id=\"抽象工厂模式\"><a href=\"#抽象工厂模式\" class=\"headerlink\" title=\"抽象工厂模式\"></a>抽象工厂模式</h4><p>类似于示例Basic</p>\n<h4 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h4><h4 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h4><h4 id=\"静态工厂模式\"><a href=\"#静态工厂模式\" class=\"headerlink\" title=\"静态工厂模式\"></a>静态工厂模式</h4>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p>在不指定具体类的情况下创建一系列相关或依赖对象。 通常创建的类都实现相同的接口。 抽象工厂的客户并不关心这些对象是如何创建的，它只是知道它们是如何一起运行的。</p>\n<h2 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h2><p>####<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KuaidiBirdLogic</span> <span class=\"keyword\">extends</span> <span class=\"title\">BaseLogic</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $basic;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $num;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(int $num, int $basic)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;num = $num;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;basic = $basic;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KuaidiOneLogic</span> <span class=\"keyword\">implements</span> <span class=\"title\">KuaidiBase</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $num;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(int $num)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;num = $num;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>定义抽象工厂类<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ExpressFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">Model</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getKuaidiBirdList</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> KuaidiBirdLogic(<span class=\"number\">12</span>, <span class=\"number\">13</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getKuaidiOneLogic</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> KuaidiOneLogic();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"几种工厂模式的区别\"><a href=\"#几种工厂模式的区别\" class=\"headerlink\" title=\"几种工厂模式的区别\"></a>几种工厂模式的区别</h2><h4 id=\"抽象工厂模式\"><a href=\"#抽象工厂模式\" class=\"headerlink\" title=\"抽象工厂模式\"></a>抽象工厂模式</h4><p>类似于示例Basic</p>\n<h4 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h4><h4 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h4><h4 id=\"静态工厂模式\"><a href=\"#静态工厂模式\" class=\"headerlink\" title=\"静态工厂模式\"></a>静态工厂模式</h4>"},{"title":"在github上使用Hexo 搭建个人博客","date":"2019-04-01T03:03:10.000Z","_content":"# 安装\n**简介**\nHexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。\n**安装前提**\nnode.js\ngit\n**安装步骤**\n```\nnpm install -g hexo-cli\n```\n# 建站\n```\nhexo init <folder>\ncd <folder>\nnpm install\n```\n# 创建博客\n```\nhexo new [layout] <title> #hexo n\nhexo generate（或者hexo g:生成静态文件） #hexo g\nhexo publish [layout] <filename>（发布草稿）\nhexo server（启动服务器）\nhexo deploy（或者hexo d:部署）\nhexo render <file1> [file2] ...（渲染文件）\nhexo migrate <type>（从其他博客迁移内容）\nhexo clean（清除缓存文件 (db.json) 和已生成的静态文件 (public)）\nhexo list（列出网站资料）\nhexo version（显示 Hexo 版本）\n#部署使用hexo deploy (hexo d,需要先编译)\n```\n# 添加评论\n可以使用gitment或者valine\n[valine评论](https://blog.csdn.net/blue_zy/article/details/79071414 \"valine评论\")\n[gitment评论](https://blog.csdn.net/Biebersxzl/article/details/81913680 \"gitment评论\")\n**注意事项**\n1 如果添加了CNAME，回调地址需要填绑定的地址\n2 如果需要开启评论，除了百度能搜到的步骤以外，还需要本地安装博客评论模块\nnpm i --save gitment\n再重新hexo g -d一下\n3 作者的服务器停掉了，因此需要修改js源码来源：\n[修改源](https://blog.csdn.net/wardseptember/article/details/82828391 \"修改源\")\n（也可以wget将源码下载下来后修改源到自己服务器上）\n\n\n\n\n\n","source":"_posts/Hexo.md","raw":"---\ntitle: 在github上使用Hexo 搭建个人博客\ndate: 2019-04-01 11:03:10\ntags:\ncategories: 前端\n---\n# 安装\n**简介**\nHexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。\n**安装前提**\nnode.js\ngit\n**安装步骤**\n```\nnpm install -g hexo-cli\n```\n# 建站\n```\nhexo init <folder>\ncd <folder>\nnpm install\n```\n# 创建博客\n```\nhexo new [layout] <title> #hexo n\nhexo generate（或者hexo g:生成静态文件） #hexo g\nhexo publish [layout] <filename>（发布草稿）\nhexo server（启动服务器）\nhexo deploy（或者hexo d:部署）\nhexo render <file1> [file2] ...（渲染文件）\nhexo migrate <type>（从其他博客迁移内容）\nhexo clean（清除缓存文件 (db.json) 和已生成的静态文件 (public)）\nhexo list（列出网站资料）\nhexo version（显示 Hexo 版本）\n#部署使用hexo deploy (hexo d,需要先编译)\n```\n# 添加评论\n可以使用gitment或者valine\n[valine评论](https://blog.csdn.net/blue_zy/article/details/79071414 \"valine评论\")\n[gitment评论](https://blog.csdn.net/Biebersxzl/article/details/81913680 \"gitment评论\")\n**注意事项**\n1 如果添加了CNAME，回调地址需要填绑定的地址\n2 如果需要开启评论，除了百度能搜到的步骤以外，还需要本地安装博客评论模块\nnpm i --save gitment\n再重新hexo g -d一下\n3 作者的服务器停掉了，因此需要修改js源码来源：\n[修改源](https://blog.csdn.net/wardseptember/article/details/82828391 \"修改源\")\n（也可以wget将源码下载下来后修改源到自己服务器上）\n\n\n\n\n\n","slug":"Hexo","published":1,"updated":"2019-12-10T01:49:46.532Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwr3000sd87plu9i3ny6","content":"<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><p><strong>简介</strong><br>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。<br><strong>安装前提</strong><br>node.js<br>git<br><strong>安装步骤</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"建站\"><a href=\"#建站\" class=\"headerlink\" title=\"建站\"></a>建站</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br><span class=\"line\">cd &lt;folder&gt;</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n<h1 id=\"创建博客\"><a href=\"#创建博客\" class=\"headerlink\" title=\"创建博客\"></a>创建博客</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new [layout] &lt;title&gt; #hexo n</span><br><span class=\"line\">hexo generate（或者hexo g:生成静态文件） #hexo g</span><br><span class=\"line\">hexo publish [layout] &lt;filename&gt;（发布草稿）</span><br><span class=\"line\">hexo server（启动服务器）</span><br><span class=\"line\">hexo deploy（或者hexo d:部署）</span><br><span class=\"line\">hexo render &lt;file1&gt; [file2] ...（渲染文件）</span><br><span class=\"line\">hexo migrate &lt;type&gt;（从其他博客迁移内容）</span><br><span class=\"line\">hexo clean（清除缓存文件 (db.json) 和已生成的静态文件 (public)）</span><br><span class=\"line\">hexo list（列出网站资料）</span><br><span class=\"line\">hexo version（显示 Hexo 版本）</span><br><span class=\"line\">#部署使用hexo deploy (hexo d,需要先编译)</span><br></pre></td></tr></table></figure>\n<h1 id=\"添加评论\"><a href=\"#添加评论\" class=\"headerlink\" title=\"添加评论\"></a>添加评论</h1><p>可以使用gitment或者valine<br><a href=\"https://blog.csdn.net/blue_zy/article/details/79071414\" title=\"valine评论\" target=\"_blank\" rel=\"noopener\">valine评论</a><br><a href=\"https://blog.csdn.net/Biebersxzl/article/details/81913680\" title=\"gitment评论\" target=\"_blank\" rel=\"noopener\">gitment评论</a><br><strong>注意事项</strong><br>1 如果添加了CNAME，回调地址需要填绑定的地址<br>2 如果需要开启评论，除了百度能搜到的步骤以外，还需要本地安装博客评论模块<br>npm i –save gitment<br>再重新hexo g -d一下<br>3 作者的服务器停掉了，因此需要修改js源码来源：<br><a href=\"https://blog.csdn.net/wardseptember/article/details/82828391\" title=\"修改源\" target=\"_blank\" rel=\"noopener\">修改源</a><br>（也可以wget将源码下载下来后修改源到自己服务器上）</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><p><strong>简介</strong><br>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。<br><strong>安装前提</strong><br>node.js<br>git<br><strong>安装步骤</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"建站\"><a href=\"#建站\" class=\"headerlink\" title=\"建站\"></a>建站</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br><span class=\"line\">cd &lt;folder&gt;</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n<h1 id=\"创建博客\"><a href=\"#创建博客\" class=\"headerlink\" title=\"创建博客\"></a>创建博客</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new [layout] &lt;title&gt; #hexo n</span><br><span class=\"line\">hexo generate（或者hexo g:生成静态文件） #hexo g</span><br><span class=\"line\">hexo publish [layout] &lt;filename&gt;（发布草稿）</span><br><span class=\"line\">hexo server（启动服务器）</span><br><span class=\"line\">hexo deploy（或者hexo d:部署）</span><br><span class=\"line\">hexo render &lt;file1&gt; [file2] ...（渲染文件）</span><br><span class=\"line\">hexo migrate &lt;type&gt;（从其他博客迁移内容）</span><br><span class=\"line\">hexo clean（清除缓存文件 (db.json) 和已生成的静态文件 (public)）</span><br><span class=\"line\">hexo list（列出网站资料）</span><br><span class=\"line\">hexo version（显示 Hexo 版本）</span><br><span class=\"line\">#部署使用hexo deploy (hexo d,需要先编译)</span><br></pre></td></tr></table></figure>\n<h1 id=\"添加评论\"><a href=\"#添加评论\" class=\"headerlink\" title=\"添加评论\"></a>添加评论</h1><p>可以使用gitment或者valine<br><a href=\"https://blog.csdn.net/blue_zy/article/details/79071414\" title=\"valine评论\" target=\"_blank\" rel=\"noopener\">valine评论</a><br><a href=\"https://blog.csdn.net/Biebersxzl/article/details/81913680\" title=\"gitment评论\" target=\"_blank\" rel=\"noopener\">gitment评论</a><br><strong>注意事项</strong><br>1 如果添加了CNAME，回调地址需要填绑定的地址<br>2 如果需要开启评论，除了百度能搜到的步骤以外，还需要本地安装博客评论模块<br>npm i –save gitment<br>再重新hexo g -d一下<br>3 作者的服务器停掉了，因此需要修改js源码来源：<br><a href=\"https://blog.csdn.net/wardseptember/article/details/82828391\" title=\"修改源\" target=\"_blank\" rel=\"noopener\">修改源</a><br>（也可以wget将源码下载下来后修改源到自己服务器上）</p>\n"},{"title":"virtualbox搭建LANP环境（ubuntu）","date":"2019-04-28T06:00:40.000Z","_content":"## 1 基础软件下载\nvirtual box\nubuntu(ubuntu server)\n## 2 安装ubuntu\n(1)virtualbox创建虚拟电脑\n注意：最好重新设置virtualbox->管理->全局设定->默认虚拟电脑位置\n(2)启动，网络设置成网络地址转换(NAT)\n(3)重启的时候需要弹出U盘或者改变镜像位置\n(4)如果提示未指定nat网络名称，管理->全局设定->网络->nat网络（添加一条）\n(5)\n## 3 配置ssh\n(1)添加端口映射（例如2222->22）,注意主机端口不可重复，且子系统ip不填\n(2)ubuntu安装ssh\n```\nsudo apt-get install openssh-server\n```\n(3)xshell等工具连接，端口号为转发的主机端口\n## 4 安装php nginx Mysql\n(1)安装php\n```\nsudo apt-get install php7.0 \n```\n(2)安装nginx\n```\nsudo apt-get install nginx\n```\n(3)安装Mysql\n```\nsudo apt-get install mysql-server-5.7 mysql-client-5.7\n```\n## 5 基础配置\n(1)安装PHPFastCGI管理器\nsudo apt install php7.2-fpm\n\n## 6其他tips\n(1)配置sudo\n修改 /etc/sudoers，末尾添加一行：\n``` \ntest    ALL=(ALL) NOPASSWD: ALL\n```\ntest表示用户名；\n保存退出后执行一下命令：\n``` \nsudo usermod -aG test test\n```\n(2)配置共享文件夹且自启动\n1 virtualbox(设置-共享文件夹-勾选固定分配(不勾选自动挂载))\n2 ubuntu创建文件夹\n3 挂载共享文件夹\n``` \nsudo mount -t vboxsf filesname /mnt/filesname\n```\n**报错**\n可能报错wrong fs type, bad option, bad superblock\n，经过搜索需要安装```apt-get install nfs-common```   \n但是安装后依旧报错，查看系统日志，报错信息如下：\n![explain](mysqlIndex/error.png)\n只查到了一条有用的记录，且是英文的，原来这是virtualbox的一个bug，我记得virtualbox还有一个bug,就是不能在共享文件夹里使用python的虚拟环境，但是这版直接共享文件夹都不能挂载了。路径如下：\n[virtualbox bug](https://www.virtualbox.org/ticket/9307 \"virtualbox bug\")\n再安装两个插件即可\n``` \nsudo apt install cifs-utils\nsudo apt install virtualbox-guest-utils\n```\n4 共享文件挂载自启动\n(3)配置rsa\n1 windows生成私钥\n```\nssh-keygen -t rsa -C <your_email@example.com>\n```\n2 git配置\n在git配置上加上公钥\n3 linux配置对应rsa\n进入当前用户的home目录(~)，创建.ssh文件夹,复制私钥到文件夹下，进入项目目录，即可执行git clone(可能权限不够，可以暂时把项目目录设置成777)\n## 7 配置\n#### 1 配置nginx\n```\nsudo vim /etc/nginx/sites-enabled/default\n//需要给默认index加上index.php\n```\n","source":"_posts/LANP.md","raw":"---\ntitle: virtualbox搭建LANP环境（ubuntu）\ndate: 2019-04-28 14:00:40\ntags:\n---\n## 1 基础软件下载\nvirtual box\nubuntu(ubuntu server)\n## 2 安装ubuntu\n(1)virtualbox创建虚拟电脑\n注意：最好重新设置virtualbox->管理->全局设定->默认虚拟电脑位置\n(2)启动，网络设置成网络地址转换(NAT)\n(3)重启的时候需要弹出U盘或者改变镜像位置\n(4)如果提示未指定nat网络名称，管理->全局设定->网络->nat网络（添加一条）\n(5)\n## 3 配置ssh\n(1)添加端口映射（例如2222->22）,注意主机端口不可重复，且子系统ip不填\n(2)ubuntu安装ssh\n```\nsudo apt-get install openssh-server\n```\n(3)xshell等工具连接，端口号为转发的主机端口\n## 4 安装php nginx Mysql\n(1)安装php\n```\nsudo apt-get install php7.0 \n```\n(2)安装nginx\n```\nsudo apt-get install nginx\n```\n(3)安装Mysql\n```\nsudo apt-get install mysql-server-5.7 mysql-client-5.7\n```\n## 5 基础配置\n(1)安装PHPFastCGI管理器\nsudo apt install php7.2-fpm\n\n## 6其他tips\n(1)配置sudo\n修改 /etc/sudoers，末尾添加一行：\n``` \ntest    ALL=(ALL) NOPASSWD: ALL\n```\ntest表示用户名；\n保存退出后执行一下命令：\n``` \nsudo usermod -aG test test\n```\n(2)配置共享文件夹且自启动\n1 virtualbox(设置-共享文件夹-勾选固定分配(不勾选自动挂载))\n2 ubuntu创建文件夹\n3 挂载共享文件夹\n``` \nsudo mount -t vboxsf filesname /mnt/filesname\n```\n**报错**\n可能报错wrong fs type, bad option, bad superblock\n，经过搜索需要安装```apt-get install nfs-common```   \n但是安装后依旧报错，查看系统日志，报错信息如下：\n![explain](mysqlIndex/error.png)\n只查到了一条有用的记录，且是英文的，原来这是virtualbox的一个bug，我记得virtualbox还有一个bug,就是不能在共享文件夹里使用python的虚拟环境，但是这版直接共享文件夹都不能挂载了。路径如下：\n[virtualbox bug](https://www.virtualbox.org/ticket/9307 \"virtualbox bug\")\n再安装两个插件即可\n``` \nsudo apt install cifs-utils\nsudo apt install virtualbox-guest-utils\n```\n4 共享文件挂载自启动\n(3)配置rsa\n1 windows生成私钥\n```\nssh-keygen -t rsa -C <your_email@example.com>\n```\n2 git配置\n在git配置上加上公钥\n3 linux配置对应rsa\n进入当前用户的home目录(~)，创建.ssh文件夹,复制私钥到文件夹下，进入项目目录，即可执行git clone(可能权限不够，可以暂时把项目目录设置成777)\n## 7 配置\n#### 1 配置nginx\n```\nsudo vim /etc/nginx/sites-enabled/default\n//需要给默认index加上index.php\n```\n","slug":"LANP","published":1,"updated":"2019-12-10T01:49:46.532Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwr4000vd87prvypx44x","content":"<h2 id=\"1-基础软件下载\"><a href=\"#1-基础软件下载\" class=\"headerlink\" title=\"1 基础软件下载\"></a>1 基础软件下载</h2><p>virtual box<br>ubuntu(ubuntu server)</p>\n<h2 id=\"2-安装ubuntu\"><a href=\"#2-安装ubuntu\" class=\"headerlink\" title=\"2 安装ubuntu\"></a>2 安装ubuntu</h2><p>(1)virtualbox创建虚拟电脑<br>注意：最好重新设置virtualbox-&gt;管理-&gt;全局设定-&gt;默认虚拟电脑位置<br>(2)启动，网络设置成网络地址转换(NAT)<br>(3)重启的时候需要弹出U盘或者改变镜像位置<br>(4)如果提示未指定nat网络名称，管理-&gt;全局设定-&gt;网络-&gt;nat网络（添加一条）<br>(5)</p>\n<h2 id=\"3-配置ssh\"><a href=\"#3-配置ssh\" class=\"headerlink\" title=\"3 配置ssh\"></a>3 配置ssh</h2><p>(1)添加端口映射（例如2222-&gt;22）,注意主机端口不可重复，且子系统ip不填<br>(2)ubuntu安装ssh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure></p>\n<p>(3)xshell等工具连接，端口号为转发的主机端口</p>\n<h2 id=\"4-安装php-nginx-Mysql\"><a href=\"#4-安装php-nginx-Mysql\" class=\"headerlink\" title=\"4 安装php nginx Mysql\"></a>4 安装php nginx Mysql</h2><p>(1)安装php<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install php7.0</span><br></pre></td></tr></table></figure></p>\n<p>(2)安装nginx<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install nginx</span><br></pre></td></tr></table></figure></p>\n<p>(3)安装Mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install mysql-server-5.7 mysql-client-5.7</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"5-基础配置\"><a href=\"#5-基础配置\" class=\"headerlink\" title=\"5 基础配置\"></a>5 基础配置</h2><p>(1)安装PHPFastCGI管理器<br>sudo apt install php7.2-fpm</p>\n<h2 id=\"6其他tips\"><a href=\"#6其他tips\" class=\"headerlink\" title=\"6其他tips\"></a>6其他tips</h2><p>(1)配置sudo<br>修改 /etc/sudoers，末尾添加一行：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test    ALL=(ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure></p>\n<p>test表示用户名；<br>保存退出后执行一下命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo usermod -aG test test</span><br></pre></td></tr></table></figure></p>\n<p>(2)配置共享文件夹且自启动<br>1 virtualbox(设置-共享文件夹-勾选固定分配(不勾选自动挂载))<br>2 ubuntu创建文件夹<br>3 挂载共享文件夹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mount -t vboxsf filesname /mnt/filesname</span><br></pre></td></tr></table></figure></p>\n<p><strong>报错</strong><br>可能报错wrong fs type, bad option, bad superblock<br>，经过搜索需要安装<figure class=\"highlight plain\"><figcaption><span>install nfs-common```   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">但是安装后依旧报错，查看系统日志，报错信息如下：</span><br><span class=\"line\">![explain](mysqlIndex/error.png)</span><br><span class=\"line\">只查到了一条有用的记录，且是英文的，原来这是virtualbox的一个bug，我记得virtualbox还有一个bug,就是不能在共享文件夹里使用python的虚拟环境，但是这版直接共享文件夹都不能挂载了。路径如下：</span><br><span class=\"line\">[virtualbox bug](https://www.virtualbox.org/ticket/9307 &quot;virtualbox bug&quot;)</span><br><span class=\"line\">再安装两个插件即可</span><br><span class=\"line\">``` </span><br><span class=\"line\">sudo apt install cifs-utils</span><br><span class=\"line\">sudo apt install virtualbox-guest-utils</span><br></pre></td></tr></table></figure></p>\n<p>4 共享文件挂载自启动<br>(3)配置rsa<br>1 windows生成私钥<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C &lt;your_email@example.com&gt;</span><br></pre></td></tr></table></figure></p>\n<p>2 git配置<br>在git配置上加上公钥<br>3 linux配置对应rsa<br>进入当前用户的home目录(~)，创建.ssh文件夹,复制私钥到文件夹下，进入项目目录，即可执行git clone(可能权限不够，可以暂时把项目目录设置成777)</p>\n<h2 id=\"7-配置\"><a href=\"#7-配置\" class=\"headerlink\" title=\"7 配置\"></a>7 配置</h2><h4 id=\"1-配置nginx\"><a href=\"#1-配置nginx\" class=\"headerlink\" title=\"1 配置nginx\"></a>1 配置nginx</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/nginx/sites-enabled/default</span><br><span class=\"line\">//需要给默认index加上index.php</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-基础软件下载\"><a href=\"#1-基础软件下载\" class=\"headerlink\" title=\"1 基础软件下载\"></a>1 基础软件下载</h2><p>virtual box<br>ubuntu(ubuntu server)</p>\n<h2 id=\"2-安装ubuntu\"><a href=\"#2-安装ubuntu\" class=\"headerlink\" title=\"2 安装ubuntu\"></a>2 安装ubuntu</h2><p>(1)virtualbox创建虚拟电脑<br>注意：最好重新设置virtualbox-&gt;管理-&gt;全局设定-&gt;默认虚拟电脑位置<br>(2)启动，网络设置成网络地址转换(NAT)<br>(3)重启的时候需要弹出U盘或者改变镜像位置<br>(4)如果提示未指定nat网络名称，管理-&gt;全局设定-&gt;网络-&gt;nat网络（添加一条）<br>(5)</p>\n<h2 id=\"3-配置ssh\"><a href=\"#3-配置ssh\" class=\"headerlink\" title=\"3 配置ssh\"></a>3 配置ssh</h2><p>(1)添加端口映射（例如2222-&gt;22）,注意主机端口不可重复，且子系统ip不填<br>(2)ubuntu安装ssh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure></p>\n<p>(3)xshell等工具连接，端口号为转发的主机端口</p>\n<h2 id=\"4-安装php-nginx-Mysql\"><a href=\"#4-安装php-nginx-Mysql\" class=\"headerlink\" title=\"4 安装php nginx Mysql\"></a>4 安装php nginx Mysql</h2><p>(1)安装php<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install php7.0</span><br></pre></td></tr></table></figure></p>\n<p>(2)安装nginx<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install nginx</span><br></pre></td></tr></table></figure></p>\n<p>(3)安装Mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install mysql-server-5.7 mysql-client-5.7</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"5-基础配置\"><a href=\"#5-基础配置\" class=\"headerlink\" title=\"5 基础配置\"></a>5 基础配置</h2><p>(1)安装PHPFastCGI管理器<br>sudo apt install php7.2-fpm</p>\n<h2 id=\"6其他tips\"><a href=\"#6其他tips\" class=\"headerlink\" title=\"6其他tips\"></a>6其他tips</h2><p>(1)配置sudo<br>修改 /etc/sudoers，末尾添加一行：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test    ALL=(ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure></p>\n<p>test表示用户名；<br>保存退出后执行一下命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo usermod -aG test test</span><br></pre></td></tr></table></figure></p>\n<p>(2)配置共享文件夹且自启动<br>1 virtualbox(设置-共享文件夹-勾选固定分配(不勾选自动挂载))<br>2 ubuntu创建文件夹<br>3 挂载共享文件夹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mount -t vboxsf filesname /mnt/filesname</span><br></pre></td></tr></table></figure></p>\n<p><strong>报错</strong><br>可能报错wrong fs type, bad option, bad superblock<br>，经过搜索需要安装<figure class=\"highlight plain\"><figcaption><span>install nfs-common```   </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">但是安装后依旧报错，查看系统日志，报错信息如下：</span><br><span class=\"line\">![explain](mysqlIndex/error.png)</span><br><span class=\"line\">只查到了一条有用的记录，且是英文的，原来这是virtualbox的一个bug，我记得virtualbox还有一个bug,就是不能在共享文件夹里使用python的虚拟环境，但是这版直接共享文件夹都不能挂载了。路径如下：</span><br><span class=\"line\">[virtualbox bug](https://www.virtualbox.org/ticket/9307 &quot;virtualbox bug&quot;)</span><br><span class=\"line\">再安装两个插件即可</span><br><span class=\"line\">``` </span><br><span class=\"line\">sudo apt install cifs-utils</span><br><span class=\"line\">sudo apt install virtualbox-guest-utils</span><br></pre></td></tr></table></figure></p>\n<p>4 共享文件挂载自启动<br>(3)配置rsa<br>1 windows生成私钥<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C &lt;your_email@example.com&gt;</span><br></pre></td></tr></table></figure></p>\n<p>2 git配置<br>在git配置上加上公钥<br>3 linux配置对应rsa<br>进入当前用户的home目录(~)，创建.ssh文件夹,复制私钥到文件夹下，进入项目目录，即可执行git clone(可能权限不够，可以暂时把项目目录设置成777)</p>\n<h2 id=\"7-配置\"><a href=\"#7-配置\" class=\"headerlink\" title=\"7 配置\"></a>7 配置</h2><h4 id=\"1-配置nginx\"><a href=\"#1-配置nginx\" class=\"headerlink\" title=\"1 配置nginx\"></a>1 配置nginx</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/nginx/sites-enabled/default</span><br><span class=\"line\">//需要给默认index加上index.php</span><br></pre></td></tr></table></figure>\n"},{"title":"一些php知识","date":"2019-03-28T06:00:40.000Z","_content":"## argc和argv\n$argv代表传递的参数,$argc代表参数个数（相对路径+传的参数）\n**示例**\n```php\n<?php\necho $argv[0];     echo \"\\n\";\nvar_dump($argv[1]);    echo \"\\n\";\nvar_dump(intval($argv[2]));  echo \"\\n\";\necho $argv[3];     echo \"\\n\";\necho $argc;\n```\n","source":"_posts/Laurel.md","raw":"---\ntitle: 一些php知识\ndate: 2019-03-28 14:00:40\ntags:\n---\n## argc和argv\n$argv代表传递的参数,$argc代表参数个数（相对路径+传的参数）\n**示例**\n```php\n<?php\necho $argv[0];     echo \"\\n\";\nvar_dump($argv[1]);    echo \"\\n\";\nvar_dump(intval($argv[2]));  echo \"\\n\";\necho $argv[3];     echo \"\\n\";\necho $argc;\n```\n","slug":"Laurel","published":1,"updated":"2019-12-10T01:49:46.532Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwr6000zd87ptees0fj3","content":"<h2 id=\"argc和argv\"><a href=\"#argc和argv\" class=\"headerlink\" title=\"argc和argv\"></a>argc和argv</h2><p>$argv代表传递的参数,$argc代表参数个数（相对路径+传的参数）<br><strong>示例</strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argv[<span class=\"number\">0</span>];     <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">var_dump($argv[<span class=\"number\">1</span>]);    <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">var_dump(intval($argv[<span class=\"number\">2</span>]));  <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argv[<span class=\"number\">3</span>];     <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argc;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"argc和argv\"><a href=\"#argc和argv\" class=\"headerlink\" title=\"argc和argv\"></a>argc和argv</h2><p>$argv代表传递的参数,$argc代表参数个数（相对路径+传的参数）<br><strong>示例</strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argv[<span class=\"number\">0</span>];     <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">var_dump($argv[<span class=\"number\">1</span>]);    <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">var_dump(intval($argv[<span class=\"number\">2</span>]));  <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argv[<span class=\"number\">3</span>];     <span class=\"keyword\">echo</span> <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">echo</span> $argc;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"Laravel 日志系统","date":"2019-04-11T07:23:44.000Z","_content":"## 1 （自己摸索版本）5.2\n#### 1 定义路径\n.env配置文件添加日志路径，例如\n``` \nLOG_PATH=/tmp/paytest\n```\n#### 2 启动文件添加日志路径\n```php\n$app->configureMonologUsing(function($logger){\n    $logger->pushHandler(new \\Monolog\\Handler\\RotatingFileHandler(env('LOG_PATH').'.log'), 10);\n    return $logger;\n});\n```\n## 2 官方文档\n#### 1 异常处理\n**介绍**\n当您启动一个新的 Laravel 项目时，错误和异常处理就已为您配置。 应用程序触发的所有异常都被 App\\Exceptions\\Handler 类记录下来，然后渲染给用户。 我们将在本文档中深入介绍此类。\n**配置**\n（1）config/app.php 文件的 debug 选项，决定了是否向用户显示错误信息。默认情况下，此选项设置为存储在 .env 文件中的  APP_DEBUG 环境变量中。\n（2）Laravel 支持 single 、daily 、 syslog 和 errorlog 日志模式。要配置 Laravel 使用的存储机制，应该修改 config/app.php 配置文件中的 log 选项。例如，如果您希望使用每日一个日志文件而不是单个文件，则应将 app 配置文件中的 log 值设置为 daily\n**日志等级**\n使用 Monolog 时，日志消息可能具有不同的日志等级。默认情况下，Laravel 将所有日志级别写入存储。但是，在生产环境中，您可能希望通过将 log_level 选项添加到 app.php 配置文件中来配置应记录的最低日志等级。\n\n一旦配置了此选项，Laravel 将记录大于或等于指定日志等级的所有级别。例如，默认将 log_level 设置为 error 那么将会记录 error , critical , alert 和 emergency 日志信息：\n``` \n'log_level' => env('APP_LOG_LEVEL', 'error'),\n```\n**注意事项**\n Monolog 识别以下日志等级 - 从低到高为: debug , info , notice , warning , error , critical , alert , emergency\n**Report方法**\n所有异常都由 App\\Exceptions\\Handler 类处理。 这个类包含两个方法：report 和 render 。 我们将详细研究这些方法。 report 方法用于记录异常或将其发送到外部服务，如 Bugsnag 或 Sentry 。默认情况下，report 方法只是将异常传递给记录异常的基类。然而，你可以自由选择任何方式进行处理。\n**render方法**\nrender 方法负责将异常转换成 HTTP 响应发送给浏览器。默认情况下，异常会传递给为您生成响应的基类。但是，您可以自由检查异常类型或返回您自己的自定义响应\n``` \n/**\n * 渲染异常并添加到 HTTP 响应中。\n *\n * @param  \\Illuminate\\Http\\Request  $request\n * @param  \\Exception  $exception\n * @return \\Illuminate\\Http\\Response\n */\npublic function render($request, Exception $exception)\n{\n    if ($exception instanceof CustomException) {\n        return response()->view('errors.custom', [], 500);\n    }\n\n    return parent::render($request, $exception);\n}\n```\n**HTTP异常**\n可直接用abort()，例如abort(404),abort(403, 'Unauthorized action.');\n**自定义错误页面**\n如果您要自定义404 HTTP状态代码的错误页面，请创建一个 resources/views/errors/404.blade.php 。此文件将会用于渲染所有404错误。此目录中的视图文件命名应与它们对应的HTTP状态代码匹配。由 abort 函数引发的 HttpException 实例将作为 $exception 变量传递给视图。\n#### 2 记录\n**介绍**\n默认情况下，Laravel 日志目录为 storage/logs\n可以传递参数，例如：\n``` \n$test = \"test\";\nLog::info(222222222, ['te' => $test]);\n```\n\n\n\n","source":"_posts/Log.md","raw":"---\ntitle: Laravel 日志系统\ndate: 2019-04-11 15:23:44\ntags:\n---\n## 1 （自己摸索版本）5.2\n#### 1 定义路径\n.env配置文件添加日志路径，例如\n``` \nLOG_PATH=/tmp/paytest\n```\n#### 2 启动文件添加日志路径\n```php\n$app->configureMonologUsing(function($logger){\n    $logger->pushHandler(new \\Monolog\\Handler\\RotatingFileHandler(env('LOG_PATH').'.log'), 10);\n    return $logger;\n});\n```\n## 2 官方文档\n#### 1 异常处理\n**介绍**\n当您启动一个新的 Laravel 项目时，错误和异常处理就已为您配置。 应用程序触发的所有异常都被 App\\Exceptions\\Handler 类记录下来，然后渲染给用户。 我们将在本文档中深入介绍此类。\n**配置**\n（1）config/app.php 文件的 debug 选项，决定了是否向用户显示错误信息。默认情况下，此选项设置为存储在 .env 文件中的  APP_DEBUG 环境变量中。\n（2）Laravel 支持 single 、daily 、 syslog 和 errorlog 日志模式。要配置 Laravel 使用的存储机制，应该修改 config/app.php 配置文件中的 log 选项。例如，如果您希望使用每日一个日志文件而不是单个文件，则应将 app 配置文件中的 log 值设置为 daily\n**日志等级**\n使用 Monolog 时，日志消息可能具有不同的日志等级。默认情况下，Laravel 将所有日志级别写入存储。但是，在生产环境中，您可能希望通过将 log_level 选项添加到 app.php 配置文件中来配置应记录的最低日志等级。\n\n一旦配置了此选项，Laravel 将记录大于或等于指定日志等级的所有级别。例如，默认将 log_level 设置为 error 那么将会记录 error , critical , alert 和 emergency 日志信息：\n``` \n'log_level' => env('APP_LOG_LEVEL', 'error'),\n```\n**注意事项**\n Monolog 识别以下日志等级 - 从低到高为: debug , info , notice , warning , error , critical , alert , emergency\n**Report方法**\n所有异常都由 App\\Exceptions\\Handler 类处理。 这个类包含两个方法：report 和 render 。 我们将详细研究这些方法。 report 方法用于记录异常或将其发送到外部服务，如 Bugsnag 或 Sentry 。默认情况下，report 方法只是将异常传递给记录异常的基类。然而，你可以自由选择任何方式进行处理。\n**render方法**\nrender 方法负责将异常转换成 HTTP 响应发送给浏览器。默认情况下，异常会传递给为您生成响应的基类。但是，您可以自由检查异常类型或返回您自己的自定义响应\n``` \n/**\n * 渲染异常并添加到 HTTP 响应中。\n *\n * @param  \\Illuminate\\Http\\Request  $request\n * @param  \\Exception  $exception\n * @return \\Illuminate\\Http\\Response\n */\npublic function render($request, Exception $exception)\n{\n    if ($exception instanceof CustomException) {\n        return response()->view('errors.custom', [], 500);\n    }\n\n    return parent::render($request, $exception);\n}\n```\n**HTTP异常**\n可直接用abort()，例如abort(404),abort(403, 'Unauthorized action.');\n**自定义错误页面**\n如果您要自定义404 HTTP状态代码的错误页面，请创建一个 resources/views/errors/404.blade.php 。此文件将会用于渲染所有404错误。此目录中的视图文件命名应与它们对应的HTTP状态代码匹配。由 abort 函数引发的 HttpException 实例将作为 $exception 变量传递给视图。\n#### 2 记录\n**介绍**\n默认情况下，Laravel 日志目录为 storage/logs\n可以传递参数，例如：\n``` \n$test = \"test\";\nLog::info(222222222, ['te' => $test]);\n```\n\n\n\n","slug":"Log","published":1,"updated":"2019-12-10T01:49:46.533Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwr80011d87p391uwrge","content":"<h2 id=\"1-（自己摸索版本）5-2\"><a href=\"#1-（自己摸索版本）5-2\" class=\"headerlink\" title=\"1 （自己摸索版本）5.2\"></a>1 （自己摸索版本）5.2</h2><h4 id=\"1-定义路径\"><a href=\"#1-定义路径\" class=\"headerlink\" title=\"1 定义路径\"></a>1 定义路径</h4><p>.env配置文件添加日志路径，例如<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LOG_PATH=/tmp/paytest</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"2-启动文件添加日志路径\"><a href=\"#2-启动文件添加日志路径\" class=\"headerlink\" title=\"2 启动文件添加日志路径\"></a>2 启动文件添加日志路径</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$app-&gt;configureMonologUsing(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($logger)</span></span>&#123;</span><br><span class=\"line\">    $logger-&gt;pushHandler(<span class=\"keyword\">new</span> \\Monolog\\Handler\\RotatingFileHandler(env(<span class=\"string\">'LOG_PATH'</span>).<span class=\"string\">'.log'</span>), <span class=\"number\">10</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $logger;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-官方文档\"><a href=\"#2-官方文档\" class=\"headerlink\" title=\"2 官方文档\"></a>2 官方文档</h2><h4 id=\"1-异常处理\"><a href=\"#1-异常处理\" class=\"headerlink\" title=\"1 异常处理\"></a>1 异常处理</h4><p><strong>介绍</strong><br>当您启动一个新的 Laravel 项目时，错误和异常处理就已为您配置。 应用程序触发的所有异常都被 App\\Exceptions\\Handler 类记录下来，然后渲染给用户。 我们将在本文档中深入介绍此类。<br><strong>配置</strong><br>（1）config/app.php 文件的 debug 选项，决定了是否向用户显示错误信息。默认情况下，此选项设置为存储在 .env 文件中的  APP_DEBUG 环境变量中。<br>（2）Laravel 支持 single 、daily 、 syslog 和 errorlog 日志模式。要配置 Laravel 使用的存储机制，应该修改 config/app.php 配置文件中的 log 选项。例如，如果您希望使用每日一个日志文件而不是单个文件，则应将 app 配置文件中的 log 值设置为 daily<br><strong>日志等级</strong><br>使用 Monolog 时，日志消息可能具有不同的日志等级。默认情况下，Laravel 将所有日志级别写入存储。但是，在生产环境中，您可能希望通过将 log_level 选项添加到 app.php 配置文件中来配置应记录的最低日志等级。</p>\n<p>一旦配置了此选项，Laravel 将记录大于或等于指定日志等级的所有级别。例如，默认将 log_level 设置为 error 那么将会记录 error , critical , alert 和 emergency 日志信息：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&apos;log_level&apos; =&gt; env(&apos;APP_LOG_LEVEL&apos;, &apos;error&apos;),</span><br></pre></td></tr></table></figure></p>\n<p><strong>注意事项</strong><br> Monolog 识别以下日志等级 - 从低到高为: debug , info , notice , warning , error , critical , alert , emergency<br><strong>Report方法</strong><br>所有异常都由 App\\Exceptions\\Handler 类处理。 这个类包含两个方法：report 和 render 。 我们将详细研究这些方法。 report 方法用于记录异常或将其发送到外部服务，如 Bugsnag 或 Sentry 。默认情况下，report 方法只是将异常传递给记录异常的基类。然而，你可以自由选择任何方式进行处理。<br><strong>render方法</strong><br>render 方法负责将异常转换成 HTTP 响应发送给浏览器。默认情况下，异常会传递给为您生成响应的基类。但是，您可以自由检查异常类型或返回您自己的自定义响应<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * 渲染异常并添加到 HTTP 响应中。</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * @param  \\Illuminate\\Http\\Request  $request</span><br><span class=\"line\"> * @param  \\Exception  $exception</span><br><span class=\"line\"> * @return \\Illuminate\\Http\\Response</span><br><span class=\"line\"> */</span><br><span class=\"line\">public function render($request, Exception $exception)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    if ($exception instanceof CustomException) &#123;</span><br><span class=\"line\">        return response()-&gt;view(&apos;errors.custom&apos;, [], 500);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return parent::render($request, $exception);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>HTTP异常</strong><br>可直接用abort()，例如abort(404),abort(403, ‘Unauthorized action.’);<br><strong>自定义错误页面</strong><br>如果您要自定义404 HTTP状态代码的错误页面，请创建一个 resources/views/errors/404.blade.php 。此文件将会用于渲染所有404错误。此目录中的视图文件命名应与它们对应的HTTP状态代码匹配。由 abort 函数引发的 HttpException 实例将作为 $exception 变量传递给视图。</p>\n<h4 id=\"2-记录\"><a href=\"#2-记录\" class=\"headerlink\" title=\"2 记录\"></a>2 记录</h4><p><strong>介绍</strong><br>默认情况下，Laravel 日志目录为 storage/logs<br>可以传递参数，例如：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$test = &quot;test&quot;;</span><br><span class=\"line\">Log::info(222222222, [&apos;te&apos; =&gt; $test]);</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-（自己摸索版本）5-2\"><a href=\"#1-（自己摸索版本）5-2\" class=\"headerlink\" title=\"1 （自己摸索版本）5.2\"></a>1 （自己摸索版本）5.2</h2><h4 id=\"1-定义路径\"><a href=\"#1-定义路径\" class=\"headerlink\" title=\"1 定义路径\"></a>1 定义路径</h4><p>.env配置文件添加日志路径，例如<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LOG_PATH=/tmp/paytest</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"2-启动文件添加日志路径\"><a href=\"#2-启动文件添加日志路径\" class=\"headerlink\" title=\"2 启动文件添加日志路径\"></a>2 启动文件添加日志路径</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$app-&gt;configureMonologUsing(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($logger)</span></span>&#123;</span><br><span class=\"line\">    $logger-&gt;pushHandler(<span class=\"keyword\">new</span> \\Monolog\\Handler\\RotatingFileHandler(env(<span class=\"string\">'LOG_PATH'</span>).<span class=\"string\">'.log'</span>), <span class=\"number\">10</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $logger;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-官方文档\"><a href=\"#2-官方文档\" class=\"headerlink\" title=\"2 官方文档\"></a>2 官方文档</h2><h4 id=\"1-异常处理\"><a href=\"#1-异常处理\" class=\"headerlink\" title=\"1 异常处理\"></a>1 异常处理</h4><p><strong>介绍</strong><br>当您启动一个新的 Laravel 项目时，错误和异常处理就已为您配置。 应用程序触发的所有异常都被 App\\Exceptions\\Handler 类记录下来，然后渲染给用户。 我们将在本文档中深入介绍此类。<br><strong>配置</strong><br>（1）config/app.php 文件的 debug 选项，决定了是否向用户显示错误信息。默认情况下，此选项设置为存储在 .env 文件中的  APP_DEBUG 环境变量中。<br>（2）Laravel 支持 single 、daily 、 syslog 和 errorlog 日志模式。要配置 Laravel 使用的存储机制，应该修改 config/app.php 配置文件中的 log 选项。例如，如果您希望使用每日一个日志文件而不是单个文件，则应将 app 配置文件中的 log 值设置为 daily<br><strong>日志等级</strong><br>使用 Monolog 时，日志消息可能具有不同的日志等级。默认情况下，Laravel 将所有日志级别写入存储。但是，在生产环境中，您可能希望通过将 log_level 选项添加到 app.php 配置文件中来配置应记录的最低日志等级。</p>\n<p>一旦配置了此选项，Laravel 将记录大于或等于指定日志等级的所有级别。例如，默认将 log_level 设置为 error 那么将会记录 error , critical , alert 和 emergency 日志信息：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&apos;log_level&apos; =&gt; env(&apos;APP_LOG_LEVEL&apos;, &apos;error&apos;),</span><br></pre></td></tr></table></figure></p>\n<p><strong>注意事项</strong><br> Monolog 识别以下日志等级 - 从低到高为: debug , info , notice , warning , error , critical , alert , emergency<br><strong>Report方法</strong><br>所有异常都由 App\\Exceptions\\Handler 类处理。 这个类包含两个方法：report 和 render 。 我们将详细研究这些方法。 report 方法用于记录异常或将其发送到外部服务，如 Bugsnag 或 Sentry 。默认情况下，report 方法只是将异常传递给记录异常的基类。然而，你可以自由选择任何方式进行处理。<br><strong>render方法</strong><br>render 方法负责将异常转换成 HTTP 响应发送给浏览器。默认情况下，异常会传递给为您生成响应的基类。但是，您可以自由检查异常类型或返回您自己的自定义响应<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * 渲染异常并添加到 HTTP 响应中。</span><br><span class=\"line\"> *</span><br><span class=\"line\"> * @param  \\Illuminate\\Http\\Request  $request</span><br><span class=\"line\"> * @param  \\Exception  $exception</span><br><span class=\"line\"> * @return \\Illuminate\\Http\\Response</span><br><span class=\"line\"> */</span><br><span class=\"line\">public function render($request, Exception $exception)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    if ($exception instanceof CustomException) &#123;</span><br><span class=\"line\">        return response()-&gt;view(&apos;errors.custom&apos;, [], 500);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return parent::render($request, $exception);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>HTTP异常</strong><br>可直接用abort()，例如abort(404),abort(403, ‘Unauthorized action.’);<br><strong>自定义错误页面</strong><br>如果您要自定义404 HTTP状态代码的错误页面，请创建一个 resources/views/errors/404.blade.php 。此文件将会用于渲染所有404错误。此目录中的视图文件命名应与它们对应的HTTP状态代码匹配。由 abort 函数引发的 HttpException 实例将作为 $exception 变量传递给视图。</p>\n<h4 id=\"2-记录\"><a href=\"#2-记录\" class=\"headerlink\" title=\"2 记录\"></a>2 记录</h4><p><strong>介绍</strong><br>默认情况下，Laravel 日志目录为 storage/logs<br>可以传递参数，例如：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$test = &quot;test&quot;;</span><br><span class=\"line\">Log::info(222222222, [&apos;te&apos; =&gt; $test]);</span><br></pre></td></tr></table></figure></p>\n"},{"title":"简单工厂模式","date":"2019-07-24T02:40:10.000Z","_content":"## 引入\n### 实现计算器\n#### 代码实现\n1 实现一个基础的计算器功能，代码见https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php\n#### 问题分析\n（1）错误处理只判断了除数是否为0，对于字符超长，不可计算等都未处理，可以加上try catch；    \n（2）代码不可复用，耦合性很高\n#### 使用面向对象处理\n（1）使用面向对象的方式实现，将输入输出流和逻辑代码分离，可以提高代码复用性，降低耦合，代码见https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php\n#### 紧耦合vs松耦合\n思考：什么情况下使用继承和多态（各种运算可以继承自运算基类，便于扩展，多态考虑输入的不同类型，对于字符串怎样运算）    \n根据以上思考，完成有继承和多态的代码如下：\nhttps://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php      \n思考：以上代码实现方式虽然使用到了继承，但是如何知道应该调用哪个类呢？难道像之前预估的一样，还是要使用switch判断？\n#### 简单工厂模式\n解决问题，实例化谁，将来会不会增加实例化的对象等容易变化的地方，考虑用一个单独的类来做这个创造实例的过程\n在此基础上实现一个简单工厂类，代码如下：    \nhttps://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php\n如果需要修改运算，可以只修改对应的类，如果需要添加运算，只需要添加运算类，并在工厂中添加对应的分支就可以了    \n简单工厂模式的工厂类一般是使用静态方法，通过接受的参数的不同来返回不同的对象实例\n#### 工厂方法模式\n1 简单工厂模式优点：    \n（1）简单工厂包含必要的判断逻辑，实现了对象的创建和使用的分离；    \n（2）客户端无需知道所创建的具体产品类的类名，只需要具体产品类对应的参数即可；    \n（3）在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性    \n2 简单工厂模式缺点：    \n（1）工厂类职责过重，它出问题整个系统都会崩溃     \n（2）添加新的类的时候，系统中的简单工厂类都要修改，违反了开放-封闭原则    \n（3）简单工厂的静态方法，使得工厂角色无法形成基于继承的等级结构     \n工厂方法模式每一种算法都对应一种工厂，\n工厂方法模式优点：    \n（1）\n#### 抽象工厂\n","source":"_posts/SimpleFactory.md","raw":"---\ntitle: 简单工厂模式\ndate: 2019-07-24 10:40:10\ntags: 概念介绍\ncategories: 设计模式\n---\n## 引入\n### 实现计算器\n#### 代码实现\n1 实现一个基础的计算器功能，代码见https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php\n#### 问题分析\n（1）错误处理只判断了除数是否为0，对于字符超长，不可计算等都未处理，可以加上try catch；    \n（2）代码不可复用，耦合性很高\n#### 使用面向对象处理\n（1）使用面向对象的方式实现，将输入输出流和逻辑代码分离，可以提高代码复用性，降低耦合，代码见https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php\n#### 紧耦合vs松耦合\n思考：什么情况下使用继承和多态（各种运算可以继承自运算基类，便于扩展，多态考虑输入的不同类型，对于字符串怎样运算）    \n根据以上思考，完成有继承和多态的代码如下：\nhttps://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php      \n思考：以上代码实现方式虽然使用到了继承，但是如何知道应该调用哪个类呢？难道像之前预估的一样，还是要使用switch判断？\n#### 简单工厂模式\n解决问题，实例化谁，将来会不会增加实例化的对象等容易变化的地方，考虑用一个单独的类来做这个创造实例的过程\n在此基础上实现一个简单工厂类，代码如下：    \nhttps://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php\n如果需要修改运算，可以只修改对应的类，如果需要添加运算，只需要添加运算类，并在工厂中添加对应的分支就可以了    \n简单工厂模式的工厂类一般是使用静态方法，通过接受的参数的不同来返回不同的对象实例\n#### 工厂方法模式\n1 简单工厂模式优点：    \n（1）简单工厂包含必要的判断逻辑，实现了对象的创建和使用的分离；    \n（2）客户端无需知道所创建的具体产品类的类名，只需要具体产品类对应的参数即可；    \n（3）在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性    \n2 简单工厂模式缺点：    \n（1）工厂类职责过重，它出问题整个系统都会崩溃     \n（2）添加新的类的时候，系统中的简单工厂类都要修改，违反了开放-封闭原则    \n（3）简单工厂的静态方法，使得工厂角色无法形成基于继承的等级结构     \n工厂方法模式每一种算法都对应一种工厂，\n工厂方法模式优点：    \n（1）\n#### 抽象工厂\n","slug":"SimpleFactory","published":1,"updated":"2019-12-10T01:49:46.533Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwra0015d87ptkjd8a24","content":"<h2 id=\"引入\"><a href=\"#引入\" class=\"headerlink\" title=\"引入\"></a>引入</h2><h3 id=\"实现计算器\"><a href=\"#实现计算器\" class=\"headerlink\" title=\"实现计算器\"></a>实现计算器</h3><h4 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h4><p>1 实现一个基础的计算器功能，代码见<a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php</a></p>\n<h4 id=\"问题分析\"><a href=\"#问题分析\" class=\"headerlink\" title=\"问题分析\"></a>问题分析</h4><p>（1）错误处理只判断了除数是否为0，对于字符超长，不可计算等都未处理，可以加上try catch；<br>（2）代码不可复用，耦合性很高</p>\n<h4 id=\"使用面向对象处理\"><a href=\"#使用面向对象处理\" class=\"headerlink\" title=\"使用面向对象处理\"></a>使用面向对象处理</h4><p>（1）使用面向对象的方式实现，将输入输出流和逻辑代码分离，可以提高代码复用性，降低耦合，代码见<a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php</a></p>\n<h4 id=\"紧耦合vs松耦合\"><a href=\"#紧耦合vs松耦合\" class=\"headerlink\" title=\"紧耦合vs松耦合\"></a>紧耦合vs松耦合</h4><p>思考：什么情况下使用继承和多态（各种运算可以继承自运算基类，便于扩展，多态考虑输入的不同类型，对于字符串怎样运算）<br>根据以上思考，完成有继承和多态的代码如下：<br><a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php</a><br>思考：以上代码实现方式虽然使用到了继承，但是如何知道应该调用哪个类呢？难道像之前预估的一样，还是要使用switch判断？</p>\n<h4 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h4><p>解决问题，实例化谁，将来会不会增加实例化的对象等容易变化的地方，考虑用一个单独的类来做这个创造实例的过程<br>在此基础上实现一个简单工厂类，代码如下：<br><a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php</a><br>如果需要修改运算，可以只修改对应的类，如果需要添加运算，只需要添加运算类，并在工厂中添加对应的分支就可以了<br>简单工厂模式的工厂类一般是使用静态方法，通过接受的参数的不同来返回不同的对象实例</p>\n<h4 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h4><p>1 简单工厂模式优点：<br>（1）简单工厂包含必要的判断逻辑，实现了对象的创建和使用的分离；<br>（2）客户端无需知道所创建的具体产品类的类名，只需要具体产品类对应的参数即可；<br>（3）在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性<br>2 简单工厂模式缺点：<br>（1）工厂类职责过重，它出问题整个系统都会崩溃<br>（2）添加新的类的时候，系统中的简单工厂类都要修改，违反了开放-封闭原则<br>（3）简单工厂的静态方法，使得工厂角色无法形成基于继承的等级结构<br>工厂方法模式每一种算法都对应一种工厂，<br>工厂方法模式优点：<br>（1）</p>\n<h4 id=\"抽象工厂\"><a href=\"#抽象工厂\" class=\"headerlink\" title=\"抽象工厂\"></a>抽象工厂</h4>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"引入\"><a href=\"#引入\" class=\"headerlink\" title=\"引入\"></a>引入</h2><h3 id=\"实现计算器\"><a href=\"#实现计算器\" class=\"headerlink\" title=\"实现计算器\"></a>实现计算器</h3><h4 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h4><p>1 实现一个基础的计算器功能，代码见<a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/calculator01.php</a></p>\n<h4 id=\"问题分析\"><a href=\"#问题分析\" class=\"headerlink\" title=\"问题分析\"></a>问题分析</h4><p>（1）错误处理只判断了除数是否为0，对于字符超长，不可计算等都未处理，可以加上try catch；<br>（2）代码不可复用，耦合性很高</p>\n<h4 id=\"使用面向对象处理\"><a href=\"#使用面向对象处理\" class=\"headerlink\" title=\"使用面向对象处理\"></a>使用面向对象处理</h4><p>（1）使用面向对象的方式实现，将输入输出流和逻辑代码分离，可以提高代码复用性，降低耦合，代码见<a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate2.php</a></p>\n<h4 id=\"紧耦合vs松耦合\"><a href=\"#紧耦合vs松耦合\" class=\"headerlink\" title=\"紧耦合vs松耦合\"></a>紧耦合vs松耦合</h4><p>思考：什么情况下使用继承和多态（各种运算可以继承自运算基类，便于扩展，多态考虑输入的不同类型，对于字符串怎样运算）<br>根据以上思考，完成有继承和多态的代码如下：<br><a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate03.php</a><br>思考：以上代码实现方式虽然使用到了继承，但是如何知道应该调用哪个类呢？难道像之前预估的一样，还是要使用switch判断？</p>\n<h4 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h4><p>解决问题，实例化谁，将来会不会增加实例化的对象等容易变化的地方，考虑用一个单独的类来做这个创造实例的过程<br>在此基础上实现一个简单工厂类，代码如下：<br><a href=\"https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php\" target=\"_blank\" rel=\"noopener\">https://github.com/laurel-he/design_pattern/blob/master/simpleFactory/Calculate04.php</a><br>如果需要修改运算，可以只修改对应的类，如果需要添加运算，只需要添加运算类，并在工厂中添加对应的分支就可以了<br>简单工厂模式的工厂类一般是使用静态方法，通过接受的参数的不同来返回不同的对象实例</p>\n<h4 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h4><p>1 简单工厂模式优点：<br>（1）简单工厂包含必要的判断逻辑，实现了对象的创建和使用的分离；<br>（2）客户端无需知道所创建的具体产品类的类名，只需要具体产品类对应的参数即可；<br>（3）在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性<br>2 简单工厂模式缺点：<br>（1）工厂类职责过重，它出问题整个系统都会崩溃<br>（2）添加新的类的时候，系统中的简单工厂类都要修改，违反了开放-封闭原则<br>（3）简单工厂的静态方法，使得工厂角色无法形成基于继承的等级结构<br>工厂方法模式每一种算法都对应一种工厂，<br>工厂方法模式优点：<br>（1）</p>\n<h4 id=\"抽象工厂\"><a href=\"#抽象工厂\" class=\"headerlink\" title=\"抽象工厂\"></a>抽象工厂</h4>"},{"title":"策略模式","date":"2019-07-29T06:37:10.000Z","_content":"## 概念\n### 定义\n策略模式定义了算法族，分别封装起来，让他们之间可以相互替换，该模式让算法独立于使用它的客户而独立变化\n### 组成\n1 抽象策略角色：策略类，通常由一个接口或者抽象类实现    \n2 具体策略角色：包装了相关的算法和行为。     \n3 环境角色：持有一个策略类的引用，最终给客户端调用。\n#### 分析\n策略模式用一个抽象策略角色提供一个类（一般是接口或抽象类），每个策略都实现了这个抽象策略角色，环境角色去调用（依赖注入）    \n#### 代码\n```php\n<?php\n/**\n * @author: hexiaojiao@jiapinai.com\n * @todo:\n * time: 2019-07-30 20:07\n */\n\n/**\n * 定义抽象角色类`\n * Interface CollectInter\n */\ninterface CollectInter\n{\n    public function collect($price, $num);\n    public function input();\n}\nclass Base\n{\n    public function input($discount = 1)\n    {\n        fwrite(STDOUT, '请输入单价');\n        $price = trim(fgets(STDIN));\n        fwrite(STDOUT, '请输入数量');\n        $num = trim(fgets(STDIN));\n        $res = $this->collect($price, $num, $discount);\n        return $res;\n    }\n}\n\n/**\n * 定义具体策略类\n * Class Collect02\n */\nclass Collect02 extends Base implements CollectInter\n{\n    public function collect($price, $num, $discount = 1) {\n        var_dump('Collect02:', $price * $num * $discount);\n        return true;\n    }\n}\n\n/**\n * Class Discount\n */\nclass Discount extends Base implements CollectInter\n{\n    public function collect($price, $num, $discount = 0.8)\n    {\n        var_dump('Discount:', $price * $num * $discount);\n        return true;\n    }\n}\n\n/**\n * Class Reduce\n */\nclass Reduce extends Base implements  CollectInter\n{\n    public function collect($price, $num, $total = 100, $reduce = 0)\n    {\n        if ($price * $total >= $total) {\n            var_dump('Reduce:', ($price * $total) - $reduce);\n        } else {\n            var_dump('Reduce:', $price * $total);\n        }\n        return true;\n    }\n}\n/**\n * 环境角色类\n * Class Main\n */\nclass Main\n{\n    private $_strategy;\n    private $_isChange;\n    public function __construct(CollectInter $collectInter)\n    {\n        $this->_strategy = $collectInter;\n    }\n    public function change(CollectInter $collectInter)\n    {\n        $this->_strategy = $collectInter;\n        $this->_isChange = true;\n    }\n    public function beginCollect()\n    {\n        if ($this->_isChange) {\n            echo \"改变收银方式：\";\n            $this->_strategy->input();\n        } else {\n            $this->_strategy->input();\n        }\n    }\n}\n$strategy = new Main(new Discount());\n$strategy->beginCollect();\n$strategy->change(new Collect02());\n$strategy->beginCollect();\n```\n#### 运行结果\n```\n请输入单价4\n请输入数量2\nstring(9) \"Discount:\"\nint(8)\n改变收银方式：请输入单价7\n请输入数量3\nstring(10) \"Collect02:\"\nint(21)\n```\n","source":"_posts/Strategy.md","raw":"---\ntitle: 策略模式\ndate: 2019-07-29 14:37:10\ntags: 概念介绍\ncategories: \n- 设计模式\n---\n## 概念\n### 定义\n策略模式定义了算法族，分别封装起来，让他们之间可以相互替换，该模式让算法独立于使用它的客户而独立变化\n### 组成\n1 抽象策略角色：策略类，通常由一个接口或者抽象类实现    \n2 具体策略角色：包装了相关的算法和行为。     \n3 环境角色：持有一个策略类的引用，最终给客户端调用。\n#### 分析\n策略模式用一个抽象策略角色提供一个类（一般是接口或抽象类），每个策略都实现了这个抽象策略角色，环境角色去调用（依赖注入）    \n#### 代码\n```php\n<?php\n/**\n * @author: hexiaojiao@jiapinai.com\n * @todo:\n * time: 2019-07-30 20:07\n */\n\n/**\n * 定义抽象角色类`\n * Interface CollectInter\n */\ninterface CollectInter\n{\n    public function collect($price, $num);\n    public function input();\n}\nclass Base\n{\n    public function input($discount = 1)\n    {\n        fwrite(STDOUT, '请输入单价');\n        $price = trim(fgets(STDIN));\n        fwrite(STDOUT, '请输入数量');\n        $num = trim(fgets(STDIN));\n        $res = $this->collect($price, $num, $discount);\n        return $res;\n    }\n}\n\n/**\n * 定义具体策略类\n * Class Collect02\n */\nclass Collect02 extends Base implements CollectInter\n{\n    public function collect($price, $num, $discount = 1) {\n        var_dump('Collect02:', $price * $num * $discount);\n        return true;\n    }\n}\n\n/**\n * Class Discount\n */\nclass Discount extends Base implements CollectInter\n{\n    public function collect($price, $num, $discount = 0.8)\n    {\n        var_dump('Discount:', $price * $num * $discount);\n        return true;\n    }\n}\n\n/**\n * Class Reduce\n */\nclass Reduce extends Base implements  CollectInter\n{\n    public function collect($price, $num, $total = 100, $reduce = 0)\n    {\n        if ($price * $total >= $total) {\n            var_dump('Reduce:', ($price * $total) - $reduce);\n        } else {\n            var_dump('Reduce:', $price * $total);\n        }\n        return true;\n    }\n}\n/**\n * 环境角色类\n * Class Main\n */\nclass Main\n{\n    private $_strategy;\n    private $_isChange;\n    public function __construct(CollectInter $collectInter)\n    {\n        $this->_strategy = $collectInter;\n    }\n    public function change(CollectInter $collectInter)\n    {\n        $this->_strategy = $collectInter;\n        $this->_isChange = true;\n    }\n    public function beginCollect()\n    {\n        if ($this->_isChange) {\n            echo \"改变收银方式：\";\n            $this->_strategy->input();\n        } else {\n            $this->_strategy->input();\n        }\n    }\n}\n$strategy = new Main(new Discount());\n$strategy->beginCollect();\n$strategy->change(new Collect02());\n$strategy->beginCollect();\n```\n#### 运行结果\n```\n请输入单价4\n请输入数量2\nstring(9) \"Discount:\"\nint(8)\n改变收银方式：请输入单价7\n请输入数量3\nstring(10) \"Collect02:\"\nint(21)\n```\n","slug":"Strategy","published":1,"updated":"2019-12-10T01:49:46.533Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrc0017d87pltu1mee0","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>策略模式定义了算法族，分别封装起来，让他们之间可以相互替换，该模式让算法独立于使用它的客户而独立变化</p>\n<h3 id=\"组成\"><a href=\"#组成\" class=\"headerlink\" title=\"组成\"></a>组成</h3><p>1 抽象策略角色：策略类，通常由一个接口或者抽象类实现<br>2 具体策略角色：包装了相关的算法和行为。<br>3 环境角色：持有一个策略类的引用，最终给客户端调用。</p>\n<h4 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h4><p>策略模式用一个抽象策略角色提供一个类（一般是接口或抽象类），每个策略都实现了这个抽象策略角色，环境角色去调用（依赖注入）    </p>\n<h4 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span>: hexiaojiao<span class=\"doctag\">@jiapinai</span>.com</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@todo</span>:</span></span><br><span class=\"line\"><span class=\"comment\"> * time: 2019-07-30 20:07</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 定义抽象角色类`</span></span><br><span class=\"line\"><span class=\"comment\"> * Interface CollectInter</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num)</span></span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">input</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Base</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">input</span><span class=\"params\">($discount = <span class=\"number\">1</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        fwrite(STDOUT, <span class=\"string\">'请输入单价'</span>);</span><br><span class=\"line\">        $price = trim(fgets(STDIN));</span><br><span class=\"line\">        fwrite(STDOUT, <span class=\"string\">'请输入数量'</span>);</span><br><span class=\"line\">        $num = trim(fgets(STDIN));</span><br><span class=\"line\">        $res = <span class=\"keyword\">$this</span>-&gt;collect($price, $num, $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 定义具体策略类</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Collect02</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Collect02</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $discount = <span class=\"number\">1</span>)</span> </span>&#123;</span><br><span class=\"line\">        var_dump(<span class=\"string\">'Collect02:'</span>, $price * $num * $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Discount</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Discount</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $discount = <span class=\"number\">0.8</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        var_dump(<span class=\"string\">'Discount:'</span>, $price * $num * $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Reduce</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reduce</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span>  <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $total = <span class=\"number\">100</span>, $reduce = <span class=\"number\">0</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($price * $total &gt;= $total) &#123;</span><br><span class=\"line\">            var_dump(<span class=\"string\">'Reduce:'</span>, ($price * $total) - $reduce);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            var_dump(<span class=\"string\">'Reduce:'</span>, $price * $total);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 环境角色类</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Main</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Main</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_strategy;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_isChange;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(CollectInter $collectInter)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_strategy = $collectInter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">change</span><span class=\"params\">(CollectInter $collectInter)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_strategy = $collectInter;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_isChange = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">beginCollect</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">$this</span>-&gt;_isChange) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">\"改变收银方式：\"</span>;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;_strategy-&gt;input();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;_strategy-&gt;input();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">$strategy = <span class=\"keyword\">new</span> Main(<span class=\"keyword\">new</span> Discount());</span><br><span class=\"line\">$strategy-&gt;beginCollect();</span><br><span class=\"line\">$strategy-&gt;change(<span class=\"keyword\">new</span> Collect02());</span><br><span class=\"line\">$strategy-&gt;beginCollect();</span><br></pre></td></tr></table></figure>\n<h4 id=\"运行结果\"><a href=\"#运行结果\" class=\"headerlink\" title=\"运行结果\"></a>运行结果</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">请输入单价4</span><br><span class=\"line\">请输入数量2</span><br><span class=\"line\">string(9) &quot;Discount:&quot;</span><br><span class=\"line\">int(8)</span><br><span class=\"line\">改变收银方式：请输入单价7</span><br><span class=\"line\">请输入数量3</span><br><span class=\"line\">string(10) &quot;Collect02:&quot;</span><br><span class=\"line\">int(21)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><h3 id=\"定义\"><a href=\"#定义\" class=\"headerlink\" title=\"定义\"></a>定义</h3><p>策略模式定义了算法族，分别封装起来，让他们之间可以相互替换，该模式让算法独立于使用它的客户而独立变化</p>\n<h3 id=\"组成\"><a href=\"#组成\" class=\"headerlink\" title=\"组成\"></a>组成</h3><p>1 抽象策略角色：策略类，通常由一个接口或者抽象类实现<br>2 具体策略角色：包装了相关的算法和行为。<br>3 环境角色：持有一个策略类的引用，最终给客户端调用。</p>\n<h4 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h4><p>策略模式用一个抽象策略角色提供一个类（一般是接口或抽象类），每个策略都实现了这个抽象策略角色，环境角色去调用（依赖注入）    </p>\n<h4 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span>: hexiaojiao<span class=\"doctag\">@jiapinai</span>.com</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@todo</span>:</span></span><br><span class=\"line\"><span class=\"comment\"> * time: 2019-07-30 20:07</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 定义抽象角色类`</span></span><br><span class=\"line\"><span class=\"comment\"> * Interface CollectInter</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num)</span></span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">input</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Base</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">input</span><span class=\"params\">($discount = <span class=\"number\">1</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        fwrite(STDOUT, <span class=\"string\">'请输入单价'</span>);</span><br><span class=\"line\">        $price = trim(fgets(STDIN));</span><br><span class=\"line\">        fwrite(STDOUT, <span class=\"string\">'请输入数量'</span>);</span><br><span class=\"line\">        $num = trim(fgets(STDIN));</span><br><span class=\"line\">        $res = <span class=\"keyword\">$this</span>-&gt;collect($price, $num, $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> $res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 定义具体策略类</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Collect02</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Collect02</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $discount = <span class=\"number\">1</span>)</span> </span>&#123;</span><br><span class=\"line\">        var_dump(<span class=\"string\">'Collect02:'</span>, $price * $num * $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Discount</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Discount</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span> <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $discount = <span class=\"number\">0.8</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        var_dump(<span class=\"string\">'Discount:'</span>, $price * $num * $discount);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Reduce</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Reduce</span> <span class=\"keyword\">extends</span> <span class=\"title\">Base</span> <span class=\"keyword\">implements</span>  <span class=\"title\">CollectInter</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">collect</span><span class=\"params\">($price, $num, $total = <span class=\"number\">100</span>, $reduce = <span class=\"number\">0</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($price * $total &gt;= $total) &#123;</span><br><span class=\"line\">            var_dump(<span class=\"string\">'Reduce:'</span>, ($price * $total) - $reduce);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            var_dump(<span class=\"string\">'Reduce:'</span>, $price * $total);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 环境角色类</span></span><br><span class=\"line\"><span class=\"comment\"> * Class Main</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Main</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_strategy;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $_isChange;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span><span class=\"params\">(CollectInter $collectInter)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_strategy = $collectInter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">change</span><span class=\"params\">(CollectInter $collectInter)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_strategy = $collectInter;</span><br><span class=\"line\">        <span class=\"keyword\">$this</span>-&gt;_isChange = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">beginCollect</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">$this</span>-&gt;_isChange) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">\"改变收银方式：\"</span>;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;_strategy-&gt;input();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">$this</span>-&gt;_strategy-&gt;input();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">$strategy = <span class=\"keyword\">new</span> Main(<span class=\"keyword\">new</span> Discount());</span><br><span class=\"line\">$strategy-&gt;beginCollect();</span><br><span class=\"line\">$strategy-&gt;change(<span class=\"keyword\">new</span> Collect02());</span><br><span class=\"line\">$strategy-&gt;beginCollect();</span><br></pre></td></tr></table></figure>\n<h4 id=\"运行结果\"><a href=\"#运行结果\" class=\"headerlink\" title=\"运行结果\"></a>运行结果</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">请输入单价4</span><br><span class=\"line\">请输入数量2</span><br><span class=\"line\">string(9) &quot;Discount:&quot;</span><br><span class=\"line\">int(8)</span><br><span class=\"line\">改变收银方式：请输入单价7</span><br><span class=\"line\">请输入数量3</span><br><span class=\"line\">string(10) &quot;Collect02:&quot;</span><br><span class=\"line\">int(21)</span><br></pre></td></tr></table></figure>\n"},{"title":"bash学习笔记","date":"2019-03-13T06:28:10.000Z","_content":"## ","source":"_posts/bash.md","raw":"---\ntitle: bash学习笔记\ndate: 2019-03-13 14:28:10\ntags:\n---\n## ","slug":"bash","published":1,"updated":"2019-12-10T01:49:46.533Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwre0018d87peeqxxi9g","content":"<p>## </p>\n","site":{"data":{}},"excerpt":"","more":"<p>## </p>\n"},{"title":"代码整洁之道1-9章","date":"2019-10-07T09:40:10.000Z","_content":"## 提要\n要有代码：代码呈现了需求的细节，将需求明确到机器可以执行的细节程度    \n不要产生糟糕的、混乱的代码，勒布朗法则：稍后等于永不     \n制造混乱无益于赶上期限，做得快的唯一方法就是始终保持代码整洁。\n## 好代码的特点\n优雅、搞笑；代码逻辑直截了当，缺陷难以隐藏；    \n尽量减少依赖关系，使之便于维护；    \n根据某种分层战略完善处理错误代码，性能调至最优    \n整洁的代码力求集中，每个函数、每个类和每个模块都全神贯注于一事，完全不受四周细节的干扰和污染    \n整洁的代码可由作者之外的开发者阅读和增补，它应当有单元测试和验收测试    \n尽量使用有意义的命名，它只提供一种而非多种做一件事的途径    \n尽量少的依赖关系，明确地定义和提供清晰、尽量少的API\n## 总结\n（1）能通过所有测试    \n（2）没有重复代码    \n（3）体现系统中的全部设计理念    \n（4）包含尽量少的实体，比如类、方法、函数等    \n不要重复代码，只做一件事，表达力，小规模抽象\n## 有意义的命名\n（1）如果名称需要注释来补充，那就不算是名副其实（之前出现过争议）    \n（2）不要使用意义含糊的废话，如果名称相同但是意义不同，那么info和data与a an the一样毫无意义，不要使用废话，varable不应出现在便能两种，table不应出现在表中     \n（3）使用读得出来的名称，方便阅读    \n（4）使用方便搜索的名称    \n（5）避免使用编码      \n（6）应当把类和函数做得足够小，消除对成员前缀的需要，读代码的人通常不会读前缀    \n（7）不要在类名中使用奇怪的命名    \n（8）不要使用双关语\n### 函数\n（1）函数应该尽可能小，20行封顶最佳    \n（2）每个函数都一目了然，每个函数都只说一件事，每个函数都依次带到下一个函数    \n（3）函数的缩进层不应该多余一层或两层    \n### 需要遵循的原则\n（1）确保每隔switch函数都埋藏在较低的抽象层而且永远不重复        \n（2）不要向函数传入布尔值（我以前经常这么做），因为传入布尔值表示函数会有多余的操作    \n（3）使用异常代替返回错误码（错误代码能从主路径代码中分离出来得到简化）    \n（4）抽离try/catch代码块    \n（5）不要重复自己\n## 注释\n### 注意\n注释存在的时间越久，就离它所描述的代码越远，越来越变得全然错误，因为程序员不能坚持维护注释    \n### 必要的注释（好的注释）\n（1）法律信息    \n（2）提供信息的注释    \n（3）对意图的解释    \n（4）阐释（如果参数或返回值是某个标准库的一部分或者不能修改的代码，帮助阐释其含义的代码就会有用）    \n（5）警示\n## 单元测试\n\n","source":"_posts/cleanCode.md","raw":"---\ntitle: 代码整洁之道1-9章\ndate: 2019-10-07 17:40:10\ntags: 学习\ncategories: 代码整洁之道\n---\n## 提要\n要有代码：代码呈现了需求的细节，将需求明确到机器可以执行的细节程度    \n不要产生糟糕的、混乱的代码，勒布朗法则：稍后等于永不     \n制造混乱无益于赶上期限，做得快的唯一方法就是始终保持代码整洁。\n## 好代码的特点\n优雅、搞笑；代码逻辑直截了当，缺陷难以隐藏；    \n尽量减少依赖关系，使之便于维护；    \n根据某种分层战略完善处理错误代码，性能调至最优    \n整洁的代码力求集中，每个函数、每个类和每个模块都全神贯注于一事，完全不受四周细节的干扰和污染    \n整洁的代码可由作者之外的开发者阅读和增补，它应当有单元测试和验收测试    \n尽量使用有意义的命名，它只提供一种而非多种做一件事的途径    \n尽量少的依赖关系，明确地定义和提供清晰、尽量少的API\n## 总结\n（1）能通过所有测试    \n（2）没有重复代码    \n（3）体现系统中的全部设计理念    \n（4）包含尽量少的实体，比如类、方法、函数等    \n不要重复代码，只做一件事，表达力，小规模抽象\n## 有意义的命名\n（1）如果名称需要注释来补充，那就不算是名副其实（之前出现过争议）    \n（2）不要使用意义含糊的废话，如果名称相同但是意义不同，那么info和data与a an the一样毫无意义，不要使用废话，varable不应出现在便能两种，table不应出现在表中     \n（3）使用读得出来的名称，方便阅读    \n（4）使用方便搜索的名称    \n（5）避免使用编码      \n（6）应当把类和函数做得足够小，消除对成员前缀的需要，读代码的人通常不会读前缀    \n（7）不要在类名中使用奇怪的命名    \n（8）不要使用双关语\n### 函数\n（1）函数应该尽可能小，20行封顶最佳    \n（2）每个函数都一目了然，每个函数都只说一件事，每个函数都依次带到下一个函数    \n（3）函数的缩进层不应该多余一层或两层    \n### 需要遵循的原则\n（1）确保每隔switch函数都埋藏在较低的抽象层而且永远不重复        \n（2）不要向函数传入布尔值（我以前经常这么做），因为传入布尔值表示函数会有多余的操作    \n（3）使用异常代替返回错误码（错误代码能从主路径代码中分离出来得到简化）    \n（4）抽离try/catch代码块    \n（5）不要重复自己\n## 注释\n### 注意\n注释存在的时间越久，就离它所描述的代码越远，越来越变得全然错误，因为程序员不能坚持维护注释    \n### 必要的注释（好的注释）\n（1）法律信息    \n（2）提供信息的注释    \n（3）对意图的解释    \n（4）阐释（如果参数或返回值是某个标准库的一部分或者不能修改的代码，帮助阐释其含义的代码就会有用）    \n（5）警示\n## 单元测试\n\n","slug":"cleanCode","published":1,"updated":"2019-12-10T01:49:46.534Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwri001cd87puumrw4sj","content":"<h2 id=\"提要\"><a href=\"#提要\" class=\"headerlink\" title=\"提要\"></a>提要</h2><p>要有代码：代码呈现了需求的细节，将需求明确到机器可以执行的细节程度<br>不要产生糟糕的、混乱的代码，勒布朗法则：稍后等于永不<br>制造混乱无益于赶上期限，做得快的唯一方法就是始终保持代码整洁。</p>\n<h2 id=\"好代码的特点\"><a href=\"#好代码的特点\" class=\"headerlink\" title=\"好代码的特点\"></a>好代码的特点</h2><p>优雅、搞笑；代码逻辑直截了当，缺陷难以隐藏；<br>尽量减少依赖关系，使之便于维护；<br>根据某种分层战略完善处理错误代码，性能调至最优<br>整洁的代码力求集中，每个函数、每个类和每个模块都全神贯注于一事，完全不受四周细节的干扰和污染<br>整洁的代码可由作者之外的开发者阅读和增补，它应当有单元测试和验收测试<br>尽量使用有意义的命名，它只提供一种而非多种做一件事的途径<br>尽量少的依赖关系，明确地定义和提供清晰、尽量少的API</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>（1）能通过所有测试<br>（2）没有重复代码<br>（3）体现系统中的全部设计理念<br>（4）包含尽量少的实体，比如类、方法、函数等<br>不要重复代码，只做一件事，表达力，小规模抽象</p>\n<h2 id=\"有意义的命名\"><a href=\"#有意义的命名\" class=\"headerlink\" title=\"有意义的命名\"></a>有意义的命名</h2><p>（1）如果名称需要注释来补充，那就不算是名副其实（之前出现过争议）<br>（2）不要使用意义含糊的废话，如果名称相同但是意义不同，那么info和data与a an the一样毫无意义，不要使用废话，varable不应出现在便能两种，table不应出现在表中<br>（3）使用读得出来的名称，方便阅读<br>（4）使用方便搜索的名称<br>（5）避免使用编码<br>（6）应当把类和函数做得足够小，消除对成员前缀的需要，读代码的人通常不会读前缀<br>（7）不要在类名中使用奇怪的命名<br>（8）不要使用双关语</p>\n<h3 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h3><p>（1）函数应该尽可能小，20行封顶最佳<br>（2）每个函数都一目了然，每个函数都只说一件事，每个函数都依次带到下一个函数<br>（3）函数的缩进层不应该多余一层或两层    </p>\n<h3 id=\"需要遵循的原则\"><a href=\"#需要遵循的原则\" class=\"headerlink\" title=\"需要遵循的原则\"></a>需要遵循的原则</h3><p>（1）确保每隔switch函数都埋藏在较低的抽象层而且永远不重复<br>（2）不要向函数传入布尔值（我以前经常这么做），因为传入布尔值表示函数会有多余的操作<br>（3）使用异常代替返回错误码（错误代码能从主路径代码中分离出来得到简化）<br>（4）抽离try/catch代码块<br>（5）不要重复自己</p>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><p>注释存在的时间越久，就离它所描述的代码越远，越来越变得全然错误，因为程序员不能坚持维护注释    </p>\n<h3 id=\"必要的注释（好的注释）\"><a href=\"#必要的注释（好的注释）\" class=\"headerlink\" title=\"必要的注释（好的注释）\"></a>必要的注释（好的注释）</h3><p>（1）法律信息<br>（2）提供信息的注释<br>（3）对意图的解释<br>（4）阐释（如果参数或返回值是某个标准库的一部分或者不能修改的代码，帮助阐释其含义的代码就会有用）<br>（5）警示</p>\n<h2 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h2>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"提要\"><a href=\"#提要\" class=\"headerlink\" title=\"提要\"></a>提要</h2><p>要有代码：代码呈现了需求的细节，将需求明确到机器可以执行的细节程度<br>不要产生糟糕的、混乱的代码，勒布朗法则：稍后等于永不<br>制造混乱无益于赶上期限，做得快的唯一方法就是始终保持代码整洁。</p>\n<h2 id=\"好代码的特点\"><a href=\"#好代码的特点\" class=\"headerlink\" title=\"好代码的特点\"></a>好代码的特点</h2><p>优雅、搞笑；代码逻辑直截了当，缺陷难以隐藏；<br>尽量减少依赖关系，使之便于维护；<br>根据某种分层战略完善处理错误代码，性能调至最优<br>整洁的代码力求集中，每个函数、每个类和每个模块都全神贯注于一事，完全不受四周细节的干扰和污染<br>整洁的代码可由作者之外的开发者阅读和增补，它应当有单元测试和验收测试<br>尽量使用有意义的命名，它只提供一种而非多种做一件事的途径<br>尽量少的依赖关系，明确地定义和提供清晰、尽量少的API</p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>（1）能通过所有测试<br>（2）没有重复代码<br>（3）体现系统中的全部设计理念<br>（4）包含尽量少的实体，比如类、方法、函数等<br>不要重复代码，只做一件事，表达力，小规模抽象</p>\n<h2 id=\"有意义的命名\"><a href=\"#有意义的命名\" class=\"headerlink\" title=\"有意义的命名\"></a>有意义的命名</h2><p>（1）如果名称需要注释来补充，那就不算是名副其实（之前出现过争议）<br>（2）不要使用意义含糊的废话，如果名称相同但是意义不同，那么info和data与a an the一样毫无意义，不要使用废话，varable不应出现在便能两种，table不应出现在表中<br>（3）使用读得出来的名称，方便阅读<br>（4）使用方便搜索的名称<br>（5）避免使用编码<br>（6）应当把类和函数做得足够小，消除对成员前缀的需要，读代码的人通常不会读前缀<br>（7）不要在类名中使用奇怪的命名<br>（8）不要使用双关语</p>\n<h3 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h3><p>（1）函数应该尽可能小，20行封顶最佳<br>（2）每个函数都一目了然，每个函数都只说一件事，每个函数都依次带到下一个函数<br>（3）函数的缩进层不应该多余一层或两层    </p>\n<h3 id=\"需要遵循的原则\"><a href=\"#需要遵循的原则\" class=\"headerlink\" title=\"需要遵循的原则\"></a>需要遵循的原则</h3><p>（1）确保每隔switch函数都埋藏在较低的抽象层而且永远不重复<br>（2）不要向函数传入布尔值（我以前经常这么做），因为传入布尔值表示函数会有多余的操作<br>（3）使用异常代替返回错误码（错误代码能从主路径代码中分离出来得到简化）<br>（4）抽离try/catch代码块<br>（5）不要重复自己</p>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><p>注释存在的时间越久，就离它所描述的代码越远，越来越变得全然错误，因为程序员不能坚持维护注释    </p>\n<h3 id=\"必要的注释（好的注释）\"><a href=\"#必要的注释（好的注释）\" class=\"headerlink\" title=\"必要的注释（好的注释）\"></a>必要的注释（好的注释）</h3><p>（1）法律信息<br>（2）提供信息的注释<br>（3）对意图的解释<br>（4）阐释（如果参数或返回值是某个标准库的一部分或者不能修改的代码，帮助阐释其含义的代码就会有用）<br>（5）警示</p>\n<h2 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h2>"},{"title":"代码大全","date":"2019-10-05T02:40:10.000Z","_content":"## 前期准备\n### 前期准备的重要性\n不要立即开始写代码，要做好必要的需求分析和架构设计，写好需求文档和技术文档，防止浪费时间和精力制造错误的东西\n### 需求核对表\n**针对功能需求：**\n\n1．是否详细定义了系统的全部输入，包括其来源、精度、取值范围、出现频率等？\n\n2．是否详细定义了系统的全部输出，包括其目的地、精度、取值范围、出现频率格式等？\n\n3．是否详细定义了所有的输出格式(如：web页面、报表等)？\n\n4．是否详细定义了所有硬件及软件的外部接口？\n\n5．是否详细定义了全部外部通信接口，包括握手协议、纠错协议、通信协议等？\n\n6．是否列出了用户所要做的全部事情？\n\n7．是否详细定义了每个任务所用数据，以及每个任务得到的数据\n\n**针对非功能需求（质量需求）**\n\n1.是否为全部必要的操作，从用户的角度，详细描述的期望的响应时间 ？\n\n2.是否详细描述了其他与计时有关的考虑，如处理时间、数据传输率、系统吞吐量等？\n\n3.是否详细定义了安全级别\n\n4.是否详细定义了可靠性，包括软件失灵的后果、发生故障时需要保护的至关重要的信息、错误检查与回复的策略等？\n\n5.是否详细定义了机器内存和剩余硬盘空间最小值？\n\n6.是否详细定义了系统的可维护性，包括适应特定功能的变更、操作环境的变更、与其他软件接口变更的能力？\n\n7.是否包含对“成功”的定义，“失败”的定义？\n\n**需求的质量**\n\n1. 需求是用户书写的吗？\n\n2. 每条需求都不与其他需求冲突吗？\n\n3. 是否详细定义了相互竞争的特性之间的权衡\n\n4. 是否避免在需求中规定设计(方案)\n\n5. 需求是否在详细程度上保持相当一致的水平？有些需求应当更详细的描述吗？有些需求应该更粗略的描述吗？\n\n6. 需求是否足够清晰，即使转交给一个独立的小组去构建，他们也能理解吗？开发者也这么想吗？\n\n7. 每个条款都与待解决的问题及解决方案相关吗？能从每个条款上溯到它的问题中的对应跟源吗？\n\n8. 是否每条需求都是可测试的？是否可应进行独立的测试，以检验满不满足各项需求\n\n9. 是否描述了所有可能对需求的改动，包括各项改动的可能性\n\n**需求的完备性**\n \n 1.对于在开始开发之前无法获得信息，是否详细描述了信息不完全的区域？\n \n 2.需求的完备度是否达到这种程度：如果产品满足所有需求，那么它就是可接受的？\n \n 3.你对全部需求都感觉舒服吗？你是否已经去掉了那些不可能完成的需求—那些只是为了安抚客户和老板的东西？\n### 花费在前期准备上的时间长度\n花费在问题定义，需求分析，软件架构上的时间依据项目的需要而变化，一般占据10%-20%的工作量和20%-30%的时间\n### 良好的类接口\n类的基础是抽象数据类型（我之前大部分时候没有使用抽象，只是把相关的方法和变量定义放在了一起，实际上是不符合面向对象变成原则的），抽象数据类型是指一些数据和\n对这些数据所进行操作的集合。定义抽象类有助于代码规范，提高\n### 创建类的原因\n（1）为显示世界中的对象建模    \n（2）为抽象的对象建模    \n（3）降低复杂度    \n（4）隔离复杂度    \n（5）隐藏实现细节    \n（6）让代码更易重用    \n（7）把相关的操作包装到一起\n### 应当避免的类\n（1）避免创建万能类    \n（2）消除无关紧要的类    \n（3）避免用动词命名的类\n## 防御式编程\n### 三种处理进入垃圾的情况\n（1）检查所有来源于外部的数据的值    \n（2）检查所有子程序输入参数的值    \n（3）决定如何处理错误的输入数据\n### 断言\n断言是指在开发期间使用的、让程序在运行时进行自检的代码\n### 异常\n用异常通知程序的其他部分发生了不可忽略的错误    \n只有真正例外的情况下才抛出异常    \n不能用异常来推卸责任    \n避免在构造函数和析构函数中抛出异常，除非在同一地方把他们捕获    \n在恰当的抽象层次抛出异常\n## 变量\n与《代码整洁之道》对变量的要求几乎一致\n## 代码改善\n### 软件质量的特性\n外在特性：    \n（1）正确性：指系统规范、设计和实现方面的错误的稀少程度        \n（2）可用性：指用户学习和使用一个系统的容易程度    \n（3）效率：指软件是否尽可能少地占用系统资源，包括内存和执行时间    \n（4）可靠性：指在制定的必须条件下，一个系统完成所需要功能的能力-应该有很长的平均无故障时间    \n（5）完整性：限制、验证    \n（6）适应性：适应不同执行环境    \n（7）精确性：输出结果的精确程度    \n（8）健壮性：系统在接受无效输入或处于压力环境下持续正常运行的能力    \n内在特性：\n（1）可维护性：指很容易能够对系统进行修改或新增功能，提高性能及修正缺陷    \n（2）灵活性：系统适用其他系统或者修改难易程度    \n（3）可移植性：运行环境的可移植性    \n（4）可重用性：指系统的某些部分可被应用到其他系统的难易程度    \n（5）可读性：指阅读或理解系统代码的难易程度，尤其是在细节语句的层次上    \n（6）可测试性：指的是可以进行何种程度的单元测试或者系统测试，以及在何种程度上验证系统是否符合需求    \n（7）可理解性：指在系统组织和细节语句的层次上理解整个系统的难易程度\n### 协同构建\n### 开发者测试\n### 调试\n### 重构\n### 软件工艺\n#### 布局与风格\n","source":"_posts/codeComplate_01.md","raw":"---\ntitle: 代码大全\ndate: 2019-10-05 10:40:10\ntags: 学习\ncategories: 代码大全\n---\n## 前期准备\n### 前期准备的重要性\n不要立即开始写代码，要做好必要的需求分析和架构设计，写好需求文档和技术文档，防止浪费时间和精力制造错误的东西\n### 需求核对表\n**针对功能需求：**\n\n1．是否详细定义了系统的全部输入，包括其来源、精度、取值范围、出现频率等？\n\n2．是否详细定义了系统的全部输出，包括其目的地、精度、取值范围、出现频率格式等？\n\n3．是否详细定义了所有的输出格式(如：web页面、报表等)？\n\n4．是否详细定义了所有硬件及软件的外部接口？\n\n5．是否详细定义了全部外部通信接口，包括握手协议、纠错协议、通信协议等？\n\n6．是否列出了用户所要做的全部事情？\n\n7．是否详细定义了每个任务所用数据，以及每个任务得到的数据\n\n**针对非功能需求（质量需求）**\n\n1.是否为全部必要的操作，从用户的角度，详细描述的期望的响应时间 ？\n\n2.是否详细描述了其他与计时有关的考虑，如处理时间、数据传输率、系统吞吐量等？\n\n3.是否详细定义了安全级别\n\n4.是否详细定义了可靠性，包括软件失灵的后果、发生故障时需要保护的至关重要的信息、错误检查与回复的策略等？\n\n5.是否详细定义了机器内存和剩余硬盘空间最小值？\n\n6.是否详细定义了系统的可维护性，包括适应特定功能的变更、操作环境的变更、与其他软件接口变更的能力？\n\n7.是否包含对“成功”的定义，“失败”的定义？\n\n**需求的质量**\n\n1. 需求是用户书写的吗？\n\n2. 每条需求都不与其他需求冲突吗？\n\n3. 是否详细定义了相互竞争的特性之间的权衡\n\n4. 是否避免在需求中规定设计(方案)\n\n5. 需求是否在详细程度上保持相当一致的水平？有些需求应当更详细的描述吗？有些需求应该更粗略的描述吗？\n\n6. 需求是否足够清晰，即使转交给一个独立的小组去构建，他们也能理解吗？开发者也这么想吗？\n\n7. 每个条款都与待解决的问题及解决方案相关吗？能从每个条款上溯到它的问题中的对应跟源吗？\n\n8. 是否每条需求都是可测试的？是否可应进行独立的测试，以检验满不满足各项需求\n\n9. 是否描述了所有可能对需求的改动，包括各项改动的可能性\n\n**需求的完备性**\n \n 1.对于在开始开发之前无法获得信息，是否详细描述了信息不完全的区域？\n \n 2.需求的完备度是否达到这种程度：如果产品满足所有需求，那么它就是可接受的？\n \n 3.你对全部需求都感觉舒服吗？你是否已经去掉了那些不可能完成的需求—那些只是为了安抚客户和老板的东西？\n### 花费在前期准备上的时间长度\n花费在问题定义，需求分析，软件架构上的时间依据项目的需要而变化，一般占据10%-20%的工作量和20%-30%的时间\n### 良好的类接口\n类的基础是抽象数据类型（我之前大部分时候没有使用抽象，只是把相关的方法和变量定义放在了一起，实际上是不符合面向对象变成原则的），抽象数据类型是指一些数据和\n对这些数据所进行操作的集合。定义抽象类有助于代码规范，提高\n### 创建类的原因\n（1）为显示世界中的对象建模    \n（2）为抽象的对象建模    \n（3）降低复杂度    \n（4）隔离复杂度    \n（5）隐藏实现细节    \n（6）让代码更易重用    \n（7）把相关的操作包装到一起\n### 应当避免的类\n（1）避免创建万能类    \n（2）消除无关紧要的类    \n（3）避免用动词命名的类\n## 防御式编程\n### 三种处理进入垃圾的情况\n（1）检查所有来源于外部的数据的值    \n（2）检查所有子程序输入参数的值    \n（3）决定如何处理错误的输入数据\n### 断言\n断言是指在开发期间使用的、让程序在运行时进行自检的代码\n### 异常\n用异常通知程序的其他部分发生了不可忽略的错误    \n只有真正例外的情况下才抛出异常    \n不能用异常来推卸责任    \n避免在构造函数和析构函数中抛出异常，除非在同一地方把他们捕获    \n在恰当的抽象层次抛出异常\n## 变量\n与《代码整洁之道》对变量的要求几乎一致\n## 代码改善\n### 软件质量的特性\n外在特性：    \n（1）正确性：指系统规范、设计和实现方面的错误的稀少程度        \n（2）可用性：指用户学习和使用一个系统的容易程度    \n（3）效率：指软件是否尽可能少地占用系统资源，包括内存和执行时间    \n（4）可靠性：指在制定的必须条件下，一个系统完成所需要功能的能力-应该有很长的平均无故障时间    \n（5）完整性：限制、验证    \n（6）适应性：适应不同执行环境    \n（7）精确性：输出结果的精确程度    \n（8）健壮性：系统在接受无效输入或处于压力环境下持续正常运行的能力    \n内在特性：\n（1）可维护性：指很容易能够对系统进行修改或新增功能，提高性能及修正缺陷    \n（2）灵活性：系统适用其他系统或者修改难易程度    \n（3）可移植性：运行环境的可移植性    \n（4）可重用性：指系统的某些部分可被应用到其他系统的难易程度    \n（5）可读性：指阅读或理解系统代码的难易程度，尤其是在细节语句的层次上    \n（6）可测试性：指的是可以进行何种程度的单元测试或者系统测试，以及在何种程度上验证系统是否符合需求    \n（7）可理解性：指在系统组织和细节语句的层次上理解整个系统的难易程度\n### 协同构建\n### 开发者测试\n### 调试\n### 重构\n### 软件工艺\n#### 布局与风格\n","slug":"codeComplate_01","published":1,"updated":"2019-12-10T01:49:46.535Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrk001ed87psgefmz3q","content":"<h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><h3 id=\"前期准备的重要性\"><a href=\"#前期准备的重要性\" class=\"headerlink\" title=\"前期准备的重要性\"></a>前期准备的重要性</h3><p>不要立即开始写代码，要做好必要的需求分析和架构设计，写好需求文档和技术文档，防止浪费时间和精力制造错误的东西</p>\n<h3 id=\"需求核对表\"><a href=\"#需求核对表\" class=\"headerlink\" title=\"需求核对表\"></a>需求核对表</h3><p><strong>针对功能需求：</strong></p>\n<p>1．是否详细定义了系统的全部输入，包括其来源、精度、取值范围、出现频率等？</p>\n<p>2．是否详细定义了系统的全部输出，包括其目的地、精度、取值范围、出现频率格式等？</p>\n<p>3．是否详细定义了所有的输出格式(如：web页面、报表等)？</p>\n<p>4．是否详细定义了所有硬件及软件的外部接口？</p>\n<p>5．是否详细定义了全部外部通信接口，包括握手协议、纠错协议、通信协议等？</p>\n<p>6．是否列出了用户所要做的全部事情？</p>\n<p>7．是否详细定义了每个任务所用数据，以及每个任务得到的数据</p>\n<p><strong>针对非功能需求（质量需求）</strong></p>\n<p>1.是否为全部必要的操作，从用户的角度，详细描述的期望的响应时间 ？</p>\n<p>2.是否详细描述了其他与计时有关的考虑，如处理时间、数据传输率、系统吞吐量等？</p>\n<p>3.是否详细定义了安全级别</p>\n<p>4.是否详细定义了可靠性，包括软件失灵的后果、发生故障时需要保护的至关重要的信息、错误检查与回复的策略等？</p>\n<p>5.是否详细定义了机器内存和剩余硬盘空间最小值？</p>\n<p>6.是否详细定义了系统的可维护性，包括适应特定功能的变更、操作环境的变更、与其他软件接口变更的能力？</p>\n<p>7.是否包含对“成功”的定义，“失败”的定义？</p>\n<p><strong>需求的质量</strong></p>\n<ol>\n<li><p>需求是用户书写的吗？</p>\n</li>\n<li><p>每条需求都不与其他需求冲突吗？</p>\n</li>\n<li><p>是否详细定义了相互竞争的特性之间的权衡</p>\n</li>\n<li><p>是否避免在需求中规定设计(方案)</p>\n</li>\n<li><p>需求是否在详细程度上保持相当一致的水平？有些需求应当更详细的描述吗？有些需求应该更粗略的描述吗？</p>\n</li>\n<li><p>需求是否足够清晰，即使转交给一个独立的小组去构建，他们也能理解吗？开发者也这么想吗？</p>\n</li>\n<li><p>每个条款都与待解决的问题及解决方案相关吗？能从每个条款上溯到它的问题中的对应跟源吗？</p>\n</li>\n<li><p>是否每条需求都是可测试的？是否可应进行独立的测试，以检验满不满足各项需求</p>\n</li>\n<li><p>是否描述了所有可能对需求的改动，包括各项改动的可能性</p>\n</li>\n</ol>\n<p><strong>需求的完备性</strong></p>\n<p> 1.对于在开始开发之前无法获得信息，是否详细描述了信息不完全的区域？</p>\n<p> 2.需求的完备度是否达到这种程度：如果产品满足所有需求，那么它就是可接受的？</p>\n<p> 3.你对全部需求都感觉舒服吗？你是否已经去掉了那些不可能完成的需求—那些只是为了安抚客户和老板的东西？</p>\n<h3 id=\"花费在前期准备上的时间长度\"><a href=\"#花费在前期准备上的时间长度\" class=\"headerlink\" title=\"花费在前期准备上的时间长度\"></a>花费在前期准备上的时间长度</h3><p>花费在问题定义，需求分析，软件架构上的时间依据项目的需要而变化，一般占据10%-20%的工作量和20%-30%的时间</p>\n<h3 id=\"良好的类接口\"><a href=\"#良好的类接口\" class=\"headerlink\" title=\"良好的类接口\"></a>良好的类接口</h3><p>类的基础是抽象数据类型（我之前大部分时候没有使用抽象，只是把相关的方法和变量定义放在了一起，实际上是不符合面向对象变成原则的），抽象数据类型是指一些数据和<br>对这些数据所进行操作的集合。定义抽象类有助于代码规范，提高</p>\n<h3 id=\"创建类的原因\"><a href=\"#创建类的原因\" class=\"headerlink\" title=\"创建类的原因\"></a>创建类的原因</h3><p>（1）为显示世界中的对象建模<br>（2）为抽象的对象建模<br>（3）降低复杂度<br>（4）隔离复杂度<br>（5）隐藏实现细节<br>（6）让代码更易重用<br>（7）把相关的操作包装到一起</p>\n<h3 id=\"应当避免的类\"><a href=\"#应当避免的类\" class=\"headerlink\" title=\"应当避免的类\"></a>应当避免的类</h3><p>（1）避免创建万能类<br>（2）消除无关紧要的类<br>（3）避免用动词命名的类</p>\n<h2 id=\"防御式编程\"><a href=\"#防御式编程\" class=\"headerlink\" title=\"防御式编程\"></a>防御式编程</h2><h3 id=\"三种处理进入垃圾的情况\"><a href=\"#三种处理进入垃圾的情况\" class=\"headerlink\" title=\"三种处理进入垃圾的情况\"></a>三种处理进入垃圾的情况</h3><p>（1）检查所有来源于外部的数据的值<br>（2）检查所有子程序输入参数的值<br>（3）决定如何处理错误的输入数据</p>\n<h3 id=\"断言\"><a href=\"#断言\" class=\"headerlink\" title=\"断言\"></a>断言</h3><p>断言是指在开发期间使用的、让程序在运行时进行自检的代码</p>\n<h3 id=\"异常\"><a href=\"#异常\" class=\"headerlink\" title=\"异常\"></a>异常</h3><p>用异常通知程序的其他部分发生了不可忽略的错误<br>只有真正例外的情况下才抛出异常<br>不能用异常来推卸责任<br>避免在构造函数和析构函数中抛出异常，除非在同一地方把他们捕获<br>在恰当的抽象层次抛出异常</p>\n<h2 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h2><p>与《代码整洁之道》对变量的要求几乎一致</p>\n<h2 id=\"代码改善\"><a href=\"#代码改善\" class=\"headerlink\" title=\"代码改善\"></a>代码改善</h2><h3 id=\"软件质量的特性\"><a href=\"#软件质量的特性\" class=\"headerlink\" title=\"软件质量的特性\"></a>软件质量的特性</h3><p>外在特性：<br>（1）正确性：指系统规范、设计和实现方面的错误的稀少程度<br>（2）可用性：指用户学习和使用一个系统的容易程度<br>（3）效率：指软件是否尽可能少地占用系统资源，包括内存和执行时间<br>（4）可靠性：指在制定的必须条件下，一个系统完成所需要功能的能力-应该有很长的平均无故障时间<br>（5）完整性：限制、验证<br>（6）适应性：适应不同执行环境<br>（7）精确性：输出结果的精确程度<br>（8）健壮性：系统在接受无效输入或处于压力环境下持续正常运行的能力<br>内在特性：<br>（1）可维护性：指很容易能够对系统进行修改或新增功能，提高性能及修正缺陷<br>（2）灵活性：系统适用其他系统或者修改难易程度<br>（3）可移植性：运行环境的可移植性<br>（4）可重用性：指系统的某些部分可被应用到其他系统的难易程度<br>（5）可读性：指阅读或理解系统代码的难易程度，尤其是在细节语句的层次上<br>（6）可测试性：指的是可以进行何种程度的单元测试或者系统测试，以及在何种程度上验证系统是否符合需求<br>（7）可理解性：指在系统组织和细节语句的层次上理解整个系统的难易程度</p>\n<h3 id=\"协同构建\"><a href=\"#协同构建\" class=\"headerlink\" title=\"协同构建\"></a>协同构建</h3><h3 id=\"开发者测试\"><a href=\"#开发者测试\" class=\"headerlink\" title=\"开发者测试\"></a>开发者测试</h3><h3 id=\"调试\"><a href=\"#调试\" class=\"headerlink\" title=\"调试\"></a>调试</h3><h3 id=\"重构\"><a href=\"#重构\" class=\"headerlink\" title=\"重构\"></a>重构</h3><h3 id=\"软件工艺\"><a href=\"#软件工艺\" class=\"headerlink\" title=\"软件工艺\"></a>软件工艺</h3><h4 id=\"布局与风格\"><a href=\"#布局与风格\" class=\"headerlink\" title=\"布局与风格\"></a>布局与风格</h4>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><h3 id=\"前期准备的重要性\"><a href=\"#前期准备的重要性\" class=\"headerlink\" title=\"前期准备的重要性\"></a>前期准备的重要性</h3><p>不要立即开始写代码，要做好必要的需求分析和架构设计，写好需求文档和技术文档，防止浪费时间和精力制造错误的东西</p>\n<h3 id=\"需求核对表\"><a href=\"#需求核对表\" class=\"headerlink\" title=\"需求核对表\"></a>需求核对表</h3><p><strong>针对功能需求：</strong></p>\n<p>1．是否详细定义了系统的全部输入，包括其来源、精度、取值范围、出现频率等？</p>\n<p>2．是否详细定义了系统的全部输出，包括其目的地、精度、取值范围、出现频率格式等？</p>\n<p>3．是否详细定义了所有的输出格式(如：web页面、报表等)？</p>\n<p>4．是否详细定义了所有硬件及软件的外部接口？</p>\n<p>5．是否详细定义了全部外部通信接口，包括握手协议、纠错协议、通信协议等？</p>\n<p>6．是否列出了用户所要做的全部事情？</p>\n<p>7．是否详细定义了每个任务所用数据，以及每个任务得到的数据</p>\n<p><strong>针对非功能需求（质量需求）</strong></p>\n<p>1.是否为全部必要的操作，从用户的角度，详细描述的期望的响应时间 ？</p>\n<p>2.是否详细描述了其他与计时有关的考虑，如处理时间、数据传输率、系统吞吐量等？</p>\n<p>3.是否详细定义了安全级别</p>\n<p>4.是否详细定义了可靠性，包括软件失灵的后果、发生故障时需要保护的至关重要的信息、错误检查与回复的策略等？</p>\n<p>5.是否详细定义了机器内存和剩余硬盘空间最小值？</p>\n<p>6.是否详细定义了系统的可维护性，包括适应特定功能的变更、操作环境的变更、与其他软件接口变更的能力？</p>\n<p>7.是否包含对“成功”的定义，“失败”的定义？</p>\n<p><strong>需求的质量</strong></p>\n<ol>\n<li><p>需求是用户书写的吗？</p>\n</li>\n<li><p>每条需求都不与其他需求冲突吗？</p>\n</li>\n<li><p>是否详细定义了相互竞争的特性之间的权衡</p>\n</li>\n<li><p>是否避免在需求中规定设计(方案)</p>\n</li>\n<li><p>需求是否在详细程度上保持相当一致的水平？有些需求应当更详细的描述吗？有些需求应该更粗略的描述吗？</p>\n</li>\n<li><p>需求是否足够清晰，即使转交给一个独立的小组去构建，他们也能理解吗？开发者也这么想吗？</p>\n</li>\n<li><p>每个条款都与待解决的问题及解决方案相关吗？能从每个条款上溯到它的问题中的对应跟源吗？</p>\n</li>\n<li><p>是否每条需求都是可测试的？是否可应进行独立的测试，以检验满不满足各项需求</p>\n</li>\n<li><p>是否描述了所有可能对需求的改动，包括各项改动的可能性</p>\n</li>\n</ol>\n<p><strong>需求的完备性</strong></p>\n<p> 1.对于在开始开发之前无法获得信息，是否详细描述了信息不完全的区域？</p>\n<p> 2.需求的完备度是否达到这种程度：如果产品满足所有需求，那么它就是可接受的？</p>\n<p> 3.你对全部需求都感觉舒服吗？你是否已经去掉了那些不可能完成的需求—那些只是为了安抚客户和老板的东西？</p>\n<h3 id=\"花费在前期准备上的时间长度\"><a href=\"#花费在前期准备上的时间长度\" class=\"headerlink\" title=\"花费在前期准备上的时间长度\"></a>花费在前期准备上的时间长度</h3><p>花费在问题定义，需求分析，软件架构上的时间依据项目的需要而变化，一般占据10%-20%的工作量和20%-30%的时间</p>\n<h3 id=\"良好的类接口\"><a href=\"#良好的类接口\" class=\"headerlink\" title=\"良好的类接口\"></a>良好的类接口</h3><p>类的基础是抽象数据类型（我之前大部分时候没有使用抽象，只是把相关的方法和变量定义放在了一起，实际上是不符合面向对象变成原则的），抽象数据类型是指一些数据和<br>对这些数据所进行操作的集合。定义抽象类有助于代码规范，提高</p>\n<h3 id=\"创建类的原因\"><a href=\"#创建类的原因\" class=\"headerlink\" title=\"创建类的原因\"></a>创建类的原因</h3><p>（1）为显示世界中的对象建模<br>（2）为抽象的对象建模<br>（3）降低复杂度<br>（4）隔离复杂度<br>（5）隐藏实现细节<br>（6）让代码更易重用<br>（7）把相关的操作包装到一起</p>\n<h3 id=\"应当避免的类\"><a href=\"#应当避免的类\" class=\"headerlink\" title=\"应当避免的类\"></a>应当避免的类</h3><p>（1）避免创建万能类<br>（2）消除无关紧要的类<br>（3）避免用动词命名的类</p>\n<h2 id=\"防御式编程\"><a href=\"#防御式编程\" class=\"headerlink\" title=\"防御式编程\"></a>防御式编程</h2><h3 id=\"三种处理进入垃圾的情况\"><a href=\"#三种处理进入垃圾的情况\" class=\"headerlink\" title=\"三种处理进入垃圾的情况\"></a>三种处理进入垃圾的情况</h3><p>（1）检查所有来源于外部的数据的值<br>（2）检查所有子程序输入参数的值<br>（3）决定如何处理错误的输入数据</p>\n<h3 id=\"断言\"><a href=\"#断言\" class=\"headerlink\" title=\"断言\"></a>断言</h3><p>断言是指在开发期间使用的、让程序在运行时进行自检的代码</p>\n<h3 id=\"异常\"><a href=\"#异常\" class=\"headerlink\" title=\"异常\"></a>异常</h3><p>用异常通知程序的其他部分发生了不可忽略的错误<br>只有真正例外的情况下才抛出异常<br>不能用异常来推卸责任<br>避免在构造函数和析构函数中抛出异常，除非在同一地方把他们捕获<br>在恰当的抽象层次抛出异常</p>\n<h2 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h2><p>与《代码整洁之道》对变量的要求几乎一致</p>\n<h2 id=\"代码改善\"><a href=\"#代码改善\" class=\"headerlink\" title=\"代码改善\"></a>代码改善</h2><h3 id=\"软件质量的特性\"><a href=\"#软件质量的特性\" class=\"headerlink\" title=\"软件质量的特性\"></a>软件质量的特性</h3><p>外在特性：<br>（1）正确性：指系统规范、设计和实现方面的错误的稀少程度<br>（2）可用性：指用户学习和使用一个系统的容易程度<br>（3）效率：指软件是否尽可能少地占用系统资源，包括内存和执行时间<br>（4）可靠性：指在制定的必须条件下，一个系统完成所需要功能的能力-应该有很长的平均无故障时间<br>（5）完整性：限制、验证<br>（6）适应性：适应不同执行环境<br>（7）精确性：输出结果的精确程度<br>（8）健壮性：系统在接受无效输入或处于压力环境下持续正常运行的能力<br>内在特性：<br>（1）可维护性：指很容易能够对系统进行修改或新增功能，提高性能及修正缺陷<br>（2）灵活性：系统适用其他系统或者修改难易程度<br>（3）可移植性：运行环境的可移植性<br>（4）可重用性：指系统的某些部分可被应用到其他系统的难易程度<br>（5）可读性：指阅读或理解系统代码的难易程度，尤其是在细节语句的层次上<br>（6）可测试性：指的是可以进行何种程度的单元测试或者系统测试，以及在何种程度上验证系统是否符合需求<br>（7）可理解性：指在系统组织和细节语句的层次上理解整个系统的难易程度</p>\n<h3 id=\"协同构建\"><a href=\"#协同构建\" class=\"headerlink\" title=\"协同构建\"></a>协同构建</h3><h3 id=\"开发者测试\"><a href=\"#开发者测试\" class=\"headerlink\" title=\"开发者测试\"></a>开发者测试</h3><h3 id=\"调试\"><a href=\"#调试\" class=\"headerlink\" title=\"调试\"></a>调试</h3><h3 id=\"重构\"><a href=\"#重构\" class=\"headerlink\" title=\"重构\"></a>重构</h3><h3 id=\"软件工艺\"><a href=\"#软件工艺\" class=\"headerlink\" title=\"软件工艺\"></a>软件工艺</h3><h4 id=\"布局与风格\"><a href=\"#布局与风格\" class=\"headerlink\" title=\"布局与风格\"></a>布局与风格</h4>"},{"title":"设计模式六大原则","date":"2019-10-07T09:40:10.000Z","_content":"##第一：单一职责原则（SPR）  \n一个类应该有且仅有一个原因导致该类的变更，即一个类应该只负责一项职责  \n##第二：里氏替换原则（LSP）\n\n##第三：依赖倒置原则（DIP）\n抽象不应该依赖细节，细节应该依赖于抽象。针对接口编程，不要针对实现编程\n##第四：接口隔离原则（ISP）\n##第五：迪米特法则（LoD）\n##第六：开放封闭原则\n开放-封闭原则是说软件实体（类、模块、函数等等）应该可以扩展，但是不可以修改\n\n","source":"_posts/codePrinceple.md","raw":"---\ntitle: 设计模式六大原则\ndate: 2019-10-07 17:40:10\ntags: 学习\ncategories: 设计模式\n---\n##第一：单一职责原则（SPR）  \n一个类应该有且仅有一个原因导致该类的变更，即一个类应该只负责一项职责  \n##第二：里氏替换原则（LSP）\n\n##第三：依赖倒置原则（DIP）\n抽象不应该依赖细节，细节应该依赖于抽象。针对接口编程，不要针对实现编程\n##第四：接口隔离原则（ISP）\n##第五：迪米特法则（LoD）\n##第六：开放封闭原则\n开放-封闭原则是说软件实体（类、模块、函数等等）应该可以扩展，但是不可以修改\n\n","slug":"codePrinceple","published":1,"updated":"2019-12-10T01:49:46.536Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrn001id87pe1zpwbf0","content":"<p>##第一：单一职责原则（SPR）<br>一个类应该有且仅有一个原因导致该类的变更，即一个类应该只负责一项职责  </p>\n<p>##第二：里氏替换原则（LSP）</p>\n<p>##第三：依赖倒置原则（DIP）<br>抽象不应该依赖细节，细节应该依赖于抽象。针对接口编程，不要针对实现编程</p>\n<p>##第四：接口隔离原则（ISP）</p>\n<p>##第五：迪米特法则（LoD）</p>\n<p>##第六：开放封闭原则<br>开放-封闭原则是说软件实体（类、模块、函数等等）应该可以扩展，但是不可以修改</p>\n","site":{"data":{}},"excerpt":"","more":"<p>##第一：单一职责原则（SPR）<br>一个类应该有且仅有一个原因导致该类的变更，即一个类应该只负责一项职责  </p>\n<p>##第二：里氏替换原则（LSP）</p>\n<p>##第三：依赖倒置原则（DIP）<br>抽象不应该依赖细节，细节应该依赖于抽象。针对接口编程，不要针对实现编程</p>\n<p>##第四：接口隔离原则（ISP）</p>\n<p>##第五：迪米特法则（LoD）</p>\n<p>##第六：开放封闭原则<br>开放-封闭原则是说软件实体（类、模块、函数等等）应该可以扩展，但是不可以修改</p>\n"},{"title":"命令模式","date":"2019-10-04T09:40:10.000Z","_content":"# 基础概念\n## 基础介绍\n（1）概念介绍：    \n命令模式（Command Pattern）是一种数据驱动的设计模式，它属于行为型模式。请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。    \n（2）概念解析：    \n命令模式将一个请求封装成一个对象，从而可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作。    \n## 使用场景\n在某些场合下，需要对行为进行\"记录、撤销/重做、事务\"等处理，需要将\"行为请求者\"与\"行为实现者\"解耦，将一组行为抽象为对象，可以实现二者之间的松耦合。认为是命令的地方都可以使用命令模式，比如： 1、GUI 中每一个按钮都是一条命令。 2、模拟 CMD。    \n## 关键术语\n（1）received：真正的命令执行对象    \n（2）Command：命令    \n（3）invoker：使用命令对象的入口\n## 实现步骤\n以下以后台k8s删除node节点命令为例\n### a.创建一个命令接口：    \n接口定义接口名称，需要实现的操作名称，命令模式需要的操作为执行命令，后续可根据不同的命令来实现这个接口和执行命令方法。\n```php\n<?php\nabstract class Nodes {\n   public function execute(){}\n}\n?>\n```\n### b.创建一个请求类\n定义拥有的请求方法        \n本例中操作有：    \n（1）列出所有nodes:  kubectl get node    \n（2）删除节点：kubectl delete node $nodeName \n（3）查看对应node上的pods信息: kubectl get pods -o wide | grep $nodeName    \n（4）在删除的node3对应的服务器上执行：kubeadm reset\n```php\n<?php\nclass K8s {\n    public function getNodes()\n    {\n        return 'kubectl get node';\n    }\n    public function delNodes($nodeName)\n    {\n        return \"kubectl delete node $nodeName \";\n    }\n}\n?>\n```\n### c.创建实现接口的实体类\n针对不同的方法实现命令接口。即实现a步骤（创建一个命令接口）所创建的接口，b中的每个请求方法都需要实现对应的实体类。    \n```php\n<?php\nclass GetNodes implements Nodes {\n   private $nodes = new K8s(); \n   public function getK8s():K8s\n   {\n       if (empty($this->nodes)) {\n           $this->nodes = new K8s();\n       }\n       return $this->nodes;\n   }\n   public function execute()\n   {\n       $this->getK8s()->getNodes();\n   }\n}\nclass DelNodes implements Nodes {\n   private $nodes = new K8s(); \n   public function getK8s():K8s\n   {\n       if (empty($this->nodes)) {\n           $this->nodes = new K8s();\n       }\n       return $this->nodes;\n   }\n   public function execute()\n   {\n       $this->getK8s()->delNodes();\n   }\n}\n?>\n```\n### 创建命令调用类\nbroker,用来调用命令\n```php\n<?php\nclass Broker{\n    private $commandList = [];\n    public function addList($k8s)\n    {\n        array_push($this->commandList, $k8s);\n    }\n    public function executeList()\n    {\n        foreach ($this->commandList as $command) {\n            $command->execute();\n        }\n    }\n}\n?>\n```\n### 使用broker类来接受并执行命令\n调用broker类，根据需要（顺序，需要使用的方法等）添加一个执行队列（数组），之后再执行\n```php\n<?php\nclass CommandUse\n{\n    public function executeCommand()\n    {\n        $getNodes = new GetNodes();\n        $delNodes = new DeleNodes();\n        \n        $broker = new Broker();\n        $broker->addList($getNodes);\n        $broker->addList($delNodes);\n        \n        $broker->executeList();\n    }\n}\n?>\n```\n### 执行程序输出结果\n## 命令模式的优点\n（1）比较容易设计出一个命令队列    \n（2）在需要的情况下，可以比较容易的将命令记入日志    \n（3）允许接收请求的一方决定是否要否决请求    \n（4）可以容易地实现对请求的撤销和重做    \n（5）由于加进新的具体命令类不影响其他的类，因此增加新的具体命令类很容易    \n（6）命令模式把请求一个操作的对象和知道怎么执行一个操作的对象分割开    ","source":"_posts/commandMode.md","raw":"---\ntitle: 命令模式\ndate: 2019-10-04 17:40:10\ntags: 概念介绍\ncategories: 设计模式\n---\n# 基础概念\n## 基础介绍\n（1）概念介绍：    \n命令模式（Command Pattern）是一种数据驱动的设计模式，它属于行为型模式。请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。    \n（2）概念解析：    \n命令模式将一个请求封装成一个对象，从而可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作。    \n## 使用场景\n在某些场合下，需要对行为进行\"记录、撤销/重做、事务\"等处理，需要将\"行为请求者\"与\"行为实现者\"解耦，将一组行为抽象为对象，可以实现二者之间的松耦合。认为是命令的地方都可以使用命令模式，比如： 1、GUI 中每一个按钮都是一条命令。 2、模拟 CMD。    \n## 关键术语\n（1）received：真正的命令执行对象    \n（2）Command：命令    \n（3）invoker：使用命令对象的入口\n## 实现步骤\n以下以后台k8s删除node节点命令为例\n### a.创建一个命令接口：    \n接口定义接口名称，需要实现的操作名称，命令模式需要的操作为执行命令，后续可根据不同的命令来实现这个接口和执行命令方法。\n```php\n<?php\nabstract class Nodes {\n   public function execute(){}\n}\n?>\n```\n### b.创建一个请求类\n定义拥有的请求方法        \n本例中操作有：    \n（1）列出所有nodes:  kubectl get node    \n（2）删除节点：kubectl delete node $nodeName \n（3）查看对应node上的pods信息: kubectl get pods -o wide | grep $nodeName    \n（4）在删除的node3对应的服务器上执行：kubeadm reset\n```php\n<?php\nclass K8s {\n    public function getNodes()\n    {\n        return 'kubectl get node';\n    }\n    public function delNodes($nodeName)\n    {\n        return \"kubectl delete node $nodeName \";\n    }\n}\n?>\n```\n### c.创建实现接口的实体类\n针对不同的方法实现命令接口。即实现a步骤（创建一个命令接口）所创建的接口，b中的每个请求方法都需要实现对应的实体类。    \n```php\n<?php\nclass GetNodes implements Nodes {\n   private $nodes = new K8s(); \n   public function getK8s():K8s\n   {\n       if (empty($this->nodes)) {\n           $this->nodes = new K8s();\n       }\n       return $this->nodes;\n   }\n   public function execute()\n   {\n       $this->getK8s()->getNodes();\n   }\n}\nclass DelNodes implements Nodes {\n   private $nodes = new K8s(); \n   public function getK8s():K8s\n   {\n       if (empty($this->nodes)) {\n           $this->nodes = new K8s();\n       }\n       return $this->nodes;\n   }\n   public function execute()\n   {\n       $this->getK8s()->delNodes();\n   }\n}\n?>\n```\n### 创建命令调用类\nbroker,用来调用命令\n```php\n<?php\nclass Broker{\n    private $commandList = [];\n    public function addList($k8s)\n    {\n        array_push($this->commandList, $k8s);\n    }\n    public function executeList()\n    {\n        foreach ($this->commandList as $command) {\n            $command->execute();\n        }\n    }\n}\n?>\n```\n### 使用broker类来接受并执行命令\n调用broker类，根据需要（顺序，需要使用的方法等）添加一个执行队列（数组），之后再执行\n```php\n<?php\nclass CommandUse\n{\n    public function executeCommand()\n    {\n        $getNodes = new GetNodes();\n        $delNodes = new DeleNodes();\n        \n        $broker = new Broker();\n        $broker->addList($getNodes);\n        $broker->addList($delNodes);\n        \n        $broker->executeList();\n    }\n}\n?>\n```\n### 执行程序输出结果\n## 命令模式的优点\n（1）比较容易设计出一个命令队列    \n（2）在需要的情况下，可以比较容易的将命令记入日志    \n（3）允许接收请求的一方决定是否要否决请求    \n（4）可以容易地实现对请求的撤销和重做    \n（5）由于加进新的具体命令类不影响其他的类，因此增加新的具体命令类很容易    \n（6）命令模式把请求一个操作的对象和知道怎么执行一个操作的对象分割开    ","slug":"commandMode","published":1,"updated":"2019-12-10T01:49:46.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrq001ld87pmv3zsahr","content":"<h1 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h1><h2 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h2><p>（1）概念介绍：<br>命令模式（Command Pattern）是一种数据驱动的设计模式，它属于行为型模式。请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。<br>（2）概念解析：<br>命令模式将一个请求封装成一个对象，从而可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作。    </p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>在某些场合下，需要对行为进行”记录、撤销/重做、事务”等处理，需要将”行为请求者”与”行为实现者”解耦，将一组行为抽象为对象，可以实现二者之间的松耦合。认为是命令的地方都可以使用命令模式，比如： 1、GUI 中每一个按钮都是一条命令。 2、模拟 CMD。    </p>\n<h2 id=\"关键术语\"><a href=\"#关键术语\" class=\"headerlink\" title=\"关键术语\"></a>关键术语</h2><p>（1）received：真正的命令执行对象<br>（2）Command：命令<br>（3）invoker：使用命令对象的入口</p>\n<h2 id=\"实现步骤\"><a href=\"#实现步骤\" class=\"headerlink\" title=\"实现步骤\"></a>实现步骤</h2><p>以下以后台k8s删除node节点命令为例</p>\n<h3 id=\"a-创建一个命令接口：\"><a href=\"#a-创建一个命令接口：\" class=\"headerlink\" title=\"a.创建一个命令接口：\"></a>a.创建一个命令接口：</h3><p>接口定义接口名称，需要实现的操作名称，命令模式需要的操作为执行命令，后续可根据不同的命令来实现这个接口和执行命令方法。<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"b-创建一个请求类\"><a href=\"#b-创建一个请求类\" class=\"headerlink\" title=\"b.创建一个请求类\"></a>b.创建一个请求类</h3><p>定义拥有的请求方法<br>本例中操作有：<br>（1）列出所有nodes:  kubectl get node<br>（2）删除节点：kubectl delete node $nodeName<br>（3）查看对应node上的pods信息: kubectl get pods -o wide | grep $nodeName<br>（4）在删除的node3对应的服务器上执行：kubeadm reset<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">K8s</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNodes</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'kubectl get node'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delNodes</span><span class=\"params\">($nodeName)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"kubectl delete node $nodeName \"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"c-创建实现接口的实体类\"><a href=\"#c-创建实现接口的实体类\" class=\"headerlink\" title=\"c.创建实现接口的实体类\"></a>c.创建实现接口的实体类</h3><p>针对不同的方法实现命令接口。即实现a步骤（创建一个命令接口）所创建的接口，b中的每个请求方法都需要实现对应的实体类。<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GetNodes</span> <span class=\"keyword\">implements</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">private</span> $nodes = <span class=\"keyword\">new</span> K8s(); </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getK8s</span><span class=\"params\">()</span>:<span class=\"title\">K8s</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"keyword\">empty</span>(<span class=\"keyword\">$this</span>-&gt;nodes)) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">$this</span>-&gt;nodes = <span class=\"keyword\">new</span> K8s();</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;nodes;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">$this</span>-&gt;getK8s()-&gt;getNodes();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DelNodes</span> <span class=\"keyword\">implements</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">private</span> $nodes = <span class=\"keyword\">new</span> K8s(); </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getK8s</span><span class=\"params\">()</span>:<span class=\"title\">K8s</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"keyword\">empty</span>(<span class=\"keyword\">$this</span>-&gt;nodes)) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">$this</span>-&gt;nodes = <span class=\"keyword\">new</span> K8s();</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;nodes;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">$this</span>-&gt;getK8s()-&gt;delNodes();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"创建命令调用类\"><a href=\"#创建命令调用类\" class=\"headerlink\" title=\"创建命令调用类\"></a>创建命令调用类</h3><p>broker,用来调用命令<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Broker</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $commandList = [];</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addList</span><span class=\"params\">($k8s)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        array_push(<span class=\"keyword\">$this</span>-&gt;commandList, $k8s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeList</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;commandList <span class=\"keyword\">as</span> $command) &#123;</span><br><span class=\"line\">            $command-&gt;execute();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"使用broker类来接受并执行命令\"><a href=\"#使用broker类来接受并执行命令\" class=\"headerlink\" title=\"使用broker类来接受并执行命令\"></a>使用broker类来接受并执行命令</h3><p>调用broker类，根据需要（顺序，需要使用的方法等）添加一个执行队列（数组），之后再执行<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CommandUse</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeCommand</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $getNodes = <span class=\"keyword\">new</span> GetNodes();</span><br><span class=\"line\">        $delNodes = <span class=\"keyword\">new</span> DeleNodes();</span><br><span class=\"line\">        </span><br><span class=\"line\">        $broker = <span class=\"keyword\">new</span> Broker();</span><br><span class=\"line\">        $broker-&gt;addList($getNodes);</span><br><span class=\"line\">        $broker-&gt;addList($delNodes);</span><br><span class=\"line\">        </span><br><span class=\"line\">        $broker-&gt;executeList();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"执行程序输出结果\"><a href=\"#执行程序输出结果\" class=\"headerlink\" title=\"执行程序输出结果\"></a>执行程序输出结果</h3><h2 id=\"命令模式的优点\"><a href=\"#命令模式的优点\" class=\"headerlink\" title=\"命令模式的优点\"></a>命令模式的优点</h2><p>（1）比较容易设计出一个命令队列<br>（2）在需要的情况下，可以比较容易的将命令记入日志<br>（3）允许接收请求的一方决定是否要否决请求<br>（4）可以容易地实现对请求的撤销和重做<br>（5）由于加进新的具体命令类不影响其他的类，因此增加新的具体命令类很容易<br>（6）命令模式把请求一个操作的对象和知道怎么执行一个操作的对象分割开    </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h1><h2 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h2><p>（1）概念介绍：<br>命令模式（Command Pattern）是一种数据驱动的设计模式，它属于行为型模式。请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。<br>（2）概念解析：<br>命令模式将一个请求封装成一个对象，从而可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作。    </p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>在某些场合下，需要对行为进行”记录、撤销/重做、事务”等处理，需要将”行为请求者”与”行为实现者”解耦，将一组行为抽象为对象，可以实现二者之间的松耦合。认为是命令的地方都可以使用命令模式，比如： 1、GUI 中每一个按钮都是一条命令。 2、模拟 CMD。    </p>\n<h2 id=\"关键术语\"><a href=\"#关键术语\" class=\"headerlink\" title=\"关键术语\"></a>关键术语</h2><p>（1）received：真正的命令执行对象<br>（2）Command：命令<br>（3）invoker：使用命令对象的入口</p>\n<h2 id=\"实现步骤\"><a href=\"#实现步骤\" class=\"headerlink\" title=\"实现步骤\"></a>实现步骤</h2><p>以下以后台k8s删除node节点命令为例</p>\n<h3 id=\"a-创建一个命令接口：\"><a href=\"#a-创建一个命令接口：\" class=\"headerlink\" title=\"a.创建一个命令接口：\"></a>a.创建一个命令接口：</h3><p>接口定义接口名称，需要实现的操作名称，命令模式需要的操作为执行命令，后续可根据不同的命令来实现这个接口和执行命令方法。<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"b-创建一个请求类\"><a href=\"#b-创建一个请求类\" class=\"headerlink\" title=\"b.创建一个请求类\"></a>b.创建一个请求类</h3><p>定义拥有的请求方法<br>本例中操作有：<br>（1）列出所有nodes:  kubectl get node<br>（2）删除节点：kubectl delete node $nodeName<br>（3）查看对应node上的pods信息: kubectl get pods -o wide | grep $nodeName<br>（4）在删除的node3对应的服务器上执行：kubeadm reset<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">K8s</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNodes</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'kubectl get node'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delNodes</span><span class=\"params\">($nodeName)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"kubectl delete node $nodeName \"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"c-创建实现接口的实体类\"><a href=\"#c-创建实现接口的实体类\" class=\"headerlink\" title=\"c.创建实现接口的实体类\"></a>c.创建实现接口的实体类</h3><p>针对不同的方法实现命令接口。即实现a步骤（创建一个命令接口）所创建的接口，b中的每个请求方法都需要实现对应的实体类。<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GetNodes</span> <span class=\"keyword\">implements</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">private</span> $nodes = <span class=\"keyword\">new</span> K8s(); </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getK8s</span><span class=\"params\">()</span>:<span class=\"title\">K8s</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"keyword\">empty</span>(<span class=\"keyword\">$this</span>-&gt;nodes)) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">$this</span>-&gt;nodes = <span class=\"keyword\">new</span> K8s();</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;nodes;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">$this</span>-&gt;getK8s()-&gt;getNodes();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DelNodes</span> <span class=\"keyword\">implements</span> <span class=\"title\">Nodes</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">private</span> $nodes = <span class=\"keyword\">new</span> K8s(); </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getK8s</span><span class=\"params\">()</span>:<span class=\"title\">K8s</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"keyword\">empty</span>(<span class=\"keyword\">$this</span>-&gt;nodes)) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">$this</span>-&gt;nodes = <span class=\"keyword\">new</span> K8s();</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"keyword\">$this</span>-&gt;nodes;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">   </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">$this</span>-&gt;getK8s()-&gt;delNodes();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"创建命令调用类\"><a href=\"#创建命令调用类\" class=\"headerlink\" title=\"创建命令调用类\"></a>创建命令调用类</h3><p>broker,用来调用命令<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Broker</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> $commandList = [];</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addList</span><span class=\"params\">($k8s)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        array_push(<span class=\"keyword\">$this</span>-&gt;commandList, $k8s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeList</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">$this</span>-&gt;commandList <span class=\"keyword\">as</span> $command) &#123;</span><br><span class=\"line\">            $command-&gt;execute();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"使用broker类来接受并执行命令\"><a href=\"#使用broker类来接受并执行命令\" class=\"headerlink\" title=\"使用broker类来接受并执行命令\"></a>使用broker类来接受并执行命令</h3><p>调用broker类，根据需要（顺序，需要使用的方法等）添加一个执行队列（数组），之后再执行<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CommandUse</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executeCommand</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $getNodes = <span class=\"keyword\">new</span> GetNodes();</span><br><span class=\"line\">        $delNodes = <span class=\"keyword\">new</span> DeleNodes();</span><br><span class=\"line\">        </span><br><span class=\"line\">        $broker = <span class=\"keyword\">new</span> Broker();</span><br><span class=\"line\">        $broker-&gt;addList($getNodes);</span><br><span class=\"line\">        $broker-&gt;addList($delNodes);</span><br><span class=\"line\">        </span><br><span class=\"line\">        $broker-&gt;executeList();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"执行程序输出结果\"><a href=\"#执行程序输出结果\" class=\"headerlink\" title=\"执行程序输出结果\"></a>执行程序输出结果</h3><h2 id=\"命令模式的优点\"><a href=\"#命令模式的优点\" class=\"headerlink\" title=\"命令模式的优点\"></a>命令模式的优点</h2><p>（1）比较容易设计出一个命令队列<br>（2）在需要的情况下，可以比较容易的将命令记入日志<br>（3）允许接收请求的一方决定是否要否决请求<br>（4）可以容易地实现对请求的撤销和重做<br>（5）由于加进新的具体命令类不影响其他的类，因此增加新的具体命令类很容易<br>（6）命令模式把请求一个操作的对象和知道怎么执行一个操作的对象分割开    </p>\n"},{"title":"crontab基本使用","date":"2019-04-10T10:27:44.000Z","_content":"## 1 简介\ncrond 是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务 工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。\n## 2 格式\nminute hour day month week command\n## 3 操作\ncrontab -l:列出所有任务\n\n## laravel 定时任务\n**原文路径**\n```https://learnku.com/docs/laravel/5.4/scheduling/1257```\n## 其他解决方式\n1 supervisor\n**举例**\n```\n[program:finance_svcs_autoreconciliation]\ncommand=php /opt/app/nginx/html/qa6/financesvcs/artisan queue:work beanstalkd --queue=autoreconciliation_broadcast --daemon\ndirectory=/opt/app/nginx/html/qa6/financesvcs\nautostart=true\nautorestart=true\nuser=apache\nnumprocs=1\nredirect_stderr=true\nstdout_logfile=/var/log/supervisor/qa1/%(program_name)s-stdout.log\nstdout_logfile_maxbytes=10MB\nstdout_logfile_backups=10\n```\n```\n\n```\n","source":"_posts/crontab.md","raw":"---\ntitle: crontab基本使用\ndate: 2019-04-10 18:27:44\ncategories: crontab\n---\n## 1 简介\ncrond 是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务 工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。\n## 2 格式\nminute hour day month week command\n## 3 操作\ncrontab -l:列出所有任务\n\n## laravel 定时任务\n**原文路径**\n```https://learnku.com/docs/laravel/5.4/scheduling/1257```\n## 其他解决方式\n1 supervisor\n**举例**\n```\n[program:finance_svcs_autoreconciliation]\ncommand=php /opt/app/nginx/html/qa6/financesvcs/artisan queue:work beanstalkd --queue=autoreconciliation_broadcast --daemon\ndirectory=/opt/app/nginx/html/qa6/financesvcs\nautostart=true\nautorestart=true\nuser=apache\nnumprocs=1\nredirect_stderr=true\nstdout_logfile=/var/log/supervisor/qa1/%(program_name)s-stdout.log\nstdout_logfile_maxbytes=10MB\nstdout_logfile_backups=10\n```\n```\n\n```\n","slug":"crontab","published":1,"updated":"2019-12-10T01:49:46.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrv001pd87pkm6fcq3v","content":"<h2 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1 简介\"></a>1 简介</h2><p>crond 是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务 工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p>\n<h2 id=\"2-格式\"><a href=\"#2-格式\" class=\"headerlink\" title=\"2 格式\"></a>2 格式</h2><p>minute hour day month week command</p>\n<h2 id=\"3-操作\"><a href=\"#3-操作\" class=\"headerlink\" title=\"3 操作\"></a>3 操作</h2><p>crontab -l:列出所有任务</p>\n<h2 id=\"laravel-定时任务\"><a href=\"#laravel-定时任务\" class=\"headerlink\" title=\"laravel 定时任务\"></a>laravel 定时任务</h2><p><strong>原文路径</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 其他解决方式</span><br><span class=\"line\">1 supervisor</span><br><span class=\"line\">**举例**</span><br></pre></td></tr></table></figure></p>\n<p>[program:finance_svcs_autoreconciliation]<br>command=php /opt/app/nginx/html/qa6/financesvcs/artisan queue:work beanstalkd –queue=autoreconciliation_broadcast –daemon<br>directory=/opt/app/nginx/html/qa6/financesvcs<br>autostart=true<br>autorestart=true<br>user=apache<br>numprocs=1<br>redirect_stderr=true<br>stdout_logfile=/var/log/supervisor/qa1/%(program_name)s-stdout.log<br>stdout_logfile_maxbytes=10MB<br>stdout_logfile_backups=10<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1 简介\"></a>1 简介</h2><p>crond 是linux下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务 工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p>\n<h2 id=\"2-格式\"><a href=\"#2-格式\" class=\"headerlink\" title=\"2 格式\"></a>2 格式</h2><p>minute hour day month week command</p>\n<h2 id=\"3-操作\"><a href=\"#3-操作\" class=\"headerlink\" title=\"3 操作\"></a>3 操作</h2><p>crontab -l:列出所有任务</p>\n<h2 id=\"laravel-定时任务\"><a href=\"#laravel-定时任务\" class=\"headerlink\" title=\"laravel 定时任务\"></a>laravel 定时任务</h2><p><strong>原文路径</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 其他解决方式</span><br><span class=\"line\">1 supervisor</span><br><span class=\"line\">**举例**</span><br></pre></td></tr></table></figure></p>\n<p>[program:finance_svcs_autoreconciliation]<br>command=php /opt/app/nginx/html/qa6/financesvcs/artisan queue:work beanstalkd –queue=autoreconciliation_broadcast –daemon<br>directory=/opt/app/nginx/html/qa6/financesvcs<br>autostart=true<br>autorestart=true<br>user=apache<br>numprocs=1<br>redirect_stderr=true<br>stdout_logfile=/var/log/supervisor/qa1/%(program_name)s-stdout.log<br>stdout_logfile_maxbytes=10MB<br>stdout_logfile_backups=10<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br></pre></td></tr></table></figure></p>\n"},{"title":"基础介绍","date":"2019-07-22T02:03:10.000Z","_content":"#基础介绍\n## 设计具备的特性\n（1）应该对手头的问题有针对性，同时对将来的问题和需求也要有足够的通用性；    \n（2）避免重复设计或尽可能少做重复设计\n## 什么是设计模式\n### 模式四要素\n#### 模式名称\n助记名，使用一两个词来描述模式的问题、解决方案和效果    \n#### 问题\n描述了应该在何时使用设计模式\n#### 解决方案\n描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式\n#### 效果\n描述了模式应用的效果及使用模式应权衡的问题\n## 模式三种分类\n### 创建型\n与对象的创建有关，在软件工程中，创建型设计模式是处理对象创建机制的设计模式，试图以适当的方式来创建对象。对象创建的基本形式可能会带来设计问题，亦或增加了设计的复杂度。创建型设计模式通过控制这个对象的创建方式来解决此问题。\n### 结构型\n处理类或对象的组合，通过识别实体之间关系来简化设计的设计模式。\n### 行为型\n对类或对象怎样交互和怎样分配职责进行描述，识别对象之间的通用通信模式并实现这些模式的设计模式。 通过这样做，这些模式增加了执行此通信的灵活性。\n","source":"_posts/dePat.md","raw":"---\ntitle: 基础介绍\ndate: 2019-07-22 10:03:10\ntags: 概念介绍\ncategories: 设计模式\n---\n#基础介绍\n## 设计具备的特性\n（1）应该对手头的问题有针对性，同时对将来的问题和需求也要有足够的通用性；    \n（2）避免重复设计或尽可能少做重复设计\n## 什么是设计模式\n### 模式四要素\n#### 模式名称\n助记名，使用一两个词来描述模式的问题、解决方案和效果    \n#### 问题\n描述了应该在何时使用设计模式\n#### 解决方案\n描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式\n#### 效果\n描述了模式应用的效果及使用模式应权衡的问题\n## 模式三种分类\n### 创建型\n与对象的创建有关，在软件工程中，创建型设计模式是处理对象创建机制的设计模式，试图以适当的方式来创建对象。对象创建的基本形式可能会带来设计问题，亦或增加了设计的复杂度。创建型设计模式通过控制这个对象的创建方式来解决此问题。\n### 结构型\n处理类或对象的组合，通过识别实体之间关系来简化设计的设计模式。\n### 行为型\n对类或对象怎样交互和怎样分配职责进行描述，识别对象之间的通用通信模式并实现这些模式的设计模式。 通过这样做，这些模式增加了执行此通信的灵活性。\n","slug":"dePat","published":1,"updated":"2019-12-10T01:49:46.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwrx001rd87pcsw91731","content":"<p>#基础介绍</p>\n<h2 id=\"设计具备的特性\"><a href=\"#设计具备的特性\" class=\"headerlink\" title=\"设计具备的特性\"></a>设计具备的特性</h2><p>（1）应该对手头的问题有针对性，同时对将来的问题和需求也要有足够的通用性；<br>（2）避免重复设计或尽可能少做重复设计</p>\n<h2 id=\"什么是设计模式\"><a href=\"#什么是设计模式\" class=\"headerlink\" title=\"什么是设计模式\"></a>什么是设计模式</h2><h3 id=\"模式四要素\"><a href=\"#模式四要素\" class=\"headerlink\" title=\"模式四要素\"></a>模式四要素</h3><h4 id=\"模式名称\"><a href=\"#模式名称\" class=\"headerlink\" title=\"模式名称\"></a>模式名称</h4><p>助记名，使用一两个词来描述模式的问题、解决方案和效果    </p>\n<h4 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h4><p>描述了应该在何时使用设计模式</p>\n<h4 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h4><p>描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式</p>\n<h4 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h4><p>描述了模式应用的效果及使用模式应权衡的问题</p>\n<h2 id=\"模式三种分类\"><a href=\"#模式三种分类\" class=\"headerlink\" title=\"模式三种分类\"></a>模式三种分类</h2><h3 id=\"创建型\"><a href=\"#创建型\" class=\"headerlink\" title=\"创建型\"></a>创建型</h3><p>与对象的创建有关，在软件工程中，创建型设计模式是处理对象创建机制的设计模式，试图以适当的方式来创建对象。对象创建的基本形式可能会带来设计问题，亦或增加了设计的复杂度。创建型设计模式通过控制这个对象的创建方式来解决此问题。</p>\n<h3 id=\"结构型\"><a href=\"#结构型\" class=\"headerlink\" title=\"结构型\"></a>结构型</h3><p>处理类或对象的组合，通过识别实体之间关系来简化设计的设计模式。</p>\n<h3 id=\"行为型\"><a href=\"#行为型\" class=\"headerlink\" title=\"行为型\"></a>行为型</h3><p>对类或对象怎样交互和怎样分配职责进行描述，识别对象之间的通用通信模式并实现这些模式的设计模式。 通过这样做，这些模式增加了执行此通信的灵活性。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>#基础介绍</p>\n<h2 id=\"设计具备的特性\"><a href=\"#设计具备的特性\" class=\"headerlink\" title=\"设计具备的特性\"></a>设计具备的特性</h2><p>（1）应该对手头的问题有针对性，同时对将来的问题和需求也要有足够的通用性；<br>（2）避免重复设计或尽可能少做重复设计</p>\n<h2 id=\"什么是设计模式\"><a href=\"#什么是设计模式\" class=\"headerlink\" title=\"什么是设计模式\"></a>什么是设计模式</h2><h3 id=\"模式四要素\"><a href=\"#模式四要素\" class=\"headerlink\" title=\"模式四要素\"></a>模式四要素</h3><h4 id=\"模式名称\"><a href=\"#模式名称\" class=\"headerlink\" title=\"模式名称\"></a>模式名称</h4><p>助记名，使用一两个词来描述模式的问题、解决方案和效果    </p>\n<h4 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h4><p>描述了应该在何时使用设计模式</p>\n<h4 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h4><p>描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式</p>\n<h4 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h4><p>描述了模式应用的效果及使用模式应权衡的问题</p>\n<h2 id=\"模式三种分类\"><a href=\"#模式三种分类\" class=\"headerlink\" title=\"模式三种分类\"></a>模式三种分类</h2><h3 id=\"创建型\"><a href=\"#创建型\" class=\"headerlink\" title=\"创建型\"></a>创建型</h3><p>与对象的创建有关，在软件工程中，创建型设计模式是处理对象创建机制的设计模式，试图以适当的方式来创建对象。对象创建的基本形式可能会带来设计问题，亦或增加了设计的复杂度。创建型设计模式通过控制这个对象的创建方式来解决此问题。</p>\n<h3 id=\"结构型\"><a href=\"#结构型\" class=\"headerlink\" title=\"结构型\"></a>结构型</h3><p>处理类或对象的组合，通过识别实体之间关系来简化设计的设计模式。</p>\n<h3 id=\"行为型\"><a href=\"#行为型\" class=\"headerlink\" title=\"行为型\"></a>行为型</h3><p>对类或对象怎样交互和怎样分配职责进行描述，识别对象之间的通用通信模式并实现这些模式的设计模式。 通过这样做，这些模式增加了执行此通信的灵活性。</p>\n"},{"title":"demo实例","date":"2019-07-18T01:37:10.000Z","_content":"## js正则表达式\n```javascript\nlet patt = /[顺丰]/;\n      let reg = new RegExp(patt, 'i');\n      const company = (reg.test(record.remark) === true) ? 'shunfeng' : 'annengwuliu'\n      console.log('re test-=-----', company);\n      const num = record.remark.replace(/[^0-9]/ig, \"\")\n```\n## 递归读取层级json\n```javascript\ngetAllKey (obj: any, name: string, moduleName?: string): any[] {\n  const arr: any[] = []\n    if (Object.keys(obj)) {\n      let keys = Object.keys(obj);\n      let i = 0;\n      return keys.map((items) => {\n        i++;\n        if (obj[items] instanceof Object) {\n          // console.log(\"obj[items]:\", items);\n          let itemRes = items;\n          if (obj[items]['type']) {\n            // console.log('it is number:', obj[items]['type']);\n            itemRes = obj[items]['type'];\n          }\n          const names = name + '-' + itemRes\n          return this.getAllKey(obj[items], names, moduleName);\n        } else {\n          // console.log('items:', name + '-' + items);\n          const resItems = name + '-' + items;\n          // console.log('split array:', resItems.split('-'));\n          if (resItems == moduleName) {\n            return this.handleRender(resItems, treeRule.modules, moduleName, i);\n          }\n        }\n      });\n    }\nconsole.log('arr', arr)\n    return arr\n}\n```\n","source":"_posts/demo_01.md","raw":"---\ntitle: demo实例\ndate: 2019-07-18 09:37:10\ntags: demo\n---\n## js正则表达式\n```javascript\nlet patt = /[顺丰]/;\n      let reg = new RegExp(patt, 'i');\n      const company = (reg.test(record.remark) === true) ? 'shunfeng' : 'annengwuliu'\n      console.log('re test-=-----', company);\n      const num = record.remark.replace(/[^0-9]/ig, \"\")\n```\n## 递归读取层级json\n```javascript\ngetAllKey (obj: any, name: string, moduleName?: string): any[] {\n  const arr: any[] = []\n    if (Object.keys(obj)) {\n      let keys = Object.keys(obj);\n      let i = 0;\n      return keys.map((items) => {\n        i++;\n        if (obj[items] instanceof Object) {\n          // console.log(\"obj[items]:\", items);\n          let itemRes = items;\n          if (obj[items]['type']) {\n            // console.log('it is number:', obj[items]['type']);\n            itemRes = obj[items]['type'];\n          }\n          const names = name + '-' + itemRes\n          return this.getAllKey(obj[items], names, moduleName);\n        } else {\n          // console.log('items:', name + '-' + items);\n          const resItems = name + '-' + items;\n          // console.log('split array:', resItems.split('-'));\n          if (resItems == moduleName) {\n            return this.handleRender(resItems, treeRule.modules, moduleName, i);\n          }\n        }\n      });\n    }\nconsole.log('arr', arr)\n    return arr\n}\n```\n","slug":"demo_01","published":1,"updated":"2019-12-10T01:49:46.538Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxws0001vd87pcxwo6y1w","content":"<h2 id=\"js正则表达式\"><a href=\"#js正则表达式\" class=\"headerlink\" title=\"js正则表达式\"></a>js正则表达式</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> patt = <span class=\"regexp\">/[顺丰]/</span>;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> reg = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(patt, <span class=\"string\">'i'</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> company = (reg.test(record.remark) === <span class=\"literal\">true</span>) ? <span class=\"string\">'shunfeng'</span> : <span class=\"string\">'annengwuliu'</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'re test-=-----'</span>, company);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> num = record.remark.replace(<span class=\"regexp\">/[^0-9]/ig</span>, <span class=\"string\">\"\"</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"递归读取层级json\"><a href=\"#递归读取层级json\" class=\"headerlink\" title=\"递归读取层级json\"></a>递归读取层级json</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getAllKey (obj: any, <span class=\"attr\">name</span>: string, moduleName?: string): any[] &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> arr: any[] = []</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">Object</span>.keys(obj)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> keys = <span class=\"built_in\">Object</span>.keys(obj);</span><br><span class=\"line\">      <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> keys.map(<span class=\"function\">(<span class=\"params\">items</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        i++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (obj[items] <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Object</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// console.log(\"obj[items]:\", items);</span></span><br><span class=\"line\">          <span class=\"keyword\">let</span> itemRes = items;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (obj[items][<span class=\"string\">'type'</span>]) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// console.log('it is number:', obj[items]['type']);</span></span><br><span class=\"line\">            itemRes = obj[items][<span class=\"string\">'type'</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> names = name + <span class=\"string\">'-'</span> + itemRes</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.getAllKey(obj[items], names, moduleName);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// console.log('items:', name + '-' + items);</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> resItems = name + <span class=\"string\">'-'</span> + items;</span><br><span class=\"line\">          <span class=\"comment\">// console.log('split array:', resItems.split('-'));</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (resItems == moduleName) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.handleRender(resItems, treeRule.modules, moduleName, i);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'arr'</span>, arr)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"js正则表达式\"><a href=\"#js正则表达式\" class=\"headerlink\" title=\"js正则表达式\"></a>js正则表达式</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> patt = <span class=\"regexp\">/[顺丰]/</span>;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> reg = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(patt, <span class=\"string\">'i'</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> company = (reg.test(record.remark) === <span class=\"literal\">true</span>) ? <span class=\"string\">'shunfeng'</span> : <span class=\"string\">'annengwuliu'</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'re test-=-----'</span>, company);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> num = record.remark.replace(<span class=\"regexp\">/[^0-9]/ig</span>, <span class=\"string\">\"\"</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"递归读取层级json\"><a href=\"#递归读取层级json\" class=\"headerlink\" title=\"递归读取层级json\"></a>递归读取层级json</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getAllKey (obj: any, <span class=\"attr\">name</span>: string, moduleName?: string): any[] &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> arr: any[] = []</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">Object</span>.keys(obj)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> keys = <span class=\"built_in\">Object</span>.keys(obj);</span><br><span class=\"line\">      <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> keys.map(<span class=\"function\">(<span class=\"params\">items</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        i++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (obj[items] <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Object</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// console.log(\"obj[items]:\", items);</span></span><br><span class=\"line\">          <span class=\"keyword\">let</span> itemRes = items;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (obj[items][<span class=\"string\">'type'</span>]) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// console.log('it is number:', obj[items]['type']);</span></span><br><span class=\"line\">            itemRes = obj[items][<span class=\"string\">'type'</span>];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> names = name + <span class=\"string\">'-'</span> + itemRes</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.getAllKey(obj[items], names, moduleName);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// console.log('items:', name + '-' + items);</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> resItems = name + <span class=\"string\">'-'</span> + items;</span><br><span class=\"line\">          <span class=\"comment\">// console.log('split array:', resItems.split('-'));</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (resItems == moduleName) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.handleRender(resItems, treeRule.modules, moduleName, i);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'arr'</span>, arr)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"fast-json-patch","date":"2019-07-26T06:37:10.000Z","_content":"# fast-json-patch包使用\n网上关于json-patch的中文介绍太少了，官方文档没有翻译版，所以写一下自己的学习文档，以下只是自己根据英文文档的理解，不保证正确。\n## 基础操作\njson patch几大基础操作包括：add, replace, move, test, remove, copy\n## applyPatch\n给定文档和操作，执行操作\n```typescript\nimport {applyOperation, applyPatch} from 'fast-json-patch';\nlet document = document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [] } };\nlet patch = [\n  { op: \"replace\", path: \"/firstName\", value: \"Joachim\" },\n  { op: \"add\", path: \"/lastName\", value: \"Wester\" },\n  { op: \"add\", path: \"/contactDetails/phoneNumbers/0\", value: { number: \"555-123\" }  }\n];\nconst docu = applyPatch(document, patch)\n```\n## applyOperation\n执行单独的操作而不是连贯操作,举例如下：\n```typescript\nvar document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [] } };\nvar operation = { op: \"replace\", path: \"/firstName\", value: \"Joachim\" };\ndocument = jsonpatch.applyOperation(document, operation).newDocument;\n// document == { firstName: \"Joachim\", contactDetails: { phoneNumbers: [] }}\n```\n## applyReducer\n看了英文原文文档并不很确定，只能根据自己的理解来看。    \njavascript的reduce是一个累加器，使用applyReducer作为累加操作，当定义的操作是一组数组时，使用applyReducer执行操作，示例如下：\n```typescript\nvar document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [ ] } };\nvar patch = [\n  { op:\"replace\", path: \"/firstName\", value: \"Joachim\" },\n  { op:\"add\", path: \"/lastName\", value: \"Wester\" },\n  { op:\"add\", path: \"/contactDetails/phoneNumbers/0\", value: { number: \"555-123\" } }\n];\nvar updatedDocument = patch.reduce(applyReducer, document);\n// updatedDocument == { firstName:\"Joachim\", lastName:\"Wester\", contactDetails:{ phoneNumbers[ {number:\"555-123\"} ] } };\n```\n## Generating patches\n提供一个类似于观察者，先获取原始文档结构（observe），之后文档进行变化，最后执行操作，可以得到应有的操作流程。示例如下：\n```typescript\nvar document = { firstName: \"Joachim\", lastName: \"Wester\", contactDetails: { phoneNumbers: [ { number:\"555-123\" }] } };\nvar observer = jsonpatch.observe(document);\ndocument.firstName = \"Albert\";\ndocument.contactDetails.phoneNumbers[0].number = \"123\";\ndocument.contactDetails.phoneNumbers.push({ number:\"456\" });\nvar patch = jsonpatch.generate(observer);\n// patch  == [\n//   { op: \"replace\", path: \"/firstName\", value: \"Albert\"},\n//   { op: \"replace\", path: \"/contactDetails/phoneNumbers/0/number\", value: \"123\" },\n//   { op: \"add\", path: \"/contactDetails/phoneNumbers/1\", value: {number:\"456\"}}\n// ];\n```\n## 比较两个文档-compare\n直接比较两个文档，得出从文档A到文档B应有哪些操作（得到操作后可以尝试用这个操作来更新B文档）\n```typescript\nvar documentA = {user: {firstName: \"Albert\", lastName: \"Einstein\"}};\nvar documentB = {user: {firstName: \"Albert\", lastName: \"Collins\"}};\nvar diff = jsonpatch.compare(documentA, documentB);\n//diff == [{op: \"replace\", path: \"/user/lastName\", value: \"Collins\"}]\n```\n## 验证修补程序序列\n对patch做校验，验证这个补丁是否可以应用到指定的对象上（可能是这个意思）,如果出错可以打印出错误信息\n```typescript\nvar obj = {user: {firstName: \"Albert\"}};\nvar patches = [{op: \"replace\", path: \"/user/firstName\", value: \"Albert\"}, {op: \"replace\", path: \"/user/lastName\", value: \"Einstein\"}];\nvar errors = jsonpatch.validate(patches, obj);\nif (errors.length == 0) {\n //there are no errors!\n}\nelse {\n  for (var i=0; i < errors.length; i++) {\n    if (!errors[i]) {\n      console.log(\"Valid patch at index\", i, patches[i]);\n    }\n    else {\n      console.error(\"Invalid patch at index\", i, errors[i], patches[i]);\n    }\n  }\n}\n```\n# Json Patch API\n函数原型：\n```typescript\nfunction applyPatch<T>(document: T, patch: Operation[], validateOperation?: boolean | Validator<T>, mutateDocument: boolean = true, banPrototypeModifications: boolean = true): PatchResult<T>\n```\n对参数的释义：    \n* document：将要patch的文档；    \n* patch：一个json-patch数组，一组可执行的操作；    \n* validateOperation： boolean类型，是否使用默认校验器对每个操作进行校验或通过校验器回调；    \n...\n其余部分可以自行查文档\n","source":"_posts/fastJsonPatch.md","raw":"---\ntitle: fast-json-patch\ndate: 2019-07-26 14:37:10\ntags: 小工具\ncategories: \n- 前端\n- react\n- json-patch\n---\n# fast-json-patch包使用\n网上关于json-patch的中文介绍太少了，官方文档没有翻译版，所以写一下自己的学习文档，以下只是自己根据英文文档的理解，不保证正确。\n## 基础操作\njson patch几大基础操作包括：add, replace, move, test, remove, copy\n## applyPatch\n给定文档和操作，执行操作\n```typescript\nimport {applyOperation, applyPatch} from 'fast-json-patch';\nlet document = document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [] } };\nlet patch = [\n  { op: \"replace\", path: \"/firstName\", value: \"Joachim\" },\n  { op: \"add\", path: \"/lastName\", value: \"Wester\" },\n  { op: \"add\", path: \"/contactDetails/phoneNumbers/0\", value: { number: \"555-123\" }  }\n];\nconst docu = applyPatch(document, patch)\n```\n## applyOperation\n执行单独的操作而不是连贯操作,举例如下：\n```typescript\nvar document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [] } };\nvar operation = { op: \"replace\", path: \"/firstName\", value: \"Joachim\" };\ndocument = jsonpatch.applyOperation(document, operation).newDocument;\n// document == { firstName: \"Joachim\", contactDetails: { phoneNumbers: [] }}\n```\n## applyReducer\n看了英文原文文档并不很确定，只能根据自己的理解来看。    \njavascript的reduce是一个累加器，使用applyReducer作为累加操作，当定义的操作是一组数组时，使用applyReducer执行操作，示例如下：\n```typescript\nvar document = { firstName: \"Albert\", contactDetails: { phoneNumbers: [ ] } };\nvar patch = [\n  { op:\"replace\", path: \"/firstName\", value: \"Joachim\" },\n  { op:\"add\", path: \"/lastName\", value: \"Wester\" },\n  { op:\"add\", path: \"/contactDetails/phoneNumbers/0\", value: { number: \"555-123\" } }\n];\nvar updatedDocument = patch.reduce(applyReducer, document);\n// updatedDocument == { firstName:\"Joachim\", lastName:\"Wester\", contactDetails:{ phoneNumbers[ {number:\"555-123\"} ] } };\n```\n## Generating patches\n提供一个类似于观察者，先获取原始文档结构（observe），之后文档进行变化，最后执行操作，可以得到应有的操作流程。示例如下：\n```typescript\nvar document = { firstName: \"Joachim\", lastName: \"Wester\", contactDetails: { phoneNumbers: [ { number:\"555-123\" }] } };\nvar observer = jsonpatch.observe(document);\ndocument.firstName = \"Albert\";\ndocument.contactDetails.phoneNumbers[0].number = \"123\";\ndocument.contactDetails.phoneNumbers.push({ number:\"456\" });\nvar patch = jsonpatch.generate(observer);\n// patch  == [\n//   { op: \"replace\", path: \"/firstName\", value: \"Albert\"},\n//   { op: \"replace\", path: \"/contactDetails/phoneNumbers/0/number\", value: \"123\" },\n//   { op: \"add\", path: \"/contactDetails/phoneNumbers/1\", value: {number:\"456\"}}\n// ];\n```\n## 比较两个文档-compare\n直接比较两个文档，得出从文档A到文档B应有哪些操作（得到操作后可以尝试用这个操作来更新B文档）\n```typescript\nvar documentA = {user: {firstName: \"Albert\", lastName: \"Einstein\"}};\nvar documentB = {user: {firstName: \"Albert\", lastName: \"Collins\"}};\nvar diff = jsonpatch.compare(documentA, documentB);\n//diff == [{op: \"replace\", path: \"/user/lastName\", value: \"Collins\"}]\n```\n## 验证修补程序序列\n对patch做校验，验证这个补丁是否可以应用到指定的对象上（可能是这个意思）,如果出错可以打印出错误信息\n```typescript\nvar obj = {user: {firstName: \"Albert\"}};\nvar patches = [{op: \"replace\", path: \"/user/firstName\", value: \"Albert\"}, {op: \"replace\", path: \"/user/lastName\", value: \"Einstein\"}];\nvar errors = jsonpatch.validate(patches, obj);\nif (errors.length == 0) {\n //there are no errors!\n}\nelse {\n  for (var i=0; i < errors.length; i++) {\n    if (!errors[i]) {\n      console.log(\"Valid patch at index\", i, patches[i]);\n    }\n    else {\n      console.error(\"Invalid patch at index\", i, errors[i], patches[i]);\n    }\n  }\n}\n```\n# Json Patch API\n函数原型：\n```typescript\nfunction applyPatch<T>(document: T, patch: Operation[], validateOperation?: boolean | Validator<T>, mutateDocument: boolean = true, banPrototypeModifications: boolean = true): PatchResult<T>\n```\n对参数的释义：    \n* document：将要patch的文档；    \n* patch：一个json-patch数组，一组可执行的操作；    \n* validateOperation： boolean类型，是否使用默认校验器对每个操作进行校验或通过校验器回调；    \n...\n其余部分可以自行查文档\n","slug":"fastJsonPatch","published":1,"updated":"2019-12-10T01:49:46.539Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxws2001yd87pwu9j7no6","content":"<h1 id=\"fast-json-patch包使用\"><a href=\"#fast-json-patch包使用\" class=\"headerlink\" title=\"fast-json-patch包使用\"></a>fast-json-patch包使用</h1><p>网上关于json-patch的中文介绍太少了，官方文档没有翻译版，所以写一下自己的学习文档，以下只是自己根据英文文档的理解，不保证正确。</p>\n<h2 id=\"基础操作\"><a href=\"#基础操作\" class=\"headerlink\" title=\"基础操作\"></a>基础操作</h2><p>json patch几大基础操作包括：add, replace, move, test, remove, copy</p>\n<h2 id=\"applyPatch\"><a href=\"#applyPatch\" class=\"headerlink\" title=\"applyPatch\"></a>applyPatch</h2><p>给定文档和操作，执行操作<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;applyOperation, applyPatch&#125; <span class=\"keyword\">from</span> <span class=\"string\">'fast-json-patch'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"built_in\">document</span> = <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> patch = [</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;,</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/lastName\"</span>, value: <span class=\"string\">\"Wester\"</span> &#125;,</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/contactDetails/phoneNumbers/0\"</span>, value: &#123; <span class=\"built_in\">number</span>: <span class=\"string\">\"555-123\"</span> &#125;  &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"keyword\">const</span> docu = applyPatch(<span class=\"built_in\">document</span>, patch)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"applyOperation\"><a href=\"#applyOperation\" class=\"headerlink\" title=\"applyOperation\"></a>applyOperation</h2><p>执行单独的操作而不是连贯操作,举例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> operation = &#123; op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">document</span> = jsonpatch.applyOperation(<span class=\"built_in\">document</span>, operation).newDocument;</span><br><span class=\"line\"><span class=\"comment\">// document == &#123; firstName: \"Joachim\", contactDetails: &#123; phoneNumbers: [] &#125;&#125;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"applyReducer\"><a href=\"#applyReducer\" class=\"headerlink\" title=\"applyReducer\"></a>applyReducer</h2><p>看了英文原文文档并不很确定，只能根据自己的理解来看。<br>javascript的reduce是一个累加器，使用applyReducer作为累加操作，当定义的操作是一组数组时，使用applyReducer执行操作，示例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [ ] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> patch = [</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;,</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/lastName\"</span>, value: <span class=\"string\">\"Wester\"</span> &#125;,</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/contactDetails/phoneNumbers/0\"</span>, value: &#123; <span class=\"built_in\">number</span>: <span class=\"string\">\"555-123\"</span> &#125; &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"keyword\">var</span> updatedDocument = patch.reduce(applyReducer, <span class=\"built_in\">document</span>);</span><br><span class=\"line\"><span class=\"comment\">// updatedDocument == &#123; firstName:\"Joachim\", lastName:\"Wester\", contactDetails:&#123; phoneNumbers[ &#123;number:\"555-123\"&#125; ] &#125; &#125;;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Generating-patches\"><a href=\"#Generating-patches\" class=\"headerlink\" title=\"Generating patches\"></a>Generating patches</h2><p>提供一个类似于观察者，先获取原始文档结构（observe），之后文档进行变化，最后执行操作，可以得到应有的操作流程。示例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Joachim\"</span>, lastName: <span class=\"string\">\"Wester\"</span>, contactDetails: &#123; phoneNumbers: [ &#123; <span class=\"built_in\">number</span>:<span class=\"string\">\"555-123\"</span> &#125;] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> observer = jsonpatch.observe(<span class=\"built_in\">document</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.firstName = <span class=\"string\">\"Albert\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">document</span>.contactDetails.phoneNumbers[<span class=\"number\">0</span>].number = <span class=\"string\">\"123\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">document</span>.contactDetails.phoneNumbers.push(&#123; <span class=\"built_in\">number</span>:<span class=\"string\">\"456\"</span> &#125;);</span><br><span class=\"line\"><span class=\"keyword\">var</span> patch = jsonpatch.generate(observer);</span><br><span class=\"line\"><span class=\"comment\">// patch  == [</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"replace\", path: \"/firstName\", value: \"Albert\"&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"replace\", path: \"/contactDetails/phoneNumbers/0/number\", value: \"123\" &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"add\", path: \"/contactDetails/phoneNumbers/1\", value: &#123;number:\"456\"&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// ];</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"比较两个文档-compare\"><a href=\"#比较两个文档-compare\" class=\"headerlink\" title=\"比较两个文档-compare\"></a>比较两个文档-compare</h2><p>直接比较两个文档，得出从文档A到文档B应有哪些操作（得到操作后可以尝试用这个操作来更新B文档）<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> documentA = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>, lastName: <span class=\"string\">\"Einstein\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> documentB = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>, lastName: <span class=\"string\">\"Collins\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> diff = jsonpatch.compare(documentA, documentB);</span><br><span class=\"line\"><span class=\"comment\">//diff == [&#123;op: \"replace\", path: \"/user/lastName\", value: \"Collins\"&#125;]</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"验证修补程序序列\"><a href=\"#验证修补程序序列\" class=\"headerlink\" title=\"验证修补程序序列\"></a>验证修补程序序列</h2><p>对patch做校验，验证这个补丁是否可以应用到指定的对象上（可能是这个意思）,如果出错可以打印出错误信息<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> patches = [&#123;op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/user/firstName\"</span>, value: <span class=\"string\">\"Albert\"</span>&#125;, &#123;op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/user/lastName\"</span>, value: <span class=\"string\">\"Einstein\"</span>&#125;];</span><br><span class=\"line\"><span class=\"keyword\">var</span> errors = jsonpatch.validate(patches, obj);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (errors.length == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\"> <span class=\"comment\">//there are no errors!</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>; i &lt; errors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!errors[i]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Valid patch at index\"</span>, i, patches[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.error(<span class=\"string\">\"Invalid patch at index\"</span>, i, errors[i], patches[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Json-Patch-API\"><a href=\"#Json-Patch-API\" class=\"headerlink\" title=\"Json Patch API\"></a>Json Patch API</h1><p>函数原型：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">applyPatch</span>&lt;<span class=\"title\">T</span>&gt;(<span class=\"params\"><span class=\"built_in\">document</span>: T, patch: Operation[], validateOperation?: <span class=\"built_in\">boolean</span> | Validator&lt;T&gt;, mutateDocument: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span>, banPrototypeModifications: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span></span>): <span class=\"title\">PatchResult</span>&lt;<span class=\"title\">T</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>对参数的释义：    </p>\n<ul>\n<li>document：将要patch的文档；    </li>\n<li>patch：一个json-patch数组，一组可执行的操作；    </li>\n<li>validateOperation： boolean类型，是否使用默认校验器对每个操作进行校验或通过校验器回调；<br>…<br>其余部分可以自行查文档</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"fast-json-patch包使用\"><a href=\"#fast-json-patch包使用\" class=\"headerlink\" title=\"fast-json-patch包使用\"></a>fast-json-patch包使用</h1><p>网上关于json-patch的中文介绍太少了，官方文档没有翻译版，所以写一下自己的学习文档，以下只是自己根据英文文档的理解，不保证正确。</p>\n<h2 id=\"基础操作\"><a href=\"#基础操作\" class=\"headerlink\" title=\"基础操作\"></a>基础操作</h2><p>json patch几大基础操作包括：add, replace, move, test, remove, copy</p>\n<h2 id=\"applyPatch\"><a href=\"#applyPatch\" class=\"headerlink\" title=\"applyPatch\"></a>applyPatch</h2><p>给定文档和操作，执行操作<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;applyOperation, applyPatch&#125; <span class=\"keyword\">from</span> <span class=\"string\">'fast-json-patch'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"built_in\">document</span> = <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> patch = [</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;,</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/lastName\"</span>, value: <span class=\"string\">\"Wester\"</span> &#125;,</span><br><span class=\"line\">  &#123; op: <span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/contactDetails/phoneNumbers/0\"</span>, value: &#123; <span class=\"built_in\">number</span>: <span class=\"string\">\"555-123\"</span> &#125;  &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"keyword\">const</span> docu = applyPatch(<span class=\"built_in\">document</span>, patch)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"applyOperation\"><a href=\"#applyOperation\" class=\"headerlink\" title=\"applyOperation\"></a>applyOperation</h2><p>执行单独的操作而不是连贯操作,举例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> operation = &#123; op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">document</span> = jsonpatch.applyOperation(<span class=\"built_in\">document</span>, operation).newDocument;</span><br><span class=\"line\"><span class=\"comment\">// document == &#123; firstName: \"Joachim\", contactDetails: &#123; phoneNumbers: [] &#125;&#125;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"applyReducer\"><a href=\"#applyReducer\" class=\"headerlink\" title=\"applyReducer\"></a>applyReducer</h2><p>看了英文原文文档并不很确定，只能根据自己的理解来看。<br>javascript的reduce是一个累加器，使用applyReducer作为累加操作，当定义的操作是一组数组时，使用applyReducer执行操作，示例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Albert\"</span>, contactDetails: &#123; phoneNumbers: [ ] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> patch = [</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/firstName\"</span>, value: <span class=\"string\">\"Joachim\"</span> &#125;,</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/lastName\"</span>, value: <span class=\"string\">\"Wester\"</span> &#125;,</span><br><span class=\"line\">  &#123; op:<span class=\"string\">\"add\"</span>, path: <span class=\"string\">\"/contactDetails/phoneNumbers/0\"</span>, value: &#123; <span class=\"built_in\">number</span>: <span class=\"string\">\"555-123\"</span> &#125; &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"keyword\">var</span> updatedDocument = patch.reduce(applyReducer, <span class=\"built_in\">document</span>);</span><br><span class=\"line\"><span class=\"comment\">// updatedDocument == &#123; firstName:\"Joachim\", lastName:\"Wester\", contactDetails:&#123; phoneNumbers[ &#123;number:\"555-123\"&#125; ] &#125; &#125;;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Generating-patches\"><a href=\"#Generating-patches\" class=\"headerlink\" title=\"Generating patches\"></a>Generating patches</h2><p>提供一个类似于观察者，先获取原始文档结构（observe），之后文档进行变化，最后执行操作，可以得到应有的操作流程。示例如下：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">document</span> = &#123; firstName: <span class=\"string\">\"Joachim\"</span>, lastName: <span class=\"string\">\"Wester\"</span>, contactDetails: &#123; phoneNumbers: [ &#123; <span class=\"built_in\">number</span>:<span class=\"string\">\"555-123\"</span> &#125;] &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> observer = jsonpatch.observe(<span class=\"built_in\">document</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.firstName = <span class=\"string\">\"Albert\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">document</span>.contactDetails.phoneNumbers[<span class=\"number\">0</span>].number = <span class=\"string\">\"123\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">document</span>.contactDetails.phoneNumbers.push(&#123; <span class=\"built_in\">number</span>:<span class=\"string\">\"456\"</span> &#125;);</span><br><span class=\"line\"><span class=\"keyword\">var</span> patch = jsonpatch.generate(observer);</span><br><span class=\"line\"><span class=\"comment\">// patch  == [</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"replace\", path: \"/firstName\", value: \"Albert\"&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"replace\", path: \"/contactDetails/phoneNumbers/0/number\", value: \"123\" &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   &#123; op: \"add\", path: \"/contactDetails/phoneNumbers/1\", value: &#123;number:\"456\"&#125;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// ];</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"比较两个文档-compare\"><a href=\"#比较两个文档-compare\" class=\"headerlink\" title=\"比较两个文档-compare\"></a>比较两个文档-compare</h2><p>直接比较两个文档，得出从文档A到文档B应有哪些操作（得到操作后可以尝试用这个操作来更新B文档）<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> documentA = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>, lastName: <span class=\"string\">\"Einstein\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> documentB = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>, lastName: <span class=\"string\">\"Collins\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> diff = jsonpatch.compare(documentA, documentB);</span><br><span class=\"line\"><span class=\"comment\">//diff == [&#123;op: \"replace\", path: \"/user/lastName\", value: \"Collins\"&#125;]</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"验证修补程序序列\"><a href=\"#验证修补程序序列\" class=\"headerlink\" title=\"验证修补程序序列\"></a>验证修补程序序列</h2><p>对patch做校验，验证这个补丁是否可以应用到指定的对象上（可能是这个意思）,如果出错可以打印出错误信息<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;user: &#123;firstName: <span class=\"string\">\"Albert\"</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> patches = [&#123;op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/user/firstName\"</span>, value: <span class=\"string\">\"Albert\"</span>&#125;, &#123;op: <span class=\"string\">\"replace\"</span>, path: <span class=\"string\">\"/user/lastName\"</span>, value: <span class=\"string\">\"Einstein\"</span>&#125;];</span><br><span class=\"line\"><span class=\"keyword\">var</span> errors = jsonpatch.validate(patches, obj);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (errors.length == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\"> <span class=\"comment\">//there are no errors!</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>; i &lt; errors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!errors[i]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Valid patch at index\"</span>, i, patches[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.error(<span class=\"string\">\"Invalid patch at index\"</span>, i, errors[i], patches[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Json-Patch-API\"><a href=\"#Json-Patch-API\" class=\"headerlink\" title=\"Json Patch API\"></a>Json Patch API</h1><p>函数原型：<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">applyPatch</span>&lt;<span class=\"title\">T</span>&gt;(<span class=\"params\"><span class=\"built_in\">document</span>: T, patch: Operation[], validateOperation?: <span class=\"built_in\">boolean</span> | Validator&lt;T&gt;, mutateDocument: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span>, banPrototypeModifications: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span></span>): <span class=\"title\">PatchResult</span>&lt;<span class=\"title\">T</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>对参数的释义：    </p>\n<ul>\n<li>document：将要patch的文档；    </li>\n<li>patch：一个json-patch数组，一组可执行的操作；    </li>\n<li>validateOperation： boolean类型，是否使用默认校验器对每个操作进行校验或通过校验器回调；<br>…<br>其余部分可以自行查文档</li>\n</ul>\n"},{"title":"单例模式","date":"2019-10-29T09:40:10.000Z","_content":"# 概念介绍\n## 情景介绍\n一个类只需要被实例化一次，但是不应该由调用方来判断是否被实例化过\n## 基础介绍\n所有类都有构造方法，不编码则系统默认生成空的构造方法，若有显示定义的构造方法，默认的构造方法就会失效。    \n类把构造方法设置为私有，使所有的方法都不能直接实例化这个类。然后类内部写一个公共方法来判断这个类是否被实例化过，调用方无需判断\n## 单例模式\n单例模式：保证一个类仅有一个实例，并提供一个访问它的全局访问点。    \n通常可以让一个全局变量使得一个对象被访问，但它不能防止实例化多个对象。一个最好的办法就是，让类自身负责保存它的唯一实例，这个类可以保证没有其他实例可以被创建，并且它可以提供一个访问该实例的方法。    \n","source":"_posts/design_singleton.md","raw":"---\ntitle: 单例模式\ndate: 2019-10-29 17:40:10\ntags: 学习\ncategories: 设计模式\n---\n# 概念介绍\n## 情景介绍\n一个类只需要被实例化一次，但是不应该由调用方来判断是否被实例化过\n## 基础介绍\n所有类都有构造方法，不编码则系统默认生成空的构造方法，若有显示定义的构造方法，默认的构造方法就会失效。    \n类把构造方法设置为私有，使所有的方法都不能直接实例化这个类。然后类内部写一个公共方法来判断这个类是否被实例化过，调用方无需判断\n## 单例模式\n单例模式：保证一个类仅有一个实例，并提供一个访问它的全局访问点。    \n通常可以让一个全局变量使得一个对象被访问，但它不能防止实例化多个对象。一个最好的办法就是，让类自身负责保存它的唯一实例，这个类可以保证没有其他实例可以被创建，并且它可以提供一个访问该实例的方法。    \n","slug":"design_singleton","published":1,"updated":"2019-12-10T01:49:46.539Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxws60022d87poccr5k2d","content":"<h1 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h1><h2 id=\"情景介绍\"><a href=\"#情景介绍\" class=\"headerlink\" title=\"情景介绍\"></a>情景介绍</h2><p>一个类只需要被实例化一次，但是不应该由调用方来判断是否被实例化过</p>\n<h2 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h2><p>所有类都有构造方法，不编码则系统默认生成空的构造方法，若有显示定义的构造方法，默认的构造方法就会失效。<br>类把构造方法设置为私有，使所有的方法都不能直接实例化这个类。然后类内部写一个公共方法来判断这个类是否被实例化过，调用方无需判断</p>\n<h2 id=\"单例模式\"><a href=\"#单例模式\" class=\"headerlink\" title=\"单例模式\"></a>单例模式</h2><p>单例模式：保证一个类仅有一个实例，并提供一个访问它的全局访问点。<br>通常可以让一个全局变量使得一个对象被访问，但它不能防止实例化多个对象。一个最好的办法就是，让类自身负责保存它的唯一实例，这个类可以保证没有其他实例可以被创建，并且它可以提供一个访问该实例的方法。    </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h1><h2 id=\"情景介绍\"><a href=\"#情景介绍\" class=\"headerlink\" title=\"情景介绍\"></a>情景介绍</h2><p>一个类只需要被实例化一次，但是不应该由调用方来判断是否被实例化过</p>\n<h2 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h2><p>所有类都有构造方法，不编码则系统默认生成空的构造方法，若有显示定义的构造方法，默认的构造方法就会失效。<br>类把构造方法设置为私有，使所有的方法都不能直接实例化这个类。然后类内部写一个公共方法来判断这个类是否被实例化过，调用方无需判断</p>\n<h2 id=\"单例模式\"><a href=\"#单例模式\" class=\"headerlink\" title=\"单例模式\"></a>单例模式</h2><p>单例模式：保证一个类仅有一个实例，并提供一个访问它的全局访问点。<br>通常可以让一个全局变量使得一个对象被访问，但它不能防止实例化多个对象。一个最好的办法就是，让类自身负责保存它的唯一实例，这个类可以保证没有其他实例可以被创建，并且它可以提供一个访问该实例的方法。    </p>\n"},{"title":"docker使用心得","date":"2019-04-24T13:03:10.000Z","_content":"## 准备工作\n#### 1 前提条件\nubuntu内核版本高于 3.10  ```uname -r ```\n\n#### 2 安装docker\n本文是基于ubuntu的，基于centos安装路径博客如下：\n[centos](http://www.runoob.com/docker/centos-docker-install.html \"centos\")\n[windows](http://www.runoob.com/docker/windows-docker-install.html \"windows\")\n```\nwget -qO- https://get.docker.com/ | sh\n```\n当要以非root用户可以直接运行docker时，需要执行 sudo usermod -aG docker runoob 命令，然后重新登陆\n启动docker服务\n```\nsudo service docker start\n```\n**测试运行hello world**\n```\ndocker run hello-world\n```\n**镜像加速**\n路径：``` /etc/docker/daemon.json```\n配置文件中加入(不存在则创建，我本地不存在此文件)：\n```\n{\n  \"registry-mirrors\": [\"http://hub-mirror.c.163.com\"]\n}\n```\n## 基础知识\n**hello world**\n```\ndocker run ubuntu:15.10 /bin/echo \"Hello world\"\n```\n(验证,echo是可以直接echo的，不必写/bin/echo)\n**参数解析**\ndocker:docker的二进制执行文件\nrun:与前面docker组合来运行一个容器\nubuntu:15.10 : 指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。\n/bin/echo \"Hello world\": 在启动的容器里执行的命令\n**运行交互式的容器**\n通过docker的两个参数 -i -t，让docker运行的容器实现\"对话\"的能力\n```\ndocker run -i -t ubuntu:15.10 /bin/bash\n```\n-t:在新容器内指定一个伪终端或终端。\n-i:允许对容器内的标准输入进行交互\n**启动容器（后台模式）**\n```\ndocker run -d ubuntu:15.10 /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n```\n输出一串长字符，是容器ID,对每个容器来说都是唯一的，我们可以通过容器ID来查看对应的容器发生了什么。\n```docker ps```可以查看有容器在运行\nCONTAINER ID:容器ID\nNAMES:自动分配的容器名称\n在容器内使用docker logs命令，查看容器内的标准输出\n```docker logs [CONTAINER ID|NAMES]```\n**停止容器**\n```docker stop [CONTAINER ID|NAMES]```\n(亲测不需要sudo就能停止docker,但是docker ps却需要sudo)\n##docker容器使用\n```docker```命令可以直接查看Docker客户端的所有选项\n```docker comman --help```更深入地了解指定地docker命令使用方法\n","source":"_posts/docker.md","raw":"---\ntitle: docker使用心得\ndate: 2019-04-24 21:03:10\ntags: 使用心得\ncategories: docker\n---\n## 准备工作\n#### 1 前提条件\nubuntu内核版本高于 3.10  ```uname -r ```\n\n#### 2 安装docker\n本文是基于ubuntu的，基于centos安装路径博客如下：\n[centos](http://www.runoob.com/docker/centos-docker-install.html \"centos\")\n[windows](http://www.runoob.com/docker/windows-docker-install.html \"windows\")\n```\nwget -qO- https://get.docker.com/ | sh\n```\n当要以非root用户可以直接运行docker时，需要执行 sudo usermod -aG docker runoob 命令，然后重新登陆\n启动docker服务\n```\nsudo service docker start\n```\n**测试运行hello world**\n```\ndocker run hello-world\n```\n**镜像加速**\n路径：``` /etc/docker/daemon.json```\n配置文件中加入(不存在则创建，我本地不存在此文件)：\n```\n{\n  \"registry-mirrors\": [\"http://hub-mirror.c.163.com\"]\n}\n```\n## 基础知识\n**hello world**\n```\ndocker run ubuntu:15.10 /bin/echo \"Hello world\"\n```\n(验证,echo是可以直接echo的，不必写/bin/echo)\n**参数解析**\ndocker:docker的二进制执行文件\nrun:与前面docker组合来运行一个容器\nubuntu:15.10 : 指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。\n/bin/echo \"Hello world\": 在启动的容器里执行的命令\n**运行交互式的容器**\n通过docker的两个参数 -i -t，让docker运行的容器实现\"对话\"的能力\n```\ndocker run -i -t ubuntu:15.10 /bin/bash\n```\n-t:在新容器内指定一个伪终端或终端。\n-i:允许对容器内的标准输入进行交互\n**启动容器（后台模式）**\n```\ndocker run -d ubuntu:15.10 /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n```\n输出一串长字符，是容器ID,对每个容器来说都是唯一的，我们可以通过容器ID来查看对应的容器发生了什么。\n```docker ps```可以查看有容器在运行\nCONTAINER ID:容器ID\nNAMES:自动分配的容器名称\n在容器内使用docker logs命令，查看容器内的标准输出\n```docker logs [CONTAINER ID|NAMES]```\n**停止容器**\n```docker stop [CONTAINER ID|NAMES]```\n(亲测不需要sudo就能停止docker,但是docker ps却需要sudo)\n##docker容器使用\n```docker```命令可以直接查看Docker客户端的所有选项\n```docker comman --help```更深入地了解指定地docker命令使用方法\n","slug":"docker","published":1,"updated":"2019-12-10T01:49:46.539Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxws90024d87p0nv8763o","content":"<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><h4 id=\"1-前提条件\"><a href=\"#1-前提条件\" class=\"headerlink\" title=\"1 前提条件\"></a>1 前提条件</h4><p>ubuntu内核版本高于 3.10  <figure class=\"highlight plain\"><figcaption><span>-r ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#### 2 安装docker</span><br><span class=\"line\">本文是基于ubuntu的，基于centos安装路径博客如下：</span><br><span class=\"line\">[centos](http://www.runoob.com/docker/centos-docker-install.html &quot;centos&quot;)</span><br><span class=\"line\">[windows](http://www.runoob.com/docker/windows-docker-install.html &quot;windows&quot;)</span><br></pre></td></tr></table></figure></p>\n<p>wget -qO- <a href=\"https://get.docker.com/\" target=\"_blank\" rel=\"noopener\">https://get.docker.com/</a> | sh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">当要以非root用户可以直接运行docker时，需要执行 sudo usermod -aG docker runoob 命令，然后重新登陆</span><br><span class=\"line\">启动docker服务</span><br></pre></td></tr></table></figure></p>\n<p>sudo service docker start<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**测试运行hello world**</span><br></pre></td></tr></table></figure></p>\n<p>docker run hello-world<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**镜像加速**</span><br><span class=\"line\">路径：``` /etc/docker/daemon.json</span><br></pre></td></tr></table></figure></p>\n<p>配置文件中加入(不存在则创建，我本地不存在此文件)：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"基础知识\"><a href=\"#基础知识\" class=\"headerlink\" title=\"基础知识\"></a>基础知识</h2><p><strong>hello world</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run ubuntu:15.10 /bin/echo &quot;Hello world&quot;</span><br></pre></td></tr></table></figure></p>\n<p>(验证,echo是可以直接echo的，不必写/bin/echo)<br><strong>参数解析</strong><br>docker:docker的二进制执行文件<br>run:与前面docker组合来运行一个容器<br>ubuntu:15.10 : 指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。<br>/bin/echo “Hello world”: 在启动的容器里执行的命令<br><strong>运行交互式的容器</strong><br>通过docker的两个参数 -i -t，让docker运行的容器实现”对话”的能力<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -i -t ubuntu:15.10 /bin/bash</span><br></pre></td></tr></table></figure></p>\n<p>-t:在新容器内指定一个伪终端或终端。<br>-i:允许对容器内的标准输入进行交互<br><strong>启动容器（后台模式）</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d ubuntu:15.10 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span><br></pre></td></tr></table></figure></p>\n<p>输出一串长字符，是容器ID,对每个容器来说都是唯一的，我们可以通过容器ID来查看对应的容器发生了什么。<br><figure class=\"highlight docker\"><figcaption><span>ps```可以查看有容器在运行</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CONTAINER ID:容器ID</span><br><span class=\"line\">NAMES:自动分配的容器名称</span><br><span class=\"line\">在容器内使用docker logs命令，查看容器内的标准输出</span><br><span class=\"line\">```docker logs [CONTAINER ID|NAMES]</span><br></pre></td></tr></table></figure></p>\n<p><strong>停止容器</strong><br><code>docker stop [CONTAINER ID|NAMES]</code><br>(亲测不需要sudo就能停止docker,但是docker ps却需要sudo)</p>\n<p>##docker容器使用<br><code>docker</code>命令可以直接查看Docker客户端的所有选项<br><code>docker comman --help</code>更深入地了解指定地docker命令使用方法</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><h4 id=\"1-前提条件\"><a href=\"#1-前提条件\" class=\"headerlink\" title=\"1 前提条件\"></a>1 前提条件</h4><p>ubuntu内核版本高于 3.10  <figure class=\"highlight plain\"><figcaption><span>-r ```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">#### 2 安装docker</span><br><span class=\"line\">本文是基于ubuntu的，基于centos安装路径博客如下：</span><br><span class=\"line\">[centos](http://www.runoob.com/docker/centos-docker-install.html &quot;centos&quot;)</span><br><span class=\"line\">[windows](http://www.runoob.com/docker/windows-docker-install.html &quot;windows&quot;)</span><br></pre></td></tr></table></figure></p>\n<p>wget -qO- <a href=\"https://get.docker.com/\" target=\"_blank\" rel=\"noopener\">https://get.docker.com/</a> | sh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">当要以非root用户可以直接运行docker时，需要执行 sudo usermod -aG docker runoob 命令，然后重新登陆</span><br><span class=\"line\">启动docker服务</span><br></pre></td></tr></table></figure></p>\n<p>sudo service docker start<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**测试运行hello world**</span><br></pre></td></tr></table></figure></p>\n<p>docker run hello-world<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**镜像加速**</span><br><span class=\"line\">路径：``` /etc/docker/daemon.json</span><br></pre></td></tr></table></figure></p>\n<p>配置文件中加入(不存在则创建，我本地不存在此文件)：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"基础知识\"><a href=\"#基础知识\" class=\"headerlink\" title=\"基础知识\"></a>基础知识</h2><p><strong>hello world</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run ubuntu:15.10 /bin/echo &quot;Hello world&quot;</span><br></pre></td></tr></table></figure></p>\n<p>(验证,echo是可以直接echo的，不必写/bin/echo)<br><strong>参数解析</strong><br>docker:docker的二进制执行文件<br>run:与前面docker组合来运行一个容器<br>ubuntu:15.10 : 指定要运行的镜像，Docker首先从本地主机上查找镜像是否存在，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。<br>/bin/echo “Hello world”: 在启动的容器里执行的命令<br><strong>运行交互式的容器</strong><br>通过docker的两个参数 -i -t，让docker运行的容器实现”对话”的能力<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -i -t ubuntu:15.10 /bin/bash</span><br></pre></td></tr></table></figure></p>\n<p>-t:在新容器内指定一个伪终端或终端。<br>-i:允许对容器内的标准输入进行交互<br><strong>启动容器（后台模式）</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d ubuntu:15.10 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span><br></pre></td></tr></table></figure></p>\n<p>输出一串长字符，是容器ID,对每个容器来说都是唯一的，我们可以通过容器ID来查看对应的容器发生了什么。<br><figure class=\"highlight docker\"><figcaption><span>ps```可以查看有容器在运行</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CONTAINER ID:容器ID</span><br><span class=\"line\">NAMES:自动分配的容器名称</span><br><span class=\"line\">在容器内使用docker logs命令，查看容器内的标准输出</span><br><span class=\"line\">```docker logs [CONTAINER ID|NAMES]</span><br></pre></td></tr></table></figure></p>\n<p><strong>停止容器</strong><br><code>docker stop [CONTAINER ID|NAMES]</code><br>(亲测不需要sudo就能停止docker,但是docker ps却需要sudo)</p>\n<p>##docker容器使用<br><code>docker</code>命令可以直接查看Docker客户端的所有选项<br><code>docker comman --help</code>更深入地了解指定地docker命令使用方法</p>\n"},{"title":"python Generators","date":"2019-03-14T06:41:10.000Z","_content":"##迭代器Iterator\n迭代器是一个可以让程序员遍历一个容器的对象，一个迭代器在遍历并读取一个容器的数据元素时不会执行一个迭代。\n**迭代器三个部分**\n可迭代对象\n迭代器\n迭代\n**可迭代对象**\npython中的任意对象，只要定义了可以返回一个迭代器的__iter__方法，或者定义了可以支持下标索引的__getitem__方法，那么就是一个可跌打对象\n**迭代器**\n任意对象，只要定义了next(Python2)或者__next__方法，它就是一个迭代器\n**迭代**\n从某个地方取出一个元素的过程，当使用一个循环来遍历某个东西时，这个过程本身就叫做迭代。\n##生成器Generators\n生成器也是一种迭代器，但是只能对其迭代一次","source":"_posts/generators.md","raw":"---\ntitle: python Generators\ndate: 2019-03-14 14:41:10\ntags:\n---\n##迭代器Iterator\n迭代器是一个可以让程序员遍历一个容器的对象，一个迭代器在遍历并读取一个容器的数据元素时不会执行一个迭代。\n**迭代器三个部分**\n可迭代对象\n迭代器\n迭代\n**可迭代对象**\npython中的任意对象，只要定义了可以返回一个迭代器的__iter__方法，或者定义了可以支持下标索引的__getitem__方法，那么就是一个可跌打对象\n**迭代器**\n任意对象，只要定义了next(Python2)或者__next__方法，它就是一个迭代器\n**迭代**\n从某个地方取出一个元素的过程，当使用一个循环来遍历某个东西时，这个过程本身就叫做迭代。\n##生成器Generators\n生成器也是一种迭代器，但是只能对其迭代一次","slug":"generators","published":1,"updated":"2019-12-10T01:49:46.540Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwsb0027d87p6x4exser","content":"<p>##迭代器Iterator<br>迭代器是一个可以让程序员遍历一个容器的对象，一个迭代器在遍历并读取一个容器的数据元素时不会执行一个迭代。<br><strong>迭代器三个部分</strong><br>可迭代对象<br>迭代器<br>迭代<br><strong>可迭代对象</strong><br>python中的任意对象，只要定义了可以返回一个迭代器的<strong>iter</strong>方法，或者定义了可以支持下标索引的<strong>getitem</strong>方法，那么就是一个可跌打对象<br><strong>迭代器</strong><br>任意对象，只要定义了next(Python2)或者<strong>next</strong>方法，它就是一个迭代器<br><strong>迭代</strong><br>从某个地方取出一个元素的过程，当使用一个循环来遍历某个东西时，这个过程本身就叫做迭代。</p>\n<p>##生成器Generators<br>生成器也是一种迭代器，但是只能对其迭代一次</p>\n","site":{"data":{}},"excerpt":"","more":"<p>##迭代器Iterator<br>迭代器是一个可以让程序员遍历一个容器的对象，一个迭代器在遍历并读取一个容器的数据元素时不会执行一个迭代。<br><strong>迭代器三个部分</strong><br>可迭代对象<br>迭代器<br>迭代<br><strong>可迭代对象</strong><br>python中的任意对象，只要定义了可以返回一个迭代器的<strong>iter</strong>方法，或者定义了可以支持下标索引的<strong>getitem</strong>方法，那么就是一个可跌打对象<br><strong>迭代器</strong><br>任意对象，只要定义了next(Python2)或者<strong>next</strong>方法，它就是一个迭代器<br><strong>迭代</strong><br>从某个地方取出一个元素的过程，当使用一个循环来遍历某个东西时，这个过程本身就叫做迭代。</p>\n<p>##生成器Generators<br>生成器也是一种迭代器，但是只能对其迭代一次</p>\n"},{"title":"typescript泛型","date":"2019-07-22T12:37:10.000Z","_content":"# typescript泛型\n## 介绍\n","source":"_posts/genericity.md","raw":"---\ntitle: typescript泛型\ndate: 2019-07-22 20:37:10\ntags:\ncategories: \n- 前端\n- typescript\n---\n# typescript泛型\n## 介绍\n","slug":"genericity","published":1,"updated":"2019-12-10T01:49:46.540Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwse002cd87p6lejjmxj","content":"<h1 id=\"typescript泛型\"><a href=\"#typescript泛型\" class=\"headerlink\" title=\"typescript泛型\"></a>typescript泛型</h1><h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"typescript泛型\"><a href=\"#typescript泛型\" class=\"headerlink\" title=\"typescript泛型\"></a>typescript泛型</h1><h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2>"},{"title":"gitflow command version","date":"2019-04-24T13:03:10.000Z","_content":"\n\n## 新建feature/hotfix进行项目开发\n------------------------\n1. 更新本地代码仓库缓存\n`git remote update`\n\n2. 切换到本地develop分支\n`git checkout develop`\n\n3. 更新本地develop分支到最新\n`git merge origin/develop`\n(采用fork仓库开发的, 使用 `git merge upstream/develop` 进行合并)\n\n4. 使用当前年月日格式创建对应的feature/hotfix\nfeature/20171012_xxxx\nhotfix/20171012_xxxxx2\n例: 创建一个2017年10月12日的酒店优化分支\n`git branch feature/20171012_hotel_enhance`\n\n5. 开发进行中和开发完成后, 都需要进行 1 操作, 然后把 develop的更新合并进来, 保持代码更新, \n同时, 需要在此处解决合并冲突.\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge origin/develop` (采用fork 仓库开发的, 使用`git merge upstream/develop`)\n\n6. 开发完成后, 推送当前开发分支至远端服务器, 同时在github, git.tff.bz 创建Pull Request(PR)到develop 分支.\n在发送提测邮件时, 带上该项目的 PR 链接地址. 该操作是为了方便后续项目代码合并review.\n`git push origin feature/20171012_hotel_enhance`\n(采用fork 仓库开发的, 使用 git push upstream feature/20171012_hotel_enhance)\n\n7. 测试开始测试之前, 会邮件通知开始测试该feature/hotfix, 需要开发再次进行 5,6 操作, 把代码更新\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge origin/develop` (采用fork 仓库开发的, 使用`git merge upstream/develop`, 后面不再复述fork的操作流程)\n`git push origin feature/20171012_hotel_enhance`\n\n8. 测试通过后, 邮件通知开发进行打 release操作. 需要再次更新代码到最新\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge upstream/develop`\n`git push origin feature/20171012_hotel_enhance`\n`git branch release/20171026_hotel_enhance `\n`git push origin release/20171026_hotel_enhance`\n``\n\n9. 测试开始测试release, 如果有问题, 开发需要在该release上进行修改, 并且每次需要重复合并develop代码来保持代码更新.\n10. 测试无误后, 测试将发出测试通过, 准备上线邮件, 研发需要和测试沟通是否有最新项目已经提前上线, 来决定是否需要再次更新代码.\n11. 上线人员检查 PR 的链接, 对相关项目代码进行 review, 确认无误后, 进行上线. 执行完提测邮件里面提到的 sql, cem变量, 脚本修复, 代码部署等操作后, 发送上线完成邮件通知.\n12. 测试人员回归测试, 验收完成后, 发送线上验证通过通知.\n13. 开发收到验证完成通知后, 把 release分支回合到 feature 分支, 然后要求项目负责人进行合并到\n    develop/master操作.\n14. 项目负责人在github, git.tff.bz 的PR 上review 代码. 确认没问题后, 合并进入 develop 分支, 同时创建 develop到 master的PR, 进行再次合并.\n\n\n##补充\n1 删除分支\ngit branch --delete --remotes origin/feature/20190214_monthly\ngit push origin :feature/20190214_monthly\n2 add之后回退\ngit reset HEAD <file>\n3 撤销commit \ngit commit --amend\n4 撤销已经commit但是没有push\ngit log 找到commit id\ngit reset --hard commit_id    完成撤销,同时将代码恢复到前一commit_id 对应的版本  \ngit reset commit_id      完成Commit命令的撤销，但是不对代码修改进行撤销，可以直接通过git commit 重新提交对本地代码的修改\n\n","source":"_posts/git.md","raw":"---\ntitle: gitflow command version\ndate: 2019-04-24 21:03:10\ntags: 工作\ncategories: git\n---\n\n\n## 新建feature/hotfix进行项目开发\n------------------------\n1. 更新本地代码仓库缓存\n`git remote update`\n\n2. 切换到本地develop分支\n`git checkout develop`\n\n3. 更新本地develop分支到最新\n`git merge origin/develop`\n(采用fork仓库开发的, 使用 `git merge upstream/develop` 进行合并)\n\n4. 使用当前年月日格式创建对应的feature/hotfix\nfeature/20171012_xxxx\nhotfix/20171012_xxxxx2\n例: 创建一个2017年10月12日的酒店优化分支\n`git branch feature/20171012_hotel_enhance`\n\n5. 开发进行中和开发完成后, 都需要进行 1 操作, 然后把 develop的更新合并进来, 保持代码更新, \n同时, 需要在此处解决合并冲突.\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge origin/develop` (采用fork 仓库开发的, 使用`git merge upstream/develop`)\n\n6. 开发完成后, 推送当前开发分支至远端服务器, 同时在github, git.tff.bz 创建Pull Request(PR)到develop 分支.\n在发送提测邮件时, 带上该项目的 PR 链接地址. 该操作是为了方便后续项目代码合并review.\n`git push origin feature/20171012_hotel_enhance`\n(采用fork 仓库开发的, 使用 git push upstream feature/20171012_hotel_enhance)\n\n7. 测试开始测试之前, 会邮件通知开始测试该feature/hotfix, 需要开发再次进行 5,6 操作, 把代码更新\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge origin/develop` (采用fork 仓库开发的, 使用`git merge upstream/develop`, 后面不再复述fork的操作流程)\n`git push origin feature/20171012_hotel_enhance`\n\n8. 测试通过后, 邮件通知开发进行打 release操作. 需要再次更新代码到最新\n`git checkout feature/20171012_hotel_enhance`\n`git remote update`\n`git merge upstream/develop`\n`git push origin feature/20171012_hotel_enhance`\n`git branch release/20171026_hotel_enhance `\n`git push origin release/20171026_hotel_enhance`\n``\n\n9. 测试开始测试release, 如果有问题, 开发需要在该release上进行修改, 并且每次需要重复合并develop代码来保持代码更新.\n10. 测试无误后, 测试将发出测试通过, 准备上线邮件, 研发需要和测试沟通是否有最新项目已经提前上线, 来决定是否需要再次更新代码.\n11. 上线人员检查 PR 的链接, 对相关项目代码进行 review, 确认无误后, 进行上线. 执行完提测邮件里面提到的 sql, cem变量, 脚本修复, 代码部署等操作后, 发送上线完成邮件通知.\n12. 测试人员回归测试, 验收完成后, 发送线上验证通过通知.\n13. 开发收到验证完成通知后, 把 release分支回合到 feature 分支, 然后要求项目负责人进行合并到\n    develop/master操作.\n14. 项目负责人在github, git.tff.bz 的PR 上review 代码. 确认没问题后, 合并进入 develop 分支, 同时创建 develop到 master的PR, 进行再次合并.\n\n\n##补充\n1 删除分支\ngit branch --delete --remotes origin/feature/20190214_monthly\ngit push origin :feature/20190214_monthly\n2 add之后回退\ngit reset HEAD <file>\n3 撤销commit \ngit commit --amend\n4 撤销已经commit但是没有push\ngit log 找到commit id\ngit reset --hard commit_id    完成撤销,同时将代码恢复到前一commit_id 对应的版本  \ngit reset commit_id      完成Commit命令的撤销，但是不对代码修改进行撤销，可以直接通过git commit 重新提交对本地代码的修改\n\n","slug":"git","published":1,"updated":"2019-12-10T01:49:46.540Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwsg002ed87p9v7w82cz","content":"<h2 id=\"新建feature-hotfix进行项目开发\"><a href=\"#新建feature-hotfix进行项目开发\" class=\"headerlink\" title=\"新建feature/hotfix进行项目开发\"></a>新建feature/hotfix进行项目开发</h2><hr>\n<ol>\n<li><p>更新本地代码仓库缓存<br><code>git remote update</code></p>\n</li>\n<li><p>切换到本地develop分支<br><code>git checkout develop</code></p>\n</li>\n<li><p>更新本地develop分支到最新<br><code>git merge origin/develop</code><br>(采用fork仓库开发的, 使用 <code>git merge upstream/develop</code> 进行合并)</p>\n</li>\n<li><p>使用当前年月日格式创建对应的feature/hotfix<br>feature/20171012_xxxx<br>hotfix/20171012_xxxxx2<br>例: 创建一个2017年10月12日的酒店优化分支<br><code>git branch feature/20171012_hotel_enhance</code></p>\n</li>\n<li><p>开发进行中和开发完成后, 都需要进行 1 操作, 然后把 develop的更新合并进来, 保持代码更新,<br>同时, 需要在此处解决合并冲突.<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge origin/develop</code> (采用fork 仓库开发的, 使用<code>git merge upstream/develop</code>)</p>\n</li>\n<li><p>开发完成后, 推送当前开发分支至远端服务器, 同时在github, git.tff.bz 创建Pull Request(PR)到develop 分支.<br>在发送提测邮件时, 带上该项目的 PR 链接地址. 该操作是为了方便后续项目代码合并review.<br><code>git push origin feature/20171012_hotel_enhance</code><br>(采用fork 仓库开发的, 使用 git push upstream feature/20171012_hotel_enhance)</p>\n</li>\n<li><p>测试开始测试之前, 会邮件通知开始测试该feature/hotfix, 需要开发再次进行 5,6 操作, 把代码更新<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge origin/develop</code> (采用fork 仓库开发的, 使用<code>git merge upstream/develop</code>, 后面不再复述fork的操作流程)<br><code>git push origin feature/20171012_hotel_enhance</code></p>\n</li>\n<li><p>测试通过后, 邮件通知开发进行打 release操作. 需要再次更新代码到最新<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge upstream/develop</code><br><code>git push origin feature/20171012_hotel_enhance</code><br><code>git branch release/20171026_hotel_enhance</code><br><code>git push origin release/20171026_hotel_enhance</code><br><code></code></p>\n</li>\n<li><p>测试开始测试release, 如果有问题, 开发需要在该release上进行修改, 并且每次需要重复合并develop代码来保持代码更新.</p>\n</li>\n<li>测试无误后, 测试将发出测试通过, 准备上线邮件, 研发需要和测试沟通是否有最新项目已经提前上线, 来决定是否需要再次更新代码.</li>\n<li>上线人员检查 PR 的链接, 对相关项目代码进行 review, 确认无误后, 进行上线. 执行完提测邮件里面提到的 sql, cem变量, 脚本修复, 代码部署等操作后, 发送上线完成邮件通知.</li>\n<li>测试人员回归测试, 验收完成后, 发送线上验证通过通知.</li>\n<li>开发收到验证完成通知后, 把 release分支回合到 feature 分支, 然后要求项目负责人进行合并到<br>develop/master操作.</li>\n<li>项目负责人在github, git.tff.bz 的PR 上review 代码. 确认没问题后, 合并进入 develop 分支, 同时创建 develop到 master的PR, 进行再次合并.</li>\n</ol>\n<p>##补充<br>1 删除分支<br>git branch –delete –remotes origin/feature/20190214_monthly<br>git push origin :feature/20190214_monthly<br>2 add之后回退<br>git reset HEAD <file><br>3 撤销commit<br>git commit –amend<br>4 撤销已经commit但是没有push<br>git log 找到commit id<br>git reset –hard commit_id    完成撤销,同时将代码恢复到前一commit_id 对应的版本<br>git reset commit_id      完成Commit命令的撤销，但是不对代码修改进行撤销，可以直接通过git commit 重新提交对本地代码的修改</file></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"新建feature-hotfix进行项目开发\"><a href=\"#新建feature-hotfix进行项目开发\" class=\"headerlink\" title=\"新建feature/hotfix进行项目开发\"></a>新建feature/hotfix进行项目开发</h2><hr>\n<ol>\n<li><p>更新本地代码仓库缓存<br><code>git remote update</code></p>\n</li>\n<li><p>切换到本地develop分支<br><code>git checkout develop</code></p>\n</li>\n<li><p>更新本地develop分支到最新<br><code>git merge origin/develop</code><br>(采用fork仓库开发的, 使用 <code>git merge upstream/develop</code> 进行合并)</p>\n</li>\n<li><p>使用当前年月日格式创建对应的feature/hotfix<br>feature/20171012_xxxx<br>hotfix/20171012_xxxxx2<br>例: 创建一个2017年10月12日的酒店优化分支<br><code>git branch feature/20171012_hotel_enhance</code></p>\n</li>\n<li><p>开发进行中和开发完成后, 都需要进行 1 操作, 然后把 develop的更新合并进来, 保持代码更新,<br>同时, 需要在此处解决合并冲突.<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge origin/develop</code> (采用fork 仓库开发的, 使用<code>git merge upstream/develop</code>)</p>\n</li>\n<li><p>开发完成后, 推送当前开发分支至远端服务器, 同时在github, git.tff.bz 创建Pull Request(PR)到develop 分支.<br>在发送提测邮件时, 带上该项目的 PR 链接地址. 该操作是为了方便后续项目代码合并review.<br><code>git push origin feature/20171012_hotel_enhance</code><br>(采用fork 仓库开发的, 使用 git push upstream feature/20171012_hotel_enhance)</p>\n</li>\n<li><p>测试开始测试之前, 会邮件通知开始测试该feature/hotfix, 需要开发再次进行 5,6 操作, 把代码更新<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge origin/develop</code> (采用fork 仓库开发的, 使用<code>git merge upstream/develop</code>, 后面不再复述fork的操作流程)<br><code>git push origin feature/20171012_hotel_enhance</code></p>\n</li>\n<li><p>测试通过后, 邮件通知开发进行打 release操作. 需要再次更新代码到最新<br><code>git checkout feature/20171012_hotel_enhance</code><br><code>git remote update</code><br><code>git merge upstream/develop</code><br><code>git push origin feature/20171012_hotel_enhance</code><br><code>git branch release/20171026_hotel_enhance</code><br><code>git push origin release/20171026_hotel_enhance</code><br><code></code></p>\n</li>\n<li><p>测试开始测试release, 如果有问题, 开发需要在该release上进行修改, 并且每次需要重复合并develop代码来保持代码更新.</p>\n</li>\n<li>测试无误后, 测试将发出测试通过, 准备上线邮件, 研发需要和测试沟通是否有最新项目已经提前上线, 来决定是否需要再次更新代码.</li>\n<li>上线人员检查 PR 的链接, 对相关项目代码进行 review, 确认无误后, 进行上线. 执行完提测邮件里面提到的 sql, cem变量, 脚本修复, 代码部署等操作后, 发送上线完成邮件通知.</li>\n<li>测试人员回归测试, 验收完成后, 发送线上验证通过通知.</li>\n<li>开发收到验证完成通知后, 把 release分支回合到 feature 分支, 然后要求项目负责人进行合并到<br>develop/master操作.</li>\n<li>项目负责人在github, git.tff.bz 的PR 上review 代码. 确认没问题后, 合并进入 develop 分支, 同时创建 develop到 master的PR, 进行再次合并.</li>\n</ol>\n<p>##补充<br>1 删除分支<br>git branch –delete –remotes origin/feature/20190214_monthly<br>git push origin :feature/20190214_monthly<br>2 add之后回退<br>git reset HEAD <file><br>3 撤销commit<br>git commit –amend<br>4 撤销已经commit但是没有push<br>git log 找到commit id<br>git reset –hard commit_id    完成撤销,同时将代码恢复到前一commit_id 对应的版本<br>git reset commit_id      完成Commit命令的撤销，但是不对代码修改进行撤销，可以直接通过git commit 重新提交对本地代码的修改</file></p>\n"},{"title":"生成json映射表","date":"2019-08-15T02:27:44.000Z","_content":"## 生成json映射表代码\n```php\n<?php\n$dic = [\n            'qd' => [...],\n            'mp' => [... 100],\n            'jl' => [...],\n            'sb' => [..., 50, 60, 70, 85, 100],\n            'ly' => [..., 50, 60, 70, 85, 100],\n            'dy' => [...0, 50, 60, 70, 85, 100],\n            'sl' => [...55, 60, 65, 70, 85, 100],\n            'xl' => [... 50, 55, 65, 75, 85, 100],\n            'vl' => [...50, 60, 70, 80, 90, 100],\n            'rh' => [... 100]\n        ];\nfunction getJson($dic) {\n    $res = [];\nforeach($dic as $k => $v){\n    $res[$k] = [];\n    foreach($v as $key => $val) {\n        $res[$k]['mapV'][$key] = [\n            'label' => (string)$key,\n            'value' => (string)$val\n];\n}\n}\nvar_dump(json_encode($res));\n}\ngetJSON($dic);\n?>\n\n```\n","source":"_posts/json.md","raw":"---\ntitle: 生成json映射表\ndate: 2019-08-15 10:27:44\ncategories: \n- 工作\n---\n## 生成json映射表代码\n```php\n<?php\n$dic = [\n            'qd' => [...],\n            'mp' => [... 100],\n            'jl' => [...],\n            'sb' => [..., 50, 60, 70, 85, 100],\n            'ly' => [..., 50, 60, 70, 85, 100],\n            'dy' => [...0, 50, 60, 70, 85, 100],\n            'sl' => [...55, 60, 65, 70, 85, 100],\n            'xl' => [... 50, 55, 65, 75, 85, 100],\n            'vl' => [...50, 60, 70, 80, 90, 100],\n            'rh' => [... 100]\n        ];\nfunction getJson($dic) {\n    $res = [];\nforeach($dic as $k => $v){\n    $res[$k] = [];\n    foreach($v as $key => $val) {\n        $res[$k]['mapV'][$key] = [\n            'label' => (string)$key,\n            'value' => (string)$val\n];\n}\n}\nvar_dump(json_encode($res));\n}\ngetJSON($dic);\n?>\n\n```\n","slug":"json","published":1,"updated":"2019-12-10T01:49:46.541Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwsi002id87pbhq86pw9","content":"<h2 id=\"生成json映射表代码\"><a href=\"#生成json映射表代码\" class=\"headerlink\" title=\"生成json映射表代码\"></a>生成json映射表代码</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$dic = [</span><br><span class=\"line\">            <span class=\"string\">'qd'</span> =&gt; [...],</span><br><span class=\"line\">            <span class=\"string\">'mp'</span> =&gt; [... <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'jl'</span> =&gt; [...],</span><br><span class=\"line\">            <span class=\"string\">'sb'</span> =&gt; [..., <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'ly'</span> =&gt; [..., <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'dy'</span> =&gt; [..<span class=\"number\">.0</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'sl'</span> =&gt; [..<span class=\"number\">.55</span>, <span class=\"number\">60</span>, <span class=\"number\">65</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'xl'</span> =&gt; [... <span class=\"number\">50</span>, <span class=\"number\">55</span>, <span class=\"number\">65</span>, <span class=\"number\">75</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'vl'</span> =&gt; [..<span class=\"number\">.50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">80</span>, <span class=\"number\">90</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'rh'</span> =&gt; [... <span class=\"number\">100</span>]</span><br><span class=\"line\">        ];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getJson</span><span class=\"params\">($dic)</span> </span>&#123;</span><br><span class=\"line\">    $res = [];</span><br><span class=\"line\"><span class=\"keyword\">foreach</span>($dic <span class=\"keyword\">as</span> $k =&gt; $v)&#123;</span><br><span class=\"line\">    $res[$k] = [];</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span>($v <span class=\"keyword\">as</span> $key =&gt; $val) &#123;</span><br><span class=\"line\">        $res[$k][<span class=\"string\">'mapV'</span>][$key] = [</span><br><span class=\"line\">            <span class=\"string\">'label'</span> =&gt; (string)$key,</span><br><span class=\"line\">            <span class=\"string\">'value'</span> =&gt; (string)$val</span><br><span class=\"line\">];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var_dump(json_encode($res));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getJSON($dic);</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"生成json映射表代码\"><a href=\"#生成json映射表代码\" class=\"headerlink\" title=\"生成json映射表代码\"></a>生成json映射表代码</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$dic = [</span><br><span class=\"line\">            <span class=\"string\">'qd'</span> =&gt; [...],</span><br><span class=\"line\">            <span class=\"string\">'mp'</span> =&gt; [... <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'jl'</span> =&gt; [...],</span><br><span class=\"line\">            <span class=\"string\">'sb'</span> =&gt; [..., <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'ly'</span> =&gt; [..., <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'dy'</span> =&gt; [..<span class=\"number\">.0</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'sl'</span> =&gt; [..<span class=\"number\">.55</span>, <span class=\"number\">60</span>, <span class=\"number\">65</span>, <span class=\"number\">70</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'xl'</span> =&gt; [... <span class=\"number\">50</span>, <span class=\"number\">55</span>, <span class=\"number\">65</span>, <span class=\"number\">75</span>, <span class=\"number\">85</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'vl'</span> =&gt; [..<span class=\"number\">.50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">80</span>, <span class=\"number\">90</span>, <span class=\"number\">100</span>],</span><br><span class=\"line\">            <span class=\"string\">'rh'</span> =&gt; [... <span class=\"number\">100</span>]</span><br><span class=\"line\">        ];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getJson</span><span class=\"params\">($dic)</span> </span>&#123;</span><br><span class=\"line\">    $res = [];</span><br><span class=\"line\"><span class=\"keyword\">foreach</span>($dic <span class=\"keyword\">as</span> $k =&gt; $v)&#123;</span><br><span class=\"line\">    $res[$k] = [];</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span>($v <span class=\"keyword\">as</span> $key =&gt; $val) &#123;</span><br><span class=\"line\">        $res[$k][<span class=\"string\">'mapV'</span>][$key] = [</span><br><span class=\"line\">            <span class=\"string\">'label'</span> =&gt; (string)$key,</span><br><span class=\"line\">            <span class=\"string\">'value'</span> =&gt; (string)$val</span><br><span class=\"line\">];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var_dump(json_encode($res));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getJSON($dic);</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"mongodb使用","date":"2019-04-02T10:27:44.000Z","_content":"# 基础\n* 列出所有数据库:show dbs;\n* 列出所有表：show tables;或show collections;\n* 查询所有数据：db.taname.find().pretty();\n* 查询指定列所有数据：db.tbname.find({},{col1:1,col2:2,...}).pretty();\n* 根据条件查询所有数据：db.tbname.find({name:\"test\"},{col1:1,col2:1}).pretty();\n* 查询结果不包含指定字段：db.tbname.find({},{status:0,col2:0}).pretty();\n# 查询\n#### 1 查询所有数据\ndb.tbname.find().pretty();\n","source":"_posts/mongo1.md","raw":"---\ntitle: mongodb使用\ndate: 2019-04-02 18:27:44\ncategories: \n- 数据库\n- mongodb\n---\n# 基础\n* 列出所有数据库:show dbs;\n* 列出所有表：show tables;或show collections;\n* 查询所有数据：db.taname.find().pretty();\n* 查询指定列所有数据：db.tbname.find({},{col1:1,col2:2,...}).pretty();\n* 根据条件查询所有数据：db.tbname.find({name:\"test\"},{col1:1,col2:1}).pretty();\n* 查询结果不包含指定字段：db.tbname.find({},{status:0,col2:0}).pretty();\n# 查询\n#### 1 查询所有数据\ndb.tbname.find().pretty();\n","slug":"mongo1","published":1,"updated":"2019-12-10T01:49:46.544Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwsk002ld87pozukgj9i","content":"<h1 id=\"基础\"><a href=\"#基础\" class=\"headerlink\" title=\"基础\"></a>基础</h1><ul>\n<li>列出所有数据库:show dbs;</li>\n<li>列出所有表：show tables;或show collections;</li>\n<li>查询所有数据：db.taname.find().pretty();</li>\n<li>查询指定列所有数据：db.tbname.find({},{col1:1,col2:2,…}).pretty();</li>\n<li>根据条件查询所有数据：db.tbname.find({name:”test”},{col1:1,col2:1}).pretty();</li>\n<li>查询结果不包含指定字段：db.tbname.find({},{status:0,col2:0}).pretty();<h1 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h1><h4 id=\"1-查询所有数据\"><a href=\"#1-查询所有数据\" class=\"headerlink\" title=\"1 查询所有数据\"></a>1 查询所有数据</h4>db.tbname.find().pretty();</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"基础\"><a href=\"#基础\" class=\"headerlink\" title=\"基础\"></a>基础</h1><ul>\n<li>列出所有数据库:show dbs;</li>\n<li>列出所有表：show tables;或show collections;</li>\n<li>查询所有数据：db.taname.find().pretty();</li>\n<li>查询指定列所有数据：db.tbname.find({},{col1:1,col2:2,…}).pretty();</li>\n<li>根据条件查询所有数据：db.tbname.find({name:”test”},{col1:1,col2:1}).pretty();</li>\n<li>查询结果不包含指定字段：db.tbname.find({},{status:0,col2:0}).pretty();<h1 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h1><h4 id=\"1-查询所有数据\"><a href=\"#1-查询所有数据\" class=\"headerlink\" title=\"1 查询所有数据\"></a>1 查询所有数据</h4>db.tbname.find().pretty();</li>\n</ul>\n"},{"title":"mongodb学习记录","date":"2019-10-20T10:27:44.000Z","_content":"# 参考文档\nhttp://www.mongoing.com/docs/reference/operator/aggregation/interface.html    \nhttps://www.cnblogs.com/zhoujie/p/mongo1.html    \nhttps://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html\n# mongodb精准匹配\n假设有需求如下：数据为多层级的数组，需要精准匹配到某一个层级，并进行更新或新增等操作，如何实现？    \n## 实现方式\n当Mongodb版本大于3.6.1，实现将会非常简单，因为mongodb3.6.1以上可以直接通过语句来实现精准匹配。    \n但由于实际场景中版本不支持，当匹配超过一级则会报错：Too many positional (i.e. '$') elements found in path 'files.$.testConstruct.params.list.$.testRange'        \n当版本大于3.6.1，举例：    \n```\ndb.test_db.update(\n    {'_id': {$in: ['1242rererwwr']}, 'files.name': 'test1.json', 'files.testConstruct.params.list.type': 'NewData'},\n    {$set: {'files.$.structuredContent.params.list.$.testRange': {'enable': false, 'min': 14, 'max': 90}}, $currentDate: { updatedDatetime: true }}, { multi: true })\n```\n分析：    \n设置值时，'files.$.testConstruct.params.list.$.testRange'中的第一个\"$\"将会匹配到name=test1.json的数组，第二个\"$\"将会匹配到files.structuredContent.params.list.type=NewData的数组    \n优点： 使用简单，匹配精确，无需代码判断    \n缺点： 适用版本有限制，且由于多级匹配需要更多的条件，而实际业务中不一定能取到这些条件（例如知道要更新的key为testRange但是不知道上级查询条件无法匹配到）    \n如果版本过低，可只匹配第一级，其余的通过代码匹配。    \n当版本小于3.6.1举例：\n```php\n<?php\npublic function batchUpdateContents(string $route, array $ids, string $editor, $updateItems, bool $needPublish): bool\n    {\n        $routes = explode('-', $route);\n        array_shift($routes);\n        $routes[2] = self::TYPE_LIST[$routes[2]];\n        $updateRoute = 'files.$.testConstruct.' . implode('.', $routes);\n        $res = $this->conn->update(['storeId' => ['$in' => $ids], 'files.name' => 'makeup.json', 'files.testConstruct' => ['$ne' => '']],\n            ['$set' => [$updateRoute => $updateItems, 'files.$.editor' => $editor, 'files.$.lastUpdate' => time()], '$currentDate' => [ 'updatedDatetime' =>  true ]], true);\n        if ($res) {\n            // 一些其他操作\n        } else {\n            return false;\n        }\n    }\n?>\n```\n枚举出可能存在的下一级数组值，然后进行匹配。update()方法当参数不存在时会进行新增参数操作。    \n# mongodb聚合\nmongodb的聚合操作可对数据进行一系列操作并返回结果。mongodb提供三种聚合操作：    \naggregation pipeline, map-reduce方法和分片集合\n## aggregation pipeline\n管道操作，基础操作为筛选操作，其他操作：可通过特定的字段来进行分组和排序等\n### $project\n类似于sql的select，筛选出需要查询的字段，例如：{$project: {'name': 1, 'age':1}},也可以排除字段（0）,重命名字段，派生字段    \n（1）<field>: <1 or true>    是否包含该字段，field:1/0，表示选择/不选择 field    \n（2）<field>:<0 or false>    v3.4新增功能，指定排除字段     \n（3）<field>: <expression>  添加新字段或重置现有字段的值。 在版本3.6中更改：MongoDB 3.6添加变量REMOVE。如果表达式的计算结果为$$REMOVE，则该字段将排除在输出中。\n3.6可使用变量REMOVE来有条件地禁止一个字段：    \n```  \ndb.books.aggregate( [\n   {\n      $project: {\n         title: 1,\n         \"author.first\": 1,\n         \"author.last\" : 1,\n         \"author.middle\": {\n            $cond: {\n               if: { $eq: [ \"\", \"$author.middle\" ] },\n               then: \"$$REMOVE\",\n               else: \"$author.middle\"\n            }\n         }\n      }\n   }\n] )\n\n```\n#### 使用$project派生举例    \n```  \ndb.books.aggregate(\n   [\n      {\n         $project: {\n            title: 1,\n            isbn: {\n               prefix: { $substr: [ \"$isbn\", 0, 3 ] },\n               group: { $substr: [ \"$isbn\", 3, 2 ] },\n               publisher: { $substr: [ \"$isbn\", 5, 4 ] },\n               title: { $substr: [ \"$isbn\", 9, 3 ] },\n               checkDigit: { $substr: [ \"$isbn\", 12, 1] }\n            },\n            lastName: \"$author.last\",\n            copiesSold: \"$copies\"\n         }\n      }\n   ]\n)\n```\n#### 投影出新数组：    \n示例数据：\n```  \n{ \"_id\" : ObjectId(\"55ad167f320c6be244eb3b95\"), \"x\" : 1, \"y\" : 1 }\n```\n操作：\n``` \ndb.collection.aggregate( [ { $project: { myArray: [ \"$x\", \"$y\" ] } } ] )\n```\n返回：\n``` \n{ \"_id\" : ObjectId(\"55ad167f320c6be244eb3b95\"), \"myArray\" : [ 1, 1 ] }\n```\n如果返回的数组中包含了不存在的字段，则会返回null\n### $match\n类似于sql中的where，设置查询条件，例如：{$match: {'name': {'$ne': ''}}}    \n$match仅接受一个指定查询条件的文档，查询语法与读操作查询语法相同。    \n#### 语法\n{$match: {<query>}}    \n\n#### 注意事项\n在实际应用中尽可能将$match放在管道的前面位置。这样有两个好处：一是可以快速将不需要的文档过滤掉，以减少管道的工作量；二是如果再投射和分组之前执行$match，查询可以使用索引。    \n#### 限制条件   \n（1）不能在$match查询中使用$作为聚合管道的一部分    \n（2）要在$match阶段使用$text，$match阶段必须是管道的第一阶段\n#### 查询条件介绍\n$gt:大于\n$lt:小于    \n$gte:大于等于     \n$lte:小于等于    \n$in:类似于sql中的in    \n$nin:不在该范围内的键    \n$or:包含多个可能的条件\n### $limit\n限制传递到管道中下一阶段的文档数\n### skip\n跳过指定数量的文档，并将其余文档传递到管道中的下一阶段\n### $unwind\n从输入文档解构数组字段以输出每个元素的文档，即：将数组拆分成单独的文档    \n#### 举例  \n``` \n{\n  $unwind:\n    {\n      path: <field path>,\n      includeArrayIndex: <string>,  #可选,一个新字段的名称用于存放元素的数组索引。该名称不能以$开头。\n      preserveNullAndEmptyArrays: <boolean> #可选，default :false，若为true,如果路径为空，缺少或为空数组，则$unwind输出文档\n\n } \n}\ndb.getCollection('test').aggregate(\n [ { $unwind : \"$sizes\" } ]\n)\n```\n### $group\n#### 释义\n按指定的表达式对文档进行分组，并将每个不同分组的文档输出到下一个阶段。输出文档包含一个_id字段，该字段按键包含不同的组。\n\n输出文档还可以包含计算字段，该字段保存由$group的_id字段分组的一些accumulator表达式的值。 $group不会输出具体的文档而只是统计信息。\n#### 语法\n{ $group: { _id: <expression>, <field1>: { <accumulator1> : <expression1> }, ... } }    \n解析：_id字段必填，可以指定为null，表示为整个输入文档计算累计值，剩余的计算字段是可选的，并使用<accumulator>运算符进行计算。\n#### accumulator操作符\n\n| 名称 |描述 |类比sql\n|  ----  | ----  | ---- |\n| $avg\t        |计算均值     \t                                                            |avg\n| $first        |返回每组第一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的第一个文档。\t|limit 0,1\n| $last\t        |返回每组最后一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的最后个文档。\t|-\n| $max\t        |根据分组，获取集合中所有文档对应值得最大值。\t                                    |max\n| $min\t        |根据分组，获取集合中所有文档对应值得最小值。\t                                    |min\n| $push\t        |将指定的表达式的值添加到一个数组中。\t                                        |-\n| $addToSet \t|将表达式的值添加到一个集合中（无重复值，无序）。\t                                |-\n| $sum\t        |计算总和\t                                                                |sum\n| $stdDevPop\t|返回输入值的总体标准偏差（population standard deviation）\t                    |-\n| $stdDevSamp\t|返回输入值的样本标准偏差（the sample standard deviation）\t                    |-\n#### 注意事项\n（1）$group阶段的内存限制为100M，默认情况下，如果stage超过此限制，$group将产生错误，但是，要允许处理大型数据集，需要将allowDiskUse选项设置为true以启用$group操作写入临时文件    \n（2）\"$addToSet\": expr如果当前数组中不包含expr，那就将它添加到数组中    \n（3）\"$push\":expr，不管expr的值，都将它添加到数组中，返回包含所有值的数组。\n#### 举例\n```  \ndb.getCollection('test').aggregate([\n    {\n        $group: {\n            _id: {month: {$month: \"$data\"}, day: {$dayOfMonth: \"$date\", year: { $year: \"$date\"}}},\n            totalPrice: {$sum: {$multiply: [\"$price\", \"$quantity\"]}},\n            averageQuantity: {$avg: \"$quantitu\"},\n            count: {$sum: 1}    \n        }\n    }\n])\n```\n#### 数据转换\n（1）可以根据分组把每组转换成item数组    \n``` \ndb.getCollection('test').aggregate([{$group: {_id: '$price', items: {$pish: \"$item\"}}}])\n```\n返回值：    \n``` \n{[\"_id\": 5, \"items\": [\"abc\", \"abc\"]]}\n```\n(2) 可以使用系统变量$$ROOT按item对文档进行分组，生成的文档不得超过BSON文档大小限制    \n``` \ndb.getCollection('test').aggregate([{$group: {_id: \"$item\", books: {$push: \"$$ROOT\"}}}])\n```\n返回值：    \n``` \n/* 1 */\n{\n    \"_id\" : \"xyz\",\n    \"books\" : [ \n        {\n            \"_id\" : 3,\n            \"item\" : \"xyz\",\n            \"price\" : 5,\n            \"quantity\" : 10,\n            \"date\" : ISODate(\"2014-03-15T09:00:00.000Z\")\n        }, \n        {\n            \"_id\" : 4,\n            \"item\" : \"xyz\",\n            \"price\" : 5,\n            \"quantity\" : 20,\n            \"date\" : ISODate(\"2014-04-04T11:21:39.736Z\")\n        }\n    ]\n}\n\n/* 2 */\n{\n    \"_id\" : \"jkl\",\n    \"books\" : [ \n        {\n            \"_id\" : 2,\n            \"item\" : \"jkl\",\n            \"price\" : 20,\n            \"quantity\" : 1,\n            \"date\" : ISODate(\"2014-03-01T09:00:00.000Z\")\n        }\n    ]\n}\n\n/* 3 */\n{\n    \"_id\" : \"abc\",\n    \"books\" : [ \n        {\n            \"_id\" : 1,\n            \"item\" : \"abc\",\n            \"price\" : 10,\n            \"quantity\" : 2,\n            \"date\" : ISODate(\"2014-03-01T08:00:00.000Z\")\n        }, \n        {\n            \"_id\" : 5,\n            \"item\" : \"abc\",\n            \"price\" : 10,\n            \"quantity\" : 10,\n            \"date\" : ISODate(\"2014-04-04T21:23:13.331Z\")\n        }\n    ]\n}\n```\n### count\n返回包含到输出文档的计数\n### sort\n对文档进行排序，按照排序顺序返回管道。    \n1:升序排列    \n-1:降序排列    \n{$meta：“textScore”}按照降序排列计算出的textScore元数据，表达方式唯一，尽管可以在管道中接受表达式，但{ $meta: \"textScore\" }表达式仅在包含具有$text查询的$match阶段的管道中有意义。    \n分析：$text文本搜索，会为包含索引字段中的搜索词的每隔文档匹配一个分数，这个分数表示文档与给定文本搜索查询的相关性\n举例：    \n```\ndb.users.aggregate(\n   [\n     { $match: { $text: { $search: \"operating\" } } },\n     { $sort: { score: { $meta: \"textScore\" }, posts: -1 } }\n   ]\n)\n```\n### $sortByCount\nv3.4新增，根据表达式的值对传入文档分组，计算每个不同组中文档的数量，每个输出文档都包含两个字段：包含不同分组值得_id字段和包含属于该分组或类别的文档数的计数字段，文件按降序排列    \n举例：    \n``` \n db.db_test.aggregate({$sortByCount: '$status'});\n```\n### geoNear\n### lookup\nmongodb在大部分情况下是不需要连表的，但是依然支持连表操作，即:$lookUp\n### out\n### indexStats\n\n## 索引\n## mongodb正则匹配\n## mongodb连接方式\nmongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]\n## mongodb查看版本\nmongod --version\n","source":"_posts/mongoComplex.md","raw":"---\ntitle: mongodb学习记录\ndate: 2019-10-20 18:27:44\ncategories: \n- 数据库\n- mongodb\n---\n# 参考文档\nhttp://www.mongoing.com/docs/reference/operator/aggregation/interface.html    \nhttps://www.cnblogs.com/zhoujie/p/mongo1.html    \nhttps://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html\n# mongodb精准匹配\n假设有需求如下：数据为多层级的数组，需要精准匹配到某一个层级，并进行更新或新增等操作，如何实现？    \n## 实现方式\n当Mongodb版本大于3.6.1，实现将会非常简单，因为mongodb3.6.1以上可以直接通过语句来实现精准匹配。    \n但由于实际场景中版本不支持，当匹配超过一级则会报错：Too many positional (i.e. '$') elements found in path 'files.$.testConstruct.params.list.$.testRange'        \n当版本大于3.6.1，举例：    \n```\ndb.test_db.update(\n    {'_id': {$in: ['1242rererwwr']}, 'files.name': 'test1.json', 'files.testConstruct.params.list.type': 'NewData'},\n    {$set: {'files.$.structuredContent.params.list.$.testRange': {'enable': false, 'min': 14, 'max': 90}}, $currentDate: { updatedDatetime: true }}, { multi: true })\n```\n分析：    \n设置值时，'files.$.testConstruct.params.list.$.testRange'中的第一个\"$\"将会匹配到name=test1.json的数组，第二个\"$\"将会匹配到files.structuredContent.params.list.type=NewData的数组    \n优点： 使用简单，匹配精确，无需代码判断    \n缺点： 适用版本有限制，且由于多级匹配需要更多的条件，而实际业务中不一定能取到这些条件（例如知道要更新的key为testRange但是不知道上级查询条件无法匹配到）    \n如果版本过低，可只匹配第一级，其余的通过代码匹配。    \n当版本小于3.6.1举例：\n```php\n<?php\npublic function batchUpdateContents(string $route, array $ids, string $editor, $updateItems, bool $needPublish): bool\n    {\n        $routes = explode('-', $route);\n        array_shift($routes);\n        $routes[2] = self::TYPE_LIST[$routes[2]];\n        $updateRoute = 'files.$.testConstruct.' . implode('.', $routes);\n        $res = $this->conn->update(['storeId' => ['$in' => $ids], 'files.name' => 'makeup.json', 'files.testConstruct' => ['$ne' => '']],\n            ['$set' => [$updateRoute => $updateItems, 'files.$.editor' => $editor, 'files.$.lastUpdate' => time()], '$currentDate' => [ 'updatedDatetime' =>  true ]], true);\n        if ($res) {\n            // 一些其他操作\n        } else {\n            return false;\n        }\n    }\n?>\n```\n枚举出可能存在的下一级数组值，然后进行匹配。update()方法当参数不存在时会进行新增参数操作。    \n# mongodb聚合\nmongodb的聚合操作可对数据进行一系列操作并返回结果。mongodb提供三种聚合操作：    \naggregation pipeline, map-reduce方法和分片集合\n## aggregation pipeline\n管道操作，基础操作为筛选操作，其他操作：可通过特定的字段来进行分组和排序等\n### $project\n类似于sql的select，筛选出需要查询的字段，例如：{$project: {'name': 1, 'age':1}},也可以排除字段（0）,重命名字段，派生字段    \n（1）<field>: <1 or true>    是否包含该字段，field:1/0，表示选择/不选择 field    \n（2）<field>:<0 or false>    v3.4新增功能，指定排除字段     \n（3）<field>: <expression>  添加新字段或重置现有字段的值。 在版本3.6中更改：MongoDB 3.6添加变量REMOVE。如果表达式的计算结果为$$REMOVE，则该字段将排除在输出中。\n3.6可使用变量REMOVE来有条件地禁止一个字段：    \n```  \ndb.books.aggregate( [\n   {\n      $project: {\n         title: 1,\n         \"author.first\": 1,\n         \"author.last\" : 1,\n         \"author.middle\": {\n            $cond: {\n               if: { $eq: [ \"\", \"$author.middle\" ] },\n               then: \"$$REMOVE\",\n               else: \"$author.middle\"\n            }\n         }\n      }\n   }\n] )\n\n```\n#### 使用$project派生举例    \n```  \ndb.books.aggregate(\n   [\n      {\n         $project: {\n            title: 1,\n            isbn: {\n               prefix: { $substr: [ \"$isbn\", 0, 3 ] },\n               group: { $substr: [ \"$isbn\", 3, 2 ] },\n               publisher: { $substr: [ \"$isbn\", 5, 4 ] },\n               title: { $substr: [ \"$isbn\", 9, 3 ] },\n               checkDigit: { $substr: [ \"$isbn\", 12, 1] }\n            },\n            lastName: \"$author.last\",\n            copiesSold: \"$copies\"\n         }\n      }\n   ]\n)\n```\n#### 投影出新数组：    \n示例数据：\n```  \n{ \"_id\" : ObjectId(\"55ad167f320c6be244eb3b95\"), \"x\" : 1, \"y\" : 1 }\n```\n操作：\n``` \ndb.collection.aggregate( [ { $project: { myArray: [ \"$x\", \"$y\" ] } } ] )\n```\n返回：\n``` \n{ \"_id\" : ObjectId(\"55ad167f320c6be244eb3b95\"), \"myArray\" : [ 1, 1 ] }\n```\n如果返回的数组中包含了不存在的字段，则会返回null\n### $match\n类似于sql中的where，设置查询条件，例如：{$match: {'name': {'$ne': ''}}}    \n$match仅接受一个指定查询条件的文档，查询语法与读操作查询语法相同。    \n#### 语法\n{$match: {<query>}}    \n\n#### 注意事项\n在实际应用中尽可能将$match放在管道的前面位置。这样有两个好处：一是可以快速将不需要的文档过滤掉，以减少管道的工作量；二是如果再投射和分组之前执行$match，查询可以使用索引。    \n#### 限制条件   \n（1）不能在$match查询中使用$作为聚合管道的一部分    \n（2）要在$match阶段使用$text，$match阶段必须是管道的第一阶段\n#### 查询条件介绍\n$gt:大于\n$lt:小于    \n$gte:大于等于     \n$lte:小于等于    \n$in:类似于sql中的in    \n$nin:不在该范围内的键    \n$or:包含多个可能的条件\n### $limit\n限制传递到管道中下一阶段的文档数\n### skip\n跳过指定数量的文档，并将其余文档传递到管道中的下一阶段\n### $unwind\n从输入文档解构数组字段以输出每个元素的文档，即：将数组拆分成单独的文档    \n#### 举例  \n``` \n{\n  $unwind:\n    {\n      path: <field path>,\n      includeArrayIndex: <string>,  #可选,一个新字段的名称用于存放元素的数组索引。该名称不能以$开头。\n      preserveNullAndEmptyArrays: <boolean> #可选，default :false，若为true,如果路径为空，缺少或为空数组，则$unwind输出文档\n\n } \n}\ndb.getCollection('test').aggregate(\n [ { $unwind : \"$sizes\" } ]\n)\n```\n### $group\n#### 释义\n按指定的表达式对文档进行分组，并将每个不同分组的文档输出到下一个阶段。输出文档包含一个_id字段，该字段按键包含不同的组。\n\n输出文档还可以包含计算字段，该字段保存由$group的_id字段分组的一些accumulator表达式的值。 $group不会输出具体的文档而只是统计信息。\n#### 语法\n{ $group: { _id: <expression>, <field1>: { <accumulator1> : <expression1> }, ... } }    \n解析：_id字段必填，可以指定为null，表示为整个输入文档计算累计值，剩余的计算字段是可选的，并使用<accumulator>运算符进行计算。\n#### accumulator操作符\n\n| 名称 |描述 |类比sql\n|  ----  | ----  | ---- |\n| $avg\t        |计算均值     \t                                                            |avg\n| $first        |返回每组第一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的第一个文档。\t|limit 0,1\n| $last\t        |返回每组最后一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的最后个文档。\t|-\n| $max\t        |根据分组，获取集合中所有文档对应值得最大值。\t                                    |max\n| $min\t        |根据分组，获取集合中所有文档对应值得最小值。\t                                    |min\n| $push\t        |将指定的表达式的值添加到一个数组中。\t                                        |-\n| $addToSet \t|将表达式的值添加到一个集合中（无重复值，无序）。\t                                |-\n| $sum\t        |计算总和\t                                                                |sum\n| $stdDevPop\t|返回输入值的总体标准偏差（population standard deviation）\t                    |-\n| $stdDevSamp\t|返回输入值的样本标准偏差（the sample standard deviation）\t                    |-\n#### 注意事项\n（1）$group阶段的内存限制为100M，默认情况下，如果stage超过此限制，$group将产生错误，但是，要允许处理大型数据集，需要将allowDiskUse选项设置为true以启用$group操作写入临时文件    \n（2）\"$addToSet\": expr如果当前数组中不包含expr，那就将它添加到数组中    \n（3）\"$push\":expr，不管expr的值，都将它添加到数组中，返回包含所有值的数组。\n#### 举例\n```  \ndb.getCollection('test').aggregate([\n    {\n        $group: {\n            _id: {month: {$month: \"$data\"}, day: {$dayOfMonth: \"$date\", year: { $year: \"$date\"}}},\n            totalPrice: {$sum: {$multiply: [\"$price\", \"$quantity\"]}},\n            averageQuantity: {$avg: \"$quantitu\"},\n            count: {$sum: 1}    \n        }\n    }\n])\n```\n#### 数据转换\n（1）可以根据分组把每组转换成item数组    \n``` \ndb.getCollection('test').aggregate([{$group: {_id: '$price', items: {$pish: \"$item\"}}}])\n```\n返回值：    \n``` \n{[\"_id\": 5, \"items\": [\"abc\", \"abc\"]]}\n```\n(2) 可以使用系统变量$$ROOT按item对文档进行分组，生成的文档不得超过BSON文档大小限制    \n``` \ndb.getCollection('test').aggregate([{$group: {_id: \"$item\", books: {$push: \"$$ROOT\"}}}])\n```\n返回值：    \n``` \n/* 1 */\n{\n    \"_id\" : \"xyz\",\n    \"books\" : [ \n        {\n            \"_id\" : 3,\n            \"item\" : \"xyz\",\n            \"price\" : 5,\n            \"quantity\" : 10,\n            \"date\" : ISODate(\"2014-03-15T09:00:00.000Z\")\n        }, \n        {\n            \"_id\" : 4,\n            \"item\" : \"xyz\",\n            \"price\" : 5,\n            \"quantity\" : 20,\n            \"date\" : ISODate(\"2014-04-04T11:21:39.736Z\")\n        }\n    ]\n}\n\n/* 2 */\n{\n    \"_id\" : \"jkl\",\n    \"books\" : [ \n        {\n            \"_id\" : 2,\n            \"item\" : \"jkl\",\n            \"price\" : 20,\n            \"quantity\" : 1,\n            \"date\" : ISODate(\"2014-03-01T09:00:00.000Z\")\n        }\n    ]\n}\n\n/* 3 */\n{\n    \"_id\" : \"abc\",\n    \"books\" : [ \n        {\n            \"_id\" : 1,\n            \"item\" : \"abc\",\n            \"price\" : 10,\n            \"quantity\" : 2,\n            \"date\" : ISODate(\"2014-03-01T08:00:00.000Z\")\n        }, \n        {\n            \"_id\" : 5,\n            \"item\" : \"abc\",\n            \"price\" : 10,\n            \"quantity\" : 10,\n            \"date\" : ISODate(\"2014-04-04T21:23:13.331Z\")\n        }\n    ]\n}\n```\n### count\n返回包含到输出文档的计数\n### sort\n对文档进行排序，按照排序顺序返回管道。    \n1:升序排列    \n-1:降序排列    \n{$meta：“textScore”}按照降序排列计算出的textScore元数据，表达方式唯一，尽管可以在管道中接受表达式，但{ $meta: \"textScore\" }表达式仅在包含具有$text查询的$match阶段的管道中有意义。    \n分析：$text文本搜索，会为包含索引字段中的搜索词的每隔文档匹配一个分数，这个分数表示文档与给定文本搜索查询的相关性\n举例：    \n```\ndb.users.aggregate(\n   [\n     { $match: { $text: { $search: \"operating\" } } },\n     { $sort: { score: { $meta: \"textScore\" }, posts: -1 } }\n   ]\n)\n```\n### $sortByCount\nv3.4新增，根据表达式的值对传入文档分组，计算每个不同组中文档的数量，每个输出文档都包含两个字段：包含不同分组值得_id字段和包含属于该分组或类别的文档数的计数字段，文件按降序排列    \n举例：    \n``` \n db.db_test.aggregate({$sortByCount: '$status'});\n```\n### geoNear\n### lookup\nmongodb在大部分情况下是不需要连表的，但是依然支持连表操作，即:$lookUp\n### out\n### indexStats\n\n## 索引\n## mongodb正则匹配\n## mongodb连接方式\nmongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]\n## mongodb查看版本\nmongod --version\n","slug":"mongoComplex","published":1,"updated":"2019-12-10T01:49:46.547Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwso002pd87p4dcbpf2i","content":"<h1 id=\"参考文档\"><a href=\"#参考文档\" class=\"headerlink\" title=\"参考文档\"></a>参考文档</h1><p><a href=\"http://www.mongoing.com/docs/reference/operator/aggregation/interface.html\" target=\"_blank\" rel=\"noopener\">http://www.mongoing.com/docs/reference/operator/aggregation/interface.html</a><br><a href=\"https://www.cnblogs.com/zhoujie/p/mongo1.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/zhoujie/p/mongo1.html</a><br><a href=\"https://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html\" target=\"_blank\" rel=\"noopener\">https://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html</a></p>\n<h1 id=\"mongodb精准匹配\"><a href=\"#mongodb精准匹配\" class=\"headerlink\" title=\"mongodb精准匹配\"></a>mongodb精准匹配</h1><p>假设有需求如下：数据为多层级的数组，需要精准匹配到某一个层级，并进行更新或新增等操作，如何实现？    </p>\n<h2 id=\"实现方式\"><a href=\"#实现方式\" class=\"headerlink\" title=\"实现方式\"></a>实现方式</h2><p>当Mongodb版本大于3.6.1，实现将会非常简单，因为mongodb3.6.1以上可以直接通过语句来实现精准匹配。<br>但由于实际场景中版本不支持，当匹配超过一级则会报错：Too many positional (i.e. ‘$’) elements found in path ‘files.$.testConstruct.params.list.$.testRange’<br>当版本大于3.6.1，举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.test_db.update(</span><br><span class=\"line\">    &#123;&apos;_id&apos;: &#123;$in: [&apos;1242rererwwr&apos;]&#125;, &apos;files.name&apos;: &apos;test1.json&apos;, &apos;files.testConstruct.params.list.type&apos;: &apos;NewData&apos;&#125;,</span><br><span class=\"line\">    &#123;$set: &#123;&apos;files.$.structuredContent.params.list.$.testRange&apos;: &#123;&apos;enable&apos;: false, &apos;min&apos;: 14, &apos;max&apos;: 90&#125;&#125;, $currentDate: &#123; updatedDatetime: true &#125;&#125;, &#123; multi: true &#125;)</span><br></pre></td></tr></table></figure></p>\n<p>分析：<br>设置值时，’files.$.testConstruct.params.list.$.testRange’中的第一个”$”将会匹配到name=test1.json的数组，第二个”$”将会匹配到files.structuredContent.params.list.type=NewData的数组<br>优点： 使用简单，匹配精确，无需代码判断<br>缺点： 适用版本有限制，且由于多级匹配需要更多的条件，而实际业务中不一定能取到这些条件（例如知道要更新的key为testRange但是不知道上级查询条件无法匹配到）<br>如果版本过低，可只匹配第一级，其余的通过代码匹配。<br>当版本小于3.6.1举例：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">batchUpdateContents</span><span class=\"params\">(string $route, array $ids, string $editor, $updateItems, bool $needPublish)</span>: <span class=\"title\">bool</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $routes = explode(<span class=\"string\">'-'</span>, $route);</span><br><span class=\"line\">        array_shift($routes);</span><br><span class=\"line\">        $routes[<span class=\"number\">2</span>] = <span class=\"keyword\">self</span>::TYPE_LIST[$routes[<span class=\"number\">2</span>]];</span><br><span class=\"line\">        $updateRoute = <span class=\"string\">'files.$.testConstruct.'</span> . implode(<span class=\"string\">'.'</span>, $routes);</span><br><span class=\"line\">        $res = <span class=\"keyword\">$this</span>-&gt;conn-&gt;update([<span class=\"string\">'storeId'</span> =&gt; [<span class=\"string\">'$in'</span> =&gt; $ids], <span class=\"string\">'files.name'</span> =&gt; <span class=\"string\">'makeup.json'</span>, <span class=\"string\">'files.testConstruct'</span> =&gt; [<span class=\"string\">'$ne'</span> =&gt; <span class=\"string\">''</span>]],</span><br><span class=\"line\">            [<span class=\"string\">'$set'</span> =&gt; [$updateRoute =&gt; $updateItems, <span class=\"string\">'files.$.editor'</span> =&gt; $editor, <span class=\"string\">'files.$.lastUpdate'</span> =&gt; time()], <span class=\"string\">'$currentDate'</span> =&gt; [ <span class=\"string\">'updatedDatetime'</span> =&gt;  <span class=\"keyword\">true</span> ]], <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($res) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 一些其他操作</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>枚举出可能存在的下一级数组值，然后进行匹配。update()方法当参数不存在时会进行新增参数操作。    </p>\n<h1 id=\"mongodb聚合\"><a href=\"#mongodb聚合\" class=\"headerlink\" title=\"mongodb聚合\"></a>mongodb聚合</h1><p>mongodb的聚合操作可对数据进行一系列操作并返回结果。mongodb提供三种聚合操作：<br>aggregation pipeline, map-reduce方法和分片集合</p>\n<h2 id=\"aggregation-pipeline\"><a href=\"#aggregation-pipeline\" class=\"headerlink\" title=\"aggregation pipeline\"></a>aggregation pipeline</h2><p>管道操作，基础操作为筛选操作，其他操作：可通过特定的字段来进行分组和排序等</p>\n<h3 id=\"project\"><a href=\"#project\" class=\"headerlink\" title=\"$project\"></a>$project</h3><p>类似于sql的select，筛选出需要查询的字段，例如：{$project: {‘name’: 1, ‘age’:1}},也可以排除字段（0）,重命名字段，派生字段<br>（1）<field>: <1 or=\"\" true=\"\">    是否包含该字段，field:1/0，表示选择/不选择 field<br>（2）<field>:<0 or=\"\" false=\"\">    v3.4新增功能，指定排除字段<br>（3）<field>: <expression>  添加新字段或重置现有字段的值。 在版本3.6中更改：MongoDB 3.6添加变量REMOVE。如果表达式的计算结果为$$REMOVE，则该字段将排除在输出中。<br>3.6可使用变量REMOVE来有条件地禁止一个字段：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.books.aggregate( [</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      $project: &#123;</span><br><span class=\"line\">         title: 1,</span><br><span class=\"line\">         &quot;author.first&quot;: 1,</span><br><span class=\"line\">         &quot;author.last&quot; : 1,</span><br><span class=\"line\">         &quot;author.middle&quot;: &#123;</span><br><span class=\"line\">            $cond: &#123;</span><br><span class=\"line\">               if: &#123; $eq: [ &quot;&quot;, &quot;$author.middle&quot; ] &#125;,</span><br><span class=\"line\">               then: &quot;$$REMOVE&quot;,</span><br><span class=\"line\">               else: &quot;$author.middle&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">] )</span><br></pre></td></tr></table></figure></expression></field></0></field></1></field></p>\n<h4 id=\"使用-project派生举例\"><a href=\"#使用-project派生举例\" class=\"headerlink\" title=\"使用$project派生举例\"></a>使用$project派生举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.books.aggregate(</span><br><span class=\"line\">   [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         $project: &#123;</span><br><span class=\"line\">            title: 1,</span><br><span class=\"line\">            isbn: &#123;</span><br><span class=\"line\">               prefix: &#123; $substr: [ &quot;$isbn&quot;, 0, 3 ] &#125;,</span><br><span class=\"line\">               group: &#123; $substr: [ &quot;$isbn&quot;, 3, 2 ] &#125;,</span><br><span class=\"line\">               publisher: &#123; $substr: [ &quot;$isbn&quot;, 5, 4 ] &#125;,</span><br><span class=\"line\">               title: &#123; $substr: [ &quot;$isbn&quot;, 9, 3 ] &#125;,</span><br><span class=\"line\">               checkDigit: &#123; $substr: [ &quot;$isbn&quot;, 12, 1] &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            lastName: &quot;$author.last&quot;,</span><br><span class=\"line\">            copiesSold: &quot;$copies&quot;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h4 id=\"投影出新数组：\"><a href=\"#投影出新数组：\" class=\"headerlink\" title=\"投影出新数组：\"></a>投影出新数组：</h4><p>示例数据：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; &quot;_id&quot; : ObjectId(&quot;55ad167f320c6be244eb3b95&quot;), &quot;x&quot; : 1, &quot;y&quot; : 1 &#125;</span><br></pre></td></tr></table></figure></p>\n<p>操作：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.aggregate( [ &#123; $project: &#123; myArray: [ &quot;$x&quot;, &quot;$y&quot; ] &#125; &#125; ] )</span><br></pre></td></tr></table></figure></p>\n<p>返回：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; &quot;_id&quot; : ObjectId(&quot;55ad167f320c6be244eb3b95&quot;), &quot;myArray&quot; : [ 1, 1 ] &#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果返回的数组中包含了不存在的字段，则会返回null</p>\n<h3 id=\"match\"><a href=\"#match\" class=\"headerlink\" title=\"$match\"></a>$match</h3><p>类似于sql中的where，设置查询条件，例如：{$match: {‘name’: {‘$ne’: ‘’}}}<br>$match仅接受一个指定查询条件的文档，查询语法与读操作查询语法相同。    </p>\n<h4 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h4><p>{$match: {<query>}}    </query></p>\n<h4 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h4><p>在实际应用中尽可能将$match放在管道的前面位置。这样有两个好处：一是可以快速将不需要的文档过滤掉，以减少管道的工作量；二是如果再投射和分组之前执行$match，查询可以使用索引。    </p>\n<h4 id=\"限制条件\"><a href=\"#限制条件\" class=\"headerlink\" title=\"限制条件\"></a>限制条件</h4><p>（1）不能在$match查询中使用$作为聚合管道的一部分<br>（2）要在$match阶段使用$text，$match阶段必须是管道的第一阶段</p>\n<h4 id=\"查询条件介绍\"><a href=\"#查询条件介绍\" class=\"headerlink\" title=\"查询条件介绍\"></a>查询条件介绍</h4><p>$gt:大于<br>$lt:小于<br>$gte:大于等于<br>$lte:小于等于<br>$in:类似于sql中的in<br>$nin:不在该范围内的键<br>$or:包含多个可能的条件</p>\n<h3 id=\"limit\"><a href=\"#limit\" class=\"headerlink\" title=\"$limit\"></a>$limit</h3><p>限制传递到管道中下一阶段的文档数</p>\n<h3 id=\"skip\"><a href=\"#skip\" class=\"headerlink\" title=\"skip\"></a>skip</h3><p>跳过指定数量的文档，并将其余文档传递到管道中的下一阶段</p>\n<h3 id=\"unwind\"><a href=\"#unwind\" class=\"headerlink\" title=\"$unwind\"></a>$unwind</h3><p>从输入文档解构数组字段以输出每个元素的文档，即：将数组拆分成单独的文档    </p>\n<h4 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  $unwind:</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: &lt;field path&gt;,</span><br><span class=\"line\">      includeArrayIndex: &lt;string&gt;,  #可选,一个新字段的名称用于存放元素的数组索引。该名称不能以$开头。</span><br><span class=\"line\">      preserveNullAndEmptyArrays: &lt;boolean&gt; #可选，default :false，若为true,如果路径为空，缺少或为空数组，则$unwind输出文档</span><br><span class=\"line\"></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate(</span><br><span class=\"line\"> [ &#123; $unwind : &quot;$sizes&quot; &#125; ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"group\"><a href=\"#group\" class=\"headerlink\" title=\"$group\"></a>$group</h3><h4 id=\"释义\"><a href=\"#释义\" class=\"headerlink\" title=\"释义\"></a>释义</h4><p>按指定的表达式对文档进行分组，并将每个不同分组的文档输出到下一个阶段。输出文档包含一个_id字段，该字段按键包含不同的组。</p>\n<p>输出文档还可以包含计算字段，该字段保存由$group的_id字段分组的一些accumulator表达式的值。 $group不会输出具体的文档而只是统计信息。</p>\n<h4 id=\"语法-1\"><a href=\"#语法-1\" class=\"headerlink\" title=\"语法\"></a>语法</h4><p>{ $group: { _id: <expression>, <field1>: { <accumulator1> : <expression1> }, … } }<br>解析：_id字段必填，可以指定为null，表示为整个输入文档计算累计值，剩余的计算字段是可选的，并使用<accumulator>运算符进行计算。</accumulator></expression1></accumulator1></field1></expression></p>\n<h4 id=\"accumulator操作符\"><a href=\"#accumulator操作符\" class=\"headerlink\" title=\"accumulator操作符\"></a>accumulator操作符</h4><table>\n<thead>\n<tr>\n<th>名称</th>\n<th>描述</th>\n<th>类比sql</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$avg</td>\n<td>计算均值</td>\n<td>avg</td>\n</tr>\n<tr>\n<td>$first</td>\n<td>返回每组第一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的第一个文档。</td>\n<td>limit 0,1</td>\n</tr>\n<tr>\n<td>$last</td>\n<td>返回每组最后一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的最后个文档。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$max</td>\n<td>根据分组，获取集合中所有文档对应值得最大值。</td>\n<td>max</td>\n</tr>\n<tr>\n<td>$min</td>\n<td>根据分组，获取集合中所有文档对应值得最小值。</td>\n<td>min</td>\n</tr>\n<tr>\n<td>$push</td>\n<td>将指定的表达式的值添加到一个数组中。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$addToSet</td>\n<td>将表达式的值添加到一个集合中（无重复值，无序）。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$sum</td>\n<td>计算总和</td>\n<td>sum</td>\n</tr>\n<tr>\n<td>$stdDevPop</td>\n<td>返回输入值的总体标准偏差（population standard deviation）</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$stdDevSamp</td>\n<td>返回输入值的样本标准偏差（the sample standard deviation）</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"注意事项-1\"><a href=\"#注意事项-1\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h4><p>（1）$group阶段的内存限制为100M，默认情况下，如果stage超过此限制，$group将产生错误，但是，要允许处理大型数据集，需要将allowDiskUse选项设置为true以启用$group操作写入临时文件<br>（2）”$addToSet”: expr如果当前数组中不包含expr，那就将它添加到数组中<br>（3）”$push”:expr，不管expr的值，都将它添加到数组中，返回包含所有值的数组。</p>\n<h4 id=\"举例-1\"><a href=\"#举例-1\" class=\"headerlink\" title=\"举例\"></a>举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $group: &#123;</span><br><span class=\"line\">            _id: &#123;month: &#123;$month: &quot;$data&quot;&#125;, day: &#123;$dayOfMonth: &quot;$date&quot;, year: &#123; $year: &quot;$date&quot;&#125;&#125;&#125;,</span><br><span class=\"line\">            totalPrice: &#123;$sum: &#123;$multiply: [&quot;$price&quot;, &quot;$quantity&quot;]&#125;&#125;,</span><br><span class=\"line\">            averageQuantity: &#123;$avg: &quot;$quantitu&quot;&#125;,</span><br><span class=\"line\">            count: &#123;$sum: 1&#125;    </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h4 id=\"数据转换\"><a href=\"#数据转换\" class=\"headerlink\" title=\"数据转换\"></a>数据转换</h4><p>（1）可以根据分组把每组转换成item数组<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([&#123;$group: &#123;_id: &apos;$price&apos;, items: &#123;$pish: &quot;$item&quot;&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure></p>\n<p>返回值：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;[&quot;_id&quot;: 5, &quot;items&quot;: [&quot;abc&quot;, &quot;abc&quot;]]&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(2) 可以使用系统变量$$ROOT按item对文档进行分组，生成的文档不得超过BSON文档大小限制<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([&#123;$group: &#123;_id: &quot;$item&quot;, books: &#123;$push: &quot;$$ROOT&quot;&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure></p>\n<p>返回值：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 1 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 3,</span><br><span class=\"line\">            &quot;item&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 5,</span><br><span class=\"line\">            &quot;quantity&quot; : 10,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-15T09:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 4,</span><br><span class=\"line\">            &quot;item&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 5,</span><br><span class=\"line\">            &quot;quantity&quot; : 20,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-04-04T11:21:39.736Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/* 2 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;jkl&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 2,</span><br><span class=\"line\">            &quot;item&quot; : &quot;jkl&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 20,</span><br><span class=\"line\">            &quot;quantity&quot; : 1,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-01T09:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/* 3 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;abc&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 1,</span><br><span class=\"line\">            &quot;item&quot; : &quot;abc&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 10,</span><br><span class=\"line\">            &quot;quantity&quot; : 2,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-01T08:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 5,</span><br><span class=\"line\">            &quot;item&quot; : &quot;abc&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 10,</span><br><span class=\"line\">            &quot;quantity&quot; : 10,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-04-04T21:23:13.331Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"count\"><a href=\"#count\" class=\"headerlink\" title=\"count\"></a>count</h3><p>返回包含到输出文档的计数</p>\n<h3 id=\"sort\"><a href=\"#sort\" class=\"headerlink\" title=\"sort\"></a>sort</h3><p>对文档进行排序，按照排序顺序返回管道。<br>1:升序排列<br>-1:降序排列<br>{$meta：“textScore”}按照降序排列计算出的textScore元数据，表达方式唯一，尽管可以在管道中接受表达式，但{ $meta: “textScore” }表达式仅在包含具有$text查询的$match阶段的管道中有意义。<br>分析：$text文本搜索，会为包含索引字段中的搜索词的每隔文档匹配一个分数，这个分数表示文档与给定文本搜索查询的相关性<br>举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.aggregate(</span><br><span class=\"line\">   [</span><br><span class=\"line\">     &#123; $match: &#123; $text: &#123; $search: &quot;operating&quot; &#125; &#125; &#125;,</span><br><span class=\"line\">     &#123; $sort: &#123; score: &#123; $meta: &quot;textScore&quot; &#125;, posts: -1 &#125; &#125;</span><br><span class=\"line\">   ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"sortByCount\"><a href=\"#sortByCount\" class=\"headerlink\" title=\"$sortByCount\"></a>$sortByCount</h3><p>v3.4新增，根据表达式的值对传入文档分组，计算每个不同组中文档的数量，每个输出文档都包含两个字段：包含不同分组值得_id字段和包含属于该分组或类别的文档数的计数字段，文件按降序排列<br>举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.db_test.aggregate(&#123;$sortByCount: &apos;$status&apos;&#125;);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"geoNear\"><a href=\"#geoNear\" class=\"headerlink\" title=\"geoNear\"></a>geoNear</h3><h3 id=\"lookup\"><a href=\"#lookup\" class=\"headerlink\" title=\"lookup\"></a>lookup</h3><p>mongodb在大部分情况下是不需要连表的，但是依然支持连表操作，即:$lookUp</p>\n<h3 id=\"out\"><a href=\"#out\" class=\"headerlink\" title=\"out\"></a>out</h3><h3 id=\"indexStats\"><a href=\"#indexStats\" class=\"headerlink\" title=\"indexStats\"></a>indexStats</h3><h2 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h2><h2 id=\"mongodb正则匹配\"><a href=\"#mongodb正则匹配\" class=\"headerlink\" title=\"mongodb正则匹配\"></a>mongodb正则匹配</h2><h2 id=\"mongodb连接方式\"><a href=\"#mongodb连接方式\" class=\"headerlink\" title=\"mongodb连接方式\"></a>mongodb连接方式</h2><p>mongodb://[username:password@]host1[:port1][,host2[:port2],…[,hostN[:portN]]][/[database][?options]]</p>\n<h2 id=\"mongodb查看版本\"><a href=\"#mongodb查看版本\" class=\"headerlink\" title=\"mongodb查看版本\"></a>mongodb查看版本</h2><p>mongod –version</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"参考文档\"><a href=\"#参考文档\" class=\"headerlink\" title=\"参考文档\"></a>参考文档</h1><p><a href=\"http://www.mongoing.com/docs/reference/operator/aggregation/interface.html\" target=\"_blank\" rel=\"noopener\">http://www.mongoing.com/docs/reference/operator/aggregation/interface.html</a><br><a href=\"https://www.cnblogs.com/zhoujie/p/mongo1.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/zhoujie/p/mongo1.html</a><br><a href=\"https://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html\" target=\"_blank\" rel=\"noopener\">https://www.docs4dev.com/docs/zh/mongodb/v3.6/reference/tutorial-text-search-in-aggregation.html</a></p>\n<h1 id=\"mongodb精准匹配\"><a href=\"#mongodb精准匹配\" class=\"headerlink\" title=\"mongodb精准匹配\"></a>mongodb精准匹配</h1><p>假设有需求如下：数据为多层级的数组，需要精准匹配到某一个层级，并进行更新或新增等操作，如何实现？    </p>\n<h2 id=\"实现方式\"><a href=\"#实现方式\" class=\"headerlink\" title=\"实现方式\"></a>实现方式</h2><p>当Mongodb版本大于3.6.1，实现将会非常简单，因为mongodb3.6.1以上可以直接通过语句来实现精准匹配。<br>但由于实际场景中版本不支持，当匹配超过一级则会报错：Too many positional (i.e. ‘$’) elements found in path ‘files.$.testConstruct.params.list.$.testRange’<br>当版本大于3.6.1，举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.test_db.update(</span><br><span class=\"line\">    &#123;&apos;_id&apos;: &#123;$in: [&apos;1242rererwwr&apos;]&#125;, &apos;files.name&apos;: &apos;test1.json&apos;, &apos;files.testConstruct.params.list.type&apos;: &apos;NewData&apos;&#125;,</span><br><span class=\"line\">    &#123;$set: &#123;&apos;files.$.structuredContent.params.list.$.testRange&apos;: &#123;&apos;enable&apos;: false, &apos;min&apos;: 14, &apos;max&apos;: 90&#125;&#125;, $currentDate: &#123; updatedDatetime: true &#125;&#125;, &#123; multi: true &#125;)</span><br></pre></td></tr></table></figure></p>\n<p>分析：<br>设置值时，’files.$.testConstruct.params.list.$.testRange’中的第一个”$”将会匹配到name=test1.json的数组，第二个”$”将会匹配到files.structuredContent.params.list.type=NewData的数组<br>优点： 使用简单，匹配精确，无需代码判断<br>缺点： 适用版本有限制，且由于多级匹配需要更多的条件，而实际业务中不一定能取到这些条件（例如知道要更新的key为testRange但是不知道上级查询条件无法匹配到）<br>如果版本过低，可只匹配第一级，其余的通过代码匹配。<br>当版本小于3.6.1举例：<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">batchUpdateContents</span><span class=\"params\">(string $route, array $ids, string $editor, $updateItems, bool $needPublish)</span>: <span class=\"title\">bool</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        $routes = explode(<span class=\"string\">'-'</span>, $route);</span><br><span class=\"line\">        array_shift($routes);</span><br><span class=\"line\">        $routes[<span class=\"number\">2</span>] = <span class=\"keyword\">self</span>::TYPE_LIST[$routes[<span class=\"number\">2</span>]];</span><br><span class=\"line\">        $updateRoute = <span class=\"string\">'files.$.testConstruct.'</span> . implode(<span class=\"string\">'.'</span>, $routes);</span><br><span class=\"line\">        $res = <span class=\"keyword\">$this</span>-&gt;conn-&gt;update([<span class=\"string\">'storeId'</span> =&gt; [<span class=\"string\">'$in'</span> =&gt; $ids], <span class=\"string\">'files.name'</span> =&gt; <span class=\"string\">'makeup.json'</span>, <span class=\"string\">'files.testConstruct'</span> =&gt; [<span class=\"string\">'$ne'</span> =&gt; <span class=\"string\">''</span>]],</span><br><span class=\"line\">            [<span class=\"string\">'$set'</span> =&gt; [$updateRoute =&gt; $updateItems, <span class=\"string\">'files.$.editor'</span> =&gt; $editor, <span class=\"string\">'files.$.lastUpdate'</span> =&gt; time()], <span class=\"string\">'$currentDate'</span> =&gt; [ <span class=\"string\">'updatedDatetime'</span> =&gt;  <span class=\"keyword\">true</span> ]], <span class=\"keyword\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($res) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 一些其他操作</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>枚举出可能存在的下一级数组值，然后进行匹配。update()方法当参数不存在时会进行新增参数操作。    </p>\n<h1 id=\"mongodb聚合\"><a href=\"#mongodb聚合\" class=\"headerlink\" title=\"mongodb聚合\"></a>mongodb聚合</h1><p>mongodb的聚合操作可对数据进行一系列操作并返回结果。mongodb提供三种聚合操作：<br>aggregation pipeline, map-reduce方法和分片集合</p>\n<h2 id=\"aggregation-pipeline\"><a href=\"#aggregation-pipeline\" class=\"headerlink\" title=\"aggregation pipeline\"></a>aggregation pipeline</h2><p>管道操作，基础操作为筛选操作，其他操作：可通过特定的字段来进行分组和排序等</p>\n<h3 id=\"project\"><a href=\"#project\" class=\"headerlink\" title=\"$project\"></a>$project</h3><p>类似于sql的select，筛选出需要查询的字段，例如：{$project: {‘name’: 1, ‘age’:1}},也可以排除字段（0）,重命名字段，派生字段<br>（1）<field>: <1 or=\"\" true=\"\">    是否包含该字段，field:1/0，表示选择/不选择 field<br>（2）<field>:<0 or=\"\" false=\"\">    v3.4新增功能，指定排除字段<br>（3）<field>: <expression>  添加新字段或重置现有字段的值。 在版本3.6中更改：MongoDB 3.6添加变量REMOVE。如果表达式的计算结果为$$REMOVE，则该字段将排除在输出中。<br>3.6可使用变量REMOVE来有条件地禁止一个字段：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.books.aggregate( [</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      $project: &#123;</span><br><span class=\"line\">         title: 1,</span><br><span class=\"line\">         &quot;author.first&quot;: 1,</span><br><span class=\"line\">         &quot;author.last&quot; : 1,</span><br><span class=\"line\">         &quot;author.middle&quot;: &#123;</span><br><span class=\"line\">            $cond: &#123;</span><br><span class=\"line\">               if: &#123; $eq: [ &quot;&quot;, &quot;$author.middle&quot; ] &#125;,</span><br><span class=\"line\">               then: &quot;$$REMOVE&quot;,</span><br><span class=\"line\">               else: &quot;$author.middle&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">] )</span><br></pre></td></tr></table></figure></expression></field></0></field></1></field></p>\n<h4 id=\"使用-project派生举例\"><a href=\"#使用-project派生举例\" class=\"headerlink\" title=\"使用$project派生举例\"></a>使用$project派生举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.books.aggregate(</span><br><span class=\"line\">   [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         $project: &#123;</span><br><span class=\"line\">            title: 1,</span><br><span class=\"line\">            isbn: &#123;</span><br><span class=\"line\">               prefix: &#123; $substr: [ &quot;$isbn&quot;, 0, 3 ] &#125;,</span><br><span class=\"line\">               group: &#123; $substr: [ &quot;$isbn&quot;, 3, 2 ] &#125;,</span><br><span class=\"line\">               publisher: &#123; $substr: [ &quot;$isbn&quot;, 5, 4 ] &#125;,</span><br><span class=\"line\">               title: &#123; $substr: [ &quot;$isbn&quot;, 9, 3 ] &#125;,</span><br><span class=\"line\">               checkDigit: &#123; $substr: [ &quot;$isbn&quot;, 12, 1] &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            lastName: &quot;$author.last&quot;,</span><br><span class=\"line\">            copiesSold: &quot;$copies&quot;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">   ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h4 id=\"投影出新数组：\"><a href=\"#投影出新数组：\" class=\"headerlink\" title=\"投影出新数组：\"></a>投影出新数组：</h4><p>示例数据：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; &quot;_id&quot; : ObjectId(&quot;55ad167f320c6be244eb3b95&quot;), &quot;x&quot; : 1, &quot;y&quot; : 1 &#125;</span><br></pre></td></tr></table></figure></p>\n<p>操作：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.aggregate( [ &#123; $project: &#123; myArray: [ &quot;$x&quot;, &quot;$y&quot; ] &#125; &#125; ] )</span><br></pre></td></tr></table></figure></p>\n<p>返回：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; &quot;_id&quot; : ObjectId(&quot;55ad167f320c6be244eb3b95&quot;), &quot;myArray&quot; : [ 1, 1 ] &#125;</span><br></pre></td></tr></table></figure></p>\n<p>如果返回的数组中包含了不存在的字段，则会返回null</p>\n<h3 id=\"match\"><a href=\"#match\" class=\"headerlink\" title=\"$match\"></a>$match</h3><p>类似于sql中的where，设置查询条件，例如：{$match: {‘name’: {‘$ne’: ‘’}}}<br>$match仅接受一个指定查询条件的文档，查询语法与读操作查询语法相同。    </p>\n<h4 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h4><p>{$match: {<query>}}    </query></p>\n<h4 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h4><p>在实际应用中尽可能将$match放在管道的前面位置。这样有两个好处：一是可以快速将不需要的文档过滤掉，以减少管道的工作量；二是如果再投射和分组之前执行$match，查询可以使用索引。    </p>\n<h4 id=\"限制条件\"><a href=\"#限制条件\" class=\"headerlink\" title=\"限制条件\"></a>限制条件</h4><p>（1）不能在$match查询中使用$作为聚合管道的一部分<br>（2）要在$match阶段使用$text，$match阶段必须是管道的第一阶段</p>\n<h4 id=\"查询条件介绍\"><a href=\"#查询条件介绍\" class=\"headerlink\" title=\"查询条件介绍\"></a>查询条件介绍</h4><p>$gt:大于<br>$lt:小于<br>$gte:大于等于<br>$lte:小于等于<br>$in:类似于sql中的in<br>$nin:不在该范围内的键<br>$or:包含多个可能的条件</p>\n<h3 id=\"limit\"><a href=\"#limit\" class=\"headerlink\" title=\"$limit\"></a>$limit</h3><p>限制传递到管道中下一阶段的文档数</p>\n<h3 id=\"skip\"><a href=\"#skip\" class=\"headerlink\" title=\"skip\"></a>skip</h3><p>跳过指定数量的文档，并将其余文档传递到管道中的下一阶段</p>\n<h3 id=\"unwind\"><a href=\"#unwind\" class=\"headerlink\" title=\"$unwind\"></a>$unwind</h3><p>从输入文档解构数组字段以输出每个元素的文档，即：将数组拆分成单独的文档    </p>\n<h4 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  $unwind:</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: &lt;field path&gt;,</span><br><span class=\"line\">      includeArrayIndex: &lt;string&gt;,  #可选,一个新字段的名称用于存放元素的数组索引。该名称不能以$开头。</span><br><span class=\"line\">      preserveNullAndEmptyArrays: &lt;boolean&gt; #可选，default :false，若为true,如果路径为空，缺少或为空数组，则$unwind输出文档</span><br><span class=\"line\"></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate(</span><br><span class=\"line\"> [ &#123; $unwind : &quot;$sizes&quot; &#125; ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h3 id=\"group\"><a href=\"#group\" class=\"headerlink\" title=\"$group\"></a>$group</h3><h4 id=\"释义\"><a href=\"#释义\" class=\"headerlink\" title=\"释义\"></a>释义</h4><p>按指定的表达式对文档进行分组，并将每个不同分组的文档输出到下一个阶段。输出文档包含一个_id字段，该字段按键包含不同的组。</p>\n<p>输出文档还可以包含计算字段，该字段保存由$group的_id字段分组的一些accumulator表达式的值。 $group不会输出具体的文档而只是统计信息。</p>\n<h4 id=\"语法-1\"><a href=\"#语法-1\" class=\"headerlink\" title=\"语法\"></a>语法</h4><p>{ $group: { _id: <expression>, <field1>: { <accumulator1> : <expression1> }, … } }<br>解析：_id字段必填，可以指定为null，表示为整个输入文档计算累计值，剩余的计算字段是可选的，并使用<accumulator>运算符进行计算。</accumulator></expression1></accumulator1></field1></expression></p>\n<h4 id=\"accumulator操作符\"><a href=\"#accumulator操作符\" class=\"headerlink\" title=\"accumulator操作符\"></a>accumulator操作符</h4><table>\n<thead>\n<tr>\n<th>名称</th>\n<th>描述</th>\n<th>类比sql</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$avg</td>\n<td>计算均值</td>\n<td>avg</td>\n</tr>\n<tr>\n<td>$first</td>\n<td>返回每组第一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的第一个文档。</td>\n<td>limit 0,1</td>\n</tr>\n<tr>\n<td>$last</td>\n<td>返回每组最后一个文档，如果有排序，按照排序，如果没有按照默认的存储的顺序的最后个文档。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$max</td>\n<td>根据分组，获取集合中所有文档对应值得最大值。</td>\n<td>max</td>\n</tr>\n<tr>\n<td>$min</td>\n<td>根据分组，获取集合中所有文档对应值得最小值。</td>\n<td>min</td>\n</tr>\n<tr>\n<td>$push</td>\n<td>将指定的表达式的值添加到一个数组中。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$addToSet</td>\n<td>将表达式的值添加到一个集合中（无重复值，无序）。</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$sum</td>\n<td>计算总和</td>\n<td>sum</td>\n</tr>\n<tr>\n<td>$stdDevPop</td>\n<td>返回输入值的总体标准偏差（population standard deviation）</td>\n<td>-</td>\n</tr>\n<tr>\n<td>$stdDevSamp</td>\n<td>返回输入值的样本标准偏差（the sample standard deviation）</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"注意事项-1\"><a href=\"#注意事项-1\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h4><p>（1）$group阶段的内存限制为100M，默认情况下，如果stage超过此限制，$group将产生错误，但是，要允许处理大型数据集，需要将allowDiskUse选项设置为true以启用$group操作写入临时文件<br>（2）”$addToSet”: expr如果当前数组中不包含expr，那就将它添加到数组中<br>（3）”$push”:expr，不管expr的值，都将它添加到数组中，返回包含所有值的数组。</p>\n<h4 id=\"举例-1\"><a href=\"#举例-1\" class=\"headerlink\" title=\"举例\"></a>举例</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $group: &#123;</span><br><span class=\"line\">            _id: &#123;month: &#123;$month: &quot;$data&quot;&#125;, day: &#123;$dayOfMonth: &quot;$date&quot;, year: &#123; $year: &quot;$date&quot;&#125;&#125;&#125;,</span><br><span class=\"line\">            totalPrice: &#123;$sum: &#123;$multiply: [&quot;$price&quot;, &quot;$quantity&quot;]&#125;&#125;,</span><br><span class=\"line\">            averageQuantity: &#123;$avg: &quot;$quantitu&quot;&#125;,</span><br><span class=\"line\">            count: &#123;$sum: 1&#125;    </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<h4 id=\"数据转换\"><a href=\"#数据转换\" class=\"headerlink\" title=\"数据转换\"></a>数据转换</h4><p>（1）可以根据分组把每组转换成item数组<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([&#123;$group: &#123;_id: &apos;$price&apos;, items: &#123;$pish: &quot;$item&quot;&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure></p>\n<p>返回值：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;[&quot;_id&quot;: 5, &quot;items&quot;: [&quot;abc&quot;, &quot;abc&quot;]]&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(2) 可以使用系统变量$$ROOT按item对文档进行分组，生成的文档不得超过BSON文档大小限制<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getCollection(&apos;test&apos;).aggregate([&#123;$group: &#123;_id: &quot;$item&quot;, books: &#123;$push: &quot;$$ROOT&quot;&#125;&#125;&#125;])</span><br></pre></td></tr></table></figure></p>\n<p>返回值：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 1 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 3,</span><br><span class=\"line\">            &quot;item&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 5,</span><br><span class=\"line\">            &quot;quantity&quot; : 10,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-15T09:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 4,</span><br><span class=\"line\">            &quot;item&quot; : &quot;xyz&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 5,</span><br><span class=\"line\">            &quot;quantity&quot; : 20,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-04-04T11:21:39.736Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/* 2 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;jkl&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 2,</span><br><span class=\"line\">            &quot;item&quot; : &quot;jkl&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 20,</span><br><span class=\"line\">            &quot;quantity&quot; : 1,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-01T09:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/* 3 */</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;_id&quot; : &quot;abc&quot;,</span><br><span class=\"line\">    &quot;books&quot; : [ </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 1,</span><br><span class=\"line\">            &quot;item&quot; : &quot;abc&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 10,</span><br><span class=\"line\">            &quot;quantity&quot; : 2,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-03-01T08:00:00.000Z&quot;)</span><br><span class=\"line\">        &#125;, </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;_id&quot; : 5,</span><br><span class=\"line\">            &quot;item&quot; : &quot;abc&quot;,</span><br><span class=\"line\">            &quot;price&quot; : 10,</span><br><span class=\"line\">            &quot;quantity&quot; : 10,</span><br><span class=\"line\">            &quot;date&quot; : ISODate(&quot;2014-04-04T21:23:13.331Z&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"count\"><a href=\"#count\" class=\"headerlink\" title=\"count\"></a>count</h3><p>返回包含到输出文档的计数</p>\n<h3 id=\"sort\"><a href=\"#sort\" class=\"headerlink\" title=\"sort\"></a>sort</h3><p>对文档进行排序，按照排序顺序返回管道。<br>1:升序排列<br>-1:降序排列<br>{$meta：“textScore”}按照降序排列计算出的textScore元数据，表达方式唯一，尽管可以在管道中接受表达式，但{ $meta: “textScore” }表达式仅在包含具有$text查询的$match阶段的管道中有意义。<br>分析：$text文本搜索，会为包含索引字段中的搜索词的每隔文档匹配一个分数，这个分数表示文档与给定文本搜索查询的相关性<br>举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.users.aggregate(</span><br><span class=\"line\">   [</span><br><span class=\"line\">     &#123; $match: &#123; $text: &#123; $search: &quot;operating&quot; &#125; &#125; &#125;,</span><br><span class=\"line\">     &#123; $sort: &#123; score: &#123; $meta: &quot;textScore&quot; &#125;, posts: -1 &#125; &#125;</span><br><span class=\"line\">   ]</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"sortByCount\"><a href=\"#sortByCount\" class=\"headerlink\" title=\"$sortByCount\"></a>$sortByCount</h3><p>v3.4新增，根据表达式的值对传入文档分组，计算每个不同组中文档的数量，每个输出文档都包含两个字段：包含不同分组值得_id字段和包含属于该分组或类别的文档数的计数字段，文件按降序排列<br>举例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.db_test.aggregate(&#123;$sortByCount: &apos;$status&apos;&#125;);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"geoNear\"><a href=\"#geoNear\" class=\"headerlink\" title=\"geoNear\"></a>geoNear</h3><h3 id=\"lookup\"><a href=\"#lookup\" class=\"headerlink\" title=\"lookup\"></a>lookup</h3><p>mongodb在大部分情况下是不需要连表的，但是依然支持连表操作，即:$lookUp</p>\n<h3 id=\"out\"><a href=\"#out\" class=\"headerlink\" title=\"out\"></a>out</h3><h3 id=\"indexStats\"><a href=\"#indexStats\" class=\"headerlink\" title=\"indexStats\"></a>indexStats</h3><h2 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h2><h2 id=\"mongodb正则匹配\"><a href=\"#mongodb正则匹配\" class=\"headerlink\" title=\"mongodb正则匹配\"></a>mongodb正则匹配</h2><h2 id=\"mongodb连接方式\"><a href=\"#mongodb连接方式\" class=\"headerlink\" title=\"mongodb连接方式\"></a>mongodb连接方式</h2><p>mongodb://[username:password@]host1[:port1][,host2[:port2],…[,hostN[:portN]]][/[database][?options]]</p>\n<h2 id=\"mongodb查看版本\"><a href=\"#mongodb查看版本\" class=\"headerlink\" title=\"mongodb查看版本\"></a>mongodb查看版本</h2><p>mongod –version</p>\n"},{"title":"mysql索引优化","date":"2019-04-02T10:27:44.000Z","_content":"## 1 查看查询语句执行效率\n**语法**\nexplain select … from … [where ...]\n**示例**\n```\nexplain select * from news;\n```\n![explain](mysqlIndex/exp.png)\n\n只查询一行数据：\n![const](mysqlIndex/const.png)\n\n查询多行数据：执行查询\n![towrow](mysqlIndex/towrow.png)\n执行explain:\n![towrowres](mysqlIndex/towrowres.png)\n\n## 2 属性详解\n| 属性 | 作用 | \n| --- | --- |\n| id | SELECT的查询序列号 |\n| select_type | SELECT的查询序列号 |\n| table | 显示这一行的数据是关于哪张表的 |\n| type | 显示了连接使用了哪种类别,有无使用索引，是使用Explain命令分析性能瓶颈的关键项之一 |\n| possible_keys | 指出MySQL能使用哪个索引在该表中找到行 |\n| key | 显示MySQL实际决定使用的键（索引）。如果没有选择索引，键是NULL |\n| key_len | 显示MySQL决定使用的键长度。如果键是NULL，则长度为NULL。使用的索引的长度。在不损失精确性的情况下，长度越短越好 |\n| ref | 显示使用哪个列或常数与key一起从表中选择行 |\n| rows | 显示MySQL认为它执行查询时必须检查的行数 |\n| Extra | 包含MySQL解决查询的详细信息，也是关键参考项之一 |\n**select_type**\n\n| 类型 | 解释 | \n| --- | --- |\n| SIMPLE | 简单SELECT(不使用UNION或子查询等) |\n| PRIMARY | 最外面的SELECT |\n| UNION | UNION中的第二个或后面的SELECT语句 |\n| DEPENDENT UNION | UNION中的第二个或后面的SELECT语句，取决于外面的查询 |\n| UNION RESULT | UNION的结果 |\n| SUBQUERY | 子查询中的第一个SELECT |\n| DEPENDENT SUBQUERY | 子查询中的第一个SELECT，取决于外面的查询 |\n| DERIVED | 导出表的SELECT(FROM子句的子查询) |\n**type**\n\n索引从好到坏依次是：\n```\nsystem > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n```\n一般来说，得保证查询至少达到range级别，最好能达到ref，否则就可能会出现性能问题。\n","source":"_posts/mysqlIndex.md","raw":"---\ntitle: mysql索引优化\ndate: 2019-04-02 18:27:44\ntags: 优化\ncategories: \n- 数据库\n- mysql\n---\n## 1 查看查询语句执行效率\n**语法**\nexplain select … from … [where ...]\n**示例**\n```\nexplain select * from news;\n```\n![explain](mysqlIndex/exp.png)\n\n只查询一行数据：\n![const](mysqlIndex/const.png)\n\n查询多行数据：执行查询\n![towrow](mysqlIndex/towrow.png)\n执行explain:\n![towrowres](mysqlIndex/towrowres.png)\n\n## 2 属性详解\n| 属性 | 作用 | \n| --- | --- |\n| id | SELECT的查询序列号 |\n| select_type | SELECT的查询序列号 |\n| table | 显示这一行的数据是关于哪张表的 |\n| type | 显示了连接使用了哪种类别,有无使用索引，是使用Explain命令分析性能瓶颈的关键项之一 |\n| possible_keys | 指出MySQL能使用哪个索引在该表中找到行 |\n| key | 显示MySQL实际决定使用的键（索引）。如果没有选择索引，键是NULL |\n| key_len | 显示MySQL决定使用的键长度。如果键是NULL，则长度为NULL。使用的索引的长度。在不损失精确性的情况下，长度越短越好 |\n| ref | 显示使用哪个列或常数与key一起从表中选择行 |\n| rows | 显示MySQL认为它执行查询时必须检查的行数 |\n| Extra | 包含MySQL解决查询的详细信息，也是关键参考项之一 |\n**select_type**\n\n| 类型 | 解释 | \n| --- | --- |\n| SIMPLE | 简单SELECT(不使用UNION或子查询等) |\n| PRIMARY | 最外面的SELECT |\n| UNION | UNION中的第二个或后面的SELECT语句 |\n| DEPENDENT UNION | UNION中的第二个或后面的SELECT语句，取决于外面的查询 |\n| UNION RESULT | UNION的结果 |\n| SUBQUERY | 子查询中的第一个SELECT |\n| DEPENDENT SUBQUERY | 子查询中的第一个SELECT，取决于外面的查询 |\n| DERIVED | 导出表的SELECT(FROM子句的子查询) |\n**type**\n\n索引从好到坏依次是：\n```\nsystem > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n```\n一般来说，得保证查询至少达到range级别，最好能达到ref，否则就可能会出现性能问题。\n","slug":"mysqlIndex","published":1,"updated":"2019-12-10T01:49:46.547Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwss002rd87piaas1l0i","content":"<h2 id=\"1-查看查询语句执行效率\"><a href=\"#1-查看查询语句执行效率\" class=\"headerlink\" title=\"1 查看查询语句执行效率\"></a>1 查看查询语句执行效率</h2><p><strong>语法</strong><br>explain select … from … [where …]<br><strong>示例</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select * from news;</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2019/04/02/mysqlIndex/exp.png\" alt=\"explain\"></p>\n<p>只查询一行数据：<br><img src=\"/2019/04/02/mysqlIndex/const.png\" alt=\"const\"></p>\n<p>查询多行数据：执行查询<br><img src=\"/2019/04/02/mysqlIndex/towrow.png\" alt=\"towrow\"><br>执行explain:<br><img src=\"/2019/04/02/mysqlIndex/towrowres.png\" alt=\"towrowres\"></p>\n<h2 id=\"2-属性详解\"><a href=\"#2-属性详解\" class=\"headerlink\" title=\"2 属性详解\"></a>2 属性详解</h2><table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>SELECT的查询序列号</td>\n</tr>\n<tr>\n<td>select_type</td>\n<td>SELECT的查询序列号</td>\n</tr>\n<tr>\n<td>table</td>\n<td>显示这一行的数据是关于哪张表的</td>\n</tr>\n<tr>\n<td>type</td>\n<td>显示了连接使用了哪种类别,有无使用索引，是使用Explain命令分析性能瓶颈的关键项之一</td>\n</tr>\n<tr>\n<td>possible_keys</td>\n<td>指出MySQL能使用哪个索引在该表中找到行</td>\n</tr>\n<tr>\n<td>key</td>\n<td>显示MySQL实际决定使用的键（索引）。如果没有选择索引，键是NULL</td>\n</tr>\n<tr>\n<td>key_len</td>\n<td>显示MySQL决定使用的键长度。如果键是NULL，则长度为NULL。使用的索引的长度。在不损失精确性的情况下，长度越短越好</td>\n</tr>\n<tr>\n<td>ref</td>\n<td>显示使用哪个列或常数与key一起从表中选择行</td>\n</tr>\n<tr>\n<td>rows</td>\n<td>显示MySQL认为它执行查询时必须检查的行数</td>\n</tr>\n<tr>\n<td>Extra</td>\n<td>包含MySQL解决查询的详细信息，也是关键参考项之一</td>\n</tr>\n</tbody>\n</table>\n<p><strong>select_type</strong></p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SIMPLE</td>\n<td>简单SELECT(不使用UNION或子查询等)</td>\n</tr>\n<tr>\n<td>PRIMARY</td>\n<td>最外面的SELECT</td>\n</tr>\n<tr>\n<td>UNION</td>\n<td>UNION中的第二个或后面的SELECT语句</td>\n</tr>\n<tr>\n<td>DEPENDENT UNION</td>\n<td>UNION中的第二个或后面的SELECT语句，取决于外面的查询</td>\n</tr>\n<tr>\n<td>UNION RESULT</td>\n<td>UNION的结果</td>\n</tr>\n<tr>\n<td>SUBQUERY</td>\n<td>子查询中的第一个SELECT</td>\n</tr>\n<tr>\n<td>DEPENDENT SUBQUERY</td>\n<td>子查询中的第一个SELECT，取决于外面的查询</td>\n</tr>\n<tr>\n<td>DERIVED</td>\n<td>导出表的SELECT(FROM子句的子查询)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>type</strong></p>\n<p>索引从好到坏依次是：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</span><br></pre></td></tr></table></figure></p>\n<p>一般来说，得保证查询至少达到range级别，最好能达到ref，否则就可能会出现性能问题。</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-查看查询语句执行效率\"><a href=\"#1-查看查询语句执行效率\" class=\"headerlink\" title=\"1 查看查询语句执行效率\"></a>1 查看查询语句执行效率</h2><p><strong>语法</strong><br>explain select … from … [where …]<br><strong>示例</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">explain select * from news;</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2019/04/02/mysqlIndex/exp.png\" alt=\"explain\"></p>\n<p>只查询一行数据：<br><img src=\"/2019/04/02/mysqlIndex/const.png\" alt=\"const\"></p>\n<p>查询多行数据：执行查询<br><img src=\"/2019/04/02/mysqlIndex/towrow.png\" alt=\"towrow\"><br>执行explain:<br><img src=\"/2019/04/02/mysqlIndex/towrowres.png\" alt=\"towrowres\"></p>\n<h2 id=\"2-属性详解\"><a href=\"#2-属性详解\" class=\"headerlink\" title=\"2 属性详解\"></a>2 属性详解</h2><table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>SELECT的查询序列号</td>\n</tr>\n<tr>\n<td>select_type</td>\n<td>SELECT的查询序列号</td>\n</tr>\n<tr>\n<td>table</td>\n<td>显示这一行的数据是关于哪张表的</td>\n</tr>\n<tr>\n<td>type</td>\n<td>显示了连接使用了哪种类别,有无使用索引，是使用Explain命令分析性能瓶颈的关键项之一</td>\n</tr>\n<tr>\n<td>possible_keys</td>\n<td>指出MySQL能使用哪个索引在该表中找到行</td>\n</tr>\n<tr>\n<td>key</td>\n<td>显示MySQL实际决定使用的键（索引）。如果没有选择索引，键是NULL</td>\n</tr>\n<tr>\n<td>key_len</td>\n<td>显示MySQL决定使用的键长度。如果键是NULL，则长度为NULL。使用的索引的长度。在不损失精确性的情况下，长度越短越好</td>\n</tr>\n<tr>\n<td>ref</td>\n<td>显示使用哪个列或常数与key一起从表中选择行</td>\n</tr>\n<tr>\n<td>rows</td>\n<td>显示MySQL认为它执行查询时必须检查的行数</td>\n</tr>\n<tr>\n<td>Extra</td>\n<td>包含MySQL解决查询的详细信息，也是关键参考项之一</td>\n</tr>\n</tbody>\n</table>\n<p><strong>select_type</strong></p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SIMPLE</td>\n<td>简单SELECT(不使用UNION或子查询等)</td>\n</tr>\n<tr>\n<td>PRIMARY</td>\n<td>最外面的SELECT</td>\n</tr>\n<tr>\n<td>UNION</td>\n<td>UNION中的第二个或后面的SELECT语句</td>\n</tr>\n<tr>\n<td>DEPENDENT UNION</td>\n<td>UNION中的第二个或后面的SELECT语句，取决于外面的查询</td>\n</tr>\n<tr>\n<td>UNION RESULT</td>\n<td>UNION的结果</td>\n</tr>\n<tr>\n<td>SUBQUERY</td>\n<td>子查询中的第一个SELECT</td>\n</tr>\n<tr>\n<td>DEPENDENT SUBQUERY</td>\n<td>子查询中的第一个SELECT，取决于外面的查询</td>\n</tr>\n<tr>\n<td>DERIVED</td>\n<td>导出表的SELECT(FROM子句的子查询)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>type</strong></p>\n<p>索引从好到坏依次是：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</span><br></pre></td></tr></table></figure></p>\n<p>一般来说，得保证查询至少达到range级别，最好能达到ref，否则就可能会出现性能问题。</p>\n"},{"title":"Mysql分表","date":"2019-04-08T10:27:44.000Z","_content":"","source":"_posts/mysqlMerge.md","raw":"---\ntitle: Mysql分表\ndate: 2019-04-08 18:27:44\ntags:\ncategories: \n- 数据库\n- mysql\n---\n","slug":"mysqlMerge","published":1,"updated":"2019-12-10T01:49:46.555Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwsx002td87pqjrhzxgi","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"mysql数据库维护","date":"2019-03-28T06:03:27.000Z","_content":"","source":"_posts/mysql数据库维护.md","raw":"---\ntitle: mysql数据库维护\ndate: 2019-03-28 14:03:27\ncategories: \n- 数据库\n- mysql\n---\n","slug":"mysql数据库维护","published":1,"updated":"2019-12-10T01:49:46.555Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwt3002vd87p790fw4ml","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"PHP常见算法","date":"2019-04-08T10:27:44.000Z","_content":"# 排序算法\n## 1 冒泡排序\n**解析**\n从零开始，每一位和剩余位数比较，如果大于（小于）则交换，最后一位最终会是最大（最小）的。\n**代码**\n```php\n<?php\n$arr = [2,3,1,4,7,6,9];\nvar_dump(bubbleSort($arr));\nfunction bubbleSort($arr)\n{\n    $len = count($arr);\n    for($i = 0;$i < $len; $i++) {\n        for($j = $len - 1;$j > $i;$j--) {\n            if($arr[$j] < $arr[$j-1]) {\n                $tmp = $arr[$j];\n                $arr[$j ] = $arr[$j - 1];\n                $arr[$j - 1] = $tmp;\n            }\n        }\n    }\n    return $arr;\n}\n\n```\n## 2 快速排序\n**解析**\n选中一个值（一般是$arr[0]）作为基准，通过一次排序分割成比基准数小和比基准数大的两部分\n```php\n<?php\n$arr = [3,4,1,5,7,2,6];\nfunction quickSort($arr)\n{\n    if(count($arr) <= 1)\n    {   \n        return $arr;\n    }   \n    $mid = $arr[0];\n    $left = array();\n    $right = array();\n    for($i = 1;$i<count($arr);$i++)\n    {   \n        if($mid < $arr[$i])\n        {   \n            $right[] = $arr[$i];\n        } else {\n            $left[] = $arr[$i];\n        }   \n    }   \n    $left = quickSort($left);\n    $right = quickSort($right);\n    return array_merge($left,array($mid),$right);\n}\nvar_dump(quickSort($arr));\n\n```\n**注意事项**\narray_merge()需要将左边，中间和右边都合并\n\n# 查找算法\n## 折半查找\n\n","source":"_posts/phpAlg.md","raw":"---\ntitle: PHP常见算法\ndate: 2019-04-08 18:27:44\ntags:\ncategories: \n- php\n---\n# 排序算法\n## 1 冒泡排序\n**解析**\n从零开始，每一位和剩余位数比较，如果大于（小于）则交换，最后一位最终会是最大（最小）的。\n**代码**\n```php\n<?php\n$arr = [2,3,1,4,7,6,9];\nvar_dump(bubbleSort($arr));\nfunction bubbleSort($arr)\n{\n    $len = count($arr);\n    for($i = 0;$i < $len; $i++) {\n        for($j = $len - 1;$j > $i;$j--) {\n            if($arr[$j] < $arr[$j-1]) {\n                $tmp = $arr[$j];\n                $arr[$j ] = $arr[$j - 1];\n                $arr[$j - 1] = $tmp;\n            }\n        }\n    }\n    return $arr;\n}\n\n```\n## 2 快速排序\n**解析**\n选中一个值（一般是$arr[0]）作为基准，通过一次排序分割成比基准数小和比基准数大的两部分\n```php\n<?php\n$arr = [3,4,1,5,7,2,6];\nfunction quickSort($arr)\n{\n    if(count($arr) <= 1)\n    {   \n        return $arr;\n    }   \n    $mid = $arr[0];\n    $left = array();\n    $right = array();\n    for($i = 1;$i<count($arr);$i++)\n    {   \n        if($mid < $arr[$i])\n        {   \n            $right[] = $arr[$i];\n        } else {\n            $left[] = $arr[$i];\n        }   \n    }   \n    $left = quickSort($left);\n    $right = quickSort($right);\n    return array_merge($left,array($mid),$right);\n}\nvar_dump(quickSort($arr));\n\n```\n**注意事项**\narray_merge()需要将左边，中间和右边都合并\n\n# 查找算法\n## 折半查找\n\n","slug":"phpAlg","published":1,"updated":"2019-12-10T01:49:46.556Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwt8002xd87pkye9o9zx","content":"<h1 id=\"排序算法\"><a href=\"#排序算法\" class=\"headerlink\" title=\"排序算法\"></a>排序算法</h1><h2 id=\"1-冒泡排序\"><a href=\"#1-冒泡排序\" class=\"headerlink\" title=\"1 冒泡排序\"></a>1 冒泡排序</h2><p><strong>解析</strong><br>从零开始，每一位和剩余位数比较，如果大于（小于）则交换，最后一位最终会是最大（最小）的。<br><strong>代码</strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$arr = [<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">var_dump(bubbleSort($arr));</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span><span class=\"params\">($arr)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    $len = count($arr);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>($i = <span class=\"number\">0</span>;$i &lt; $len; $i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>($j = $len - <span class=\"number\">1</span>;$j &gt; $i;$j--) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>($arr[$j] &lt; $arr[$j<span class=\"number\">-1</span>]) &#123;</span><br><span class=\"line\">                $tmp = $arr[$j];</span><br><span class=\"line\">                $arr[$j ] = $arr[$j - <span class=\"number\">1</span>];</span><br><span class=\"line\">                $arr[$j - <span class=\"number\">1</span>] = $tmp;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $arr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"2-快速排序\"><a href=\"#2-快速排序\" class=\"headerlink\" title=\"2 快速排序\"></a>2 快速排序</h2><p><strong>解析</strong><br>选中一个值（一般是$arr[0]）作为基准，通过一次排序分割成比基准数小和比基准数大的两部分<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$arr = [<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">1</span>,<span class=\"number\">5</span>,<span class=\"number\">7</span>,<span class=\"number\">2</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span><span class=\"params\">($arr)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(count($arr) &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">return</span> $arr;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    $mid = $arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">    $left = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    $right = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>($i = <span class=\"number\">1</span>;$i&lt;count($arr);$i++)</span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">if</span>($mid &lt; $arr[$i])</span><br><span class=\"line\">        &#123;   </span><br><span class=\"line\">            $right[] = $arr[$i];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            $left[] = $arr[$i];</span><br><span class=\"line\">        &#125;   </span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    $left = quickSort($left);</span><br><span class=\"line\">    $right = quickSort($right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array_merge($left,<span class=\"keyword\">array</span>($mid),$right);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var_dump(quickSort($arr));</span><br></pre></td></tr></table></figure></p>\n<p><strong>注意事项</strong><br>array_merge()需要将左边，中间和右边都合并</p>\n<h1 id=\"查找算法\"><a href=\"#查找算法\" class=\"headerlink\" title=\"查找算法\"></a>查找算法</h1><h2 id=\"折半查找\"><a href=\"#折半查找\" class=\"headerlink\" title=\"折半查找\"></a>折半查找</h2>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"排序算法\"><a href=\"#排序算法\" class=\"headerlink\" title=\"排序算法\"></a>排序算法</h1><h2 id=\"1-冒泡排序\"><a href=\"#1-冒泡排序\" class=\"headerlink\" title=\"1 冒泡排序\"></a>1 冒泡排序</h2><p><strong>解析</strong><br>从零开始，每一位和剩余位数比较，如果大于（小于）则交换，最后一位最终会是最大（最小）的。<br><strong>代码</strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$arr = [<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">var_dump(bubbleSort($arr));</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span><span class=\"params\">($arr)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    $len = count($arr);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>($i = <span class=\"number\">0</span>;$i &lt; $len; $i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>($j = $len - <span class=\"number\">1</span>;$j &gt; $i;$j--) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>($arr[$j] &lt; $arr[$j<span class=\"number\">-1</span>]) &#123;</span><br><span class=\"line\">                $tmp = $arr[$j];</span><br><span class=\"line\">                $arr[$j ] = $arr[$j - <span class=\"number\">1</span>];</span><br><span class=\"line\">                $arr[$j - <span class=\"number\">1</span>] = $tmp;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $arr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"2-快速排序\"><a href=\"#2-快速排序\" class=\"headerlink\" title=\"2 快速排序\"></a>2 快速排序</h2><p><strong>解析</strong><br>选中一个值（一般是$arr[0]）作为基准，通过一次排序分割成比基准数小和比基准数大的两部分<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$arr = [<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">1</span>,<span class=\"number\">5</span>,<span class=\"number\">7</span>,<span class=\"number\">2</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span><span class=\"params\">($arr)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(count($arr) &lt;= <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">return</span> $arr;</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    $mid = $arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">    $left = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    $right = <span class=\"keyword\">array</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>($i = <span class=\"number\">1</span>;$i&lt;count($arr);$i++)</span><br><span class=\"line\">    &#123;   </span><br><span class=\"line\">        <span class=\"keyword\">if</span>($mid &lt; $arr[$i])</span><br><span class=\"line\">        &#123;   </span><br><span class=\"line\">            $right[] = $arr[$i];</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            $left[] = $arr[$i];</span><br><span class=\"line\">        &#125;   </span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">    $left = quickSort($left);</span><br><span class=\"line\">    $right = quickSort($right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array_merge($left,<span class=\"keyword\">array</span>($mid),$right);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var_dump(quickSort($arr));</span><br></pre></td></tr></table></figure></p>\n<p><strong>注意事项</strong><br>array_merge()需要将左边，中间和右边都合并</p>\n<h1 id=\"查找算法\"><a href=\"#查找算法\" class=\"headerlink\" title=\"查找算法\"></a>查找算法</h1><h2 id=\"折半查找\"><a href=\"#折半查找\" class=\"headerlink\" title=\"折半查找\"></a>折半查找</h2>"},{"title":"安装php sniffer","date":"2019-04-07T10:27:44.000Z","_content":"\n###  安装pear（参考文档：https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\n-------------\n1. 从以下网址：http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar\n2. 运行php go-pear.phar（注意是否加了环境变量，没有可在php.exe目录下运行）\n3. 如果报错“ERROR, enter the php.exe path”，输入选项13，选择php.exe所在目录\n\n### 安装php sniffer\n------------\n1. 运行命令“pear install PHP_CodeSniffer”\n2. 配置phpstorm（其他IDE请自行Google），Settings->Languages & Frameworks->php->Code Sniffer，选择刚才安装的phpcs.bat文件，validate 看看会不会报错\n3. 如果校验报错，可能是找不到autoload路径，打开phpcs文件，更改include路径，例如我可以直接改成include_once '/pear/PHP/CodeSniffer/autoload.php'\n4. 选择Settings->Inspections->PHP Code Sniffer validation，点击刷新按钮，选择\"PSR2\"\n5. 此时如果有不规范的代码可以看到有phpcs的报错了\n\n### 配置本地git\n----------\n1. 打开.git/hooks,新建文件pre-commit\n2. 示例代码如下\n```\n#!/bin/bash\n#\n# check PHP code syntax error and standard with phpcs\n# author : star[github.com/star1989]\n# date : 2017-02-24\nPROJECT=$(git rev-parse --show-toplevel)\ncd $PROJECT\nSFILES=$(git diff --cached --name-only --diff-filter=ACMR HEAD | grep \\\\.php)\nTMP_DIR=$PROJECT.\"/tmp\"\n\n# Determine if a file list is passed\nif [ \"$#\" -ne 0 ]\nthen\n    exit 0\nfi\necho \"Checking PHP Lint...\"\nfor FILE in $SFILES\ndo\n#    echo \"php -l -d display_errors=0 ${FILE}\"\n#   echo \"git show :$FILE > $TMP_DIR/$FILE\"\n    php -l -d display_errors=0 $FILE\n    if [ $? != 0  ]\n    then\n        echo \"Fix the error before commit.\"\n        exit 1\n    fi\n    FILES=\"$FILES $PROJECT/$FILE\"\ndone\n\nif [ \"$FILES\" != \"\" ]\nthen\n    echo \"Running Code Sniffer...\"\n\n    TMP_DIR=/tmp/$(uuidgen)\n    mkdir -p $TMP_DIR\n    for FILE in $SFILES\n    do\n        mkdir -p $TMP_DIR/$(dirname $FILE)\n        git show :$FILE > $TMP_DIR/$FILE\n    done\n    phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR\n    PHPCS_ERROR=$?\n    rm -rf $TMP_DIR\n    if [ $PHPCS_ERROR != 0 ]\n    then\n        echo \"Fix the error before commit.\"\n        exit 1\n    fi\nfi\n\nexit $?\n```\n3. 注意这行phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR，在运行git的终端下运行phpcs --help,如果可以运行这行才会生效\n4. 此时提交不规范的代码就会报错\n","source":"_posts/phpPsr.md","raw":"---\ntitle: 安装php sniffer\ndate: 2019-04-07 18:27:44\ntags:\ncategories: \n- php\n---\n\n###  安装pear（参考文档：https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\n-------------\n1. 从以下网址：http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar\n2. 运行php go-pear.phar（注意是否加了环境变量，没有可在php.exe目录下运行）\n3. 如果报错“ERROR, enter the php.exe path”，输入选项13，选择php.exe所在目录\n\n### 安装php sniffer\n------------\n1. 运行命令“pear install PHP_CodeSniffer”\n2. 配置phpstorm（其他IDE请自行Google），Settings->Languages & Frameworks->php->Code Sniffer，选择刚才安装的phpcs.bat文件，validate 看看会不会报错\n3. 如果校验报错，可能是找不到autoload路径，打开phpcs文件，更改include路径，例如我可以直接改成include_once '/pear/PHP/CodeSniffer/autoload.php'\n4. 选择Settings->Inspections->PHP Code Sniffer validation，点击刷新按钮，选择\"PSR2\"\n5. 此时如果有不规范的代码可以看到有phpcs的报错了\n\n### 配置本地git\n----------\n1. 打开.git/hooks,新建文件pre-commit\n2. 示例代码如下\n```\n#!/bin/bash\n#\n# check PHP code syntax error and standard with phpcs\n# author : star[github.com/star1989]\n# date : 2017-02-24\nPROJECT=$(git rev-parse --show-toplevel)\ncd $PROJECT\nSFILES=$(git diff --cached --name-only --diff-filter=ACMR HEAD | grep \\\\.php)\nTMP_DIR=$PROJECT.\"/tmp\"\n\n# Determine if a file list is passed\nif [ \"$#\" -ne 0 ]\nthen\n    exit 0\nfi\necho \"Checking PHP Lint...\"\nfor FILE in $SFILES\ndo\n#    echo \"php -l -d display_errors=0 ${FILE}\"\n#   echo \"git show :$FILE > $TMP_DIR/$FILE\"\n    php -l -d display_errors=0 $FILE\n    if [ $? != 0  ]\n    then\n        echo \"Fix the error before commit.\"\n        exit 1\n    fi\n    FILES=\"$FILES $PROJECT/$FILE\"\ndone\n\nif [ \"$FILES\" != \"\" ]\nthen\n    echo \"Running Code Sniffer...\"\n\n    TMP_DIR=/tmp/$(uuidgen)\n    mkdir -p $TMP_DIR\n    for FILE in $SFILES\n    do\n        mkdir -p $TMP_DIR/$(dirname $FILE)\n        git show :$FILE > $TMP_DIR/$FILE\n    done\n    phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR\n    PHPCS_ERROR=$?\n    rm -rf $TMP_DIR\n    if [ $PHPCS_ERROR != 0 ]\n    then\n        echo \"Fix the error before commit.\"\n        exit 1\n    fi\nfi\n\nexit $?\n```\n3. 注意这行phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR，在运行git的终端下运行phpcs --help,如果可以运行这行才会生效\n4. 此时提交不规范的代码就会报错\n","slug":"phpPsr","published":1,"updated":"2019-12-10T01:49:46.557Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtb002zd87pjvqlbtah","content":"<h3 id=\"安装pear（参考文档：https-www-cnblogs-com-huangbx-p-php-codesniffer-html）\"><a href=\"#安装pear（参考文档：https-www-cnblogs-com-huangbx-p-php-codesniffer-html）\" class=\"headerlink\" title=\"安装pear（参考文档：https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\"></a>安装pear（参考文档：<a href=\"https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/huangbx/p/php_codesniffer.html）</a></h3><hr>\n<ol>\n<li>从以下网址：<a href=\"http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar\" target=\"_blank\" rel=\"noopener\">http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar</a></li>\n<li>运行php go-pear.phar（注意是否加了环境变量，没有可在php.exe目录下运行）</li>\n<li>如果报错“ERROR, enter the php.exe path”，输入选项13，选择php.exe所在目录</li>\n</ol>\n<h3 id=\"安装php-sniffer\"><a href=\"#安装php-sniffer\" class=\"headerlink\" title=\"安装php sniffer\"></a>安装php sniffer</h3><hr>\n<ol>\n<li>运行命令“pear install PHP_CodeSniffer”</li>\n<li>配置phpstorm（其他IDE请自行Google），Settings-&gt;Languages &amp; Frameworks-&gt;php-&gt;Code Sniffer，选择刚才安装的phpcs.bat文件，validate 看看会不会报错</li>\n<li>如果校验报错，可能是找不到autoload路径，打开phpcs文件，更改include路径，例如我可以直接改成include_once ‘/pear/PHP/CodeSniffer/autoload.php’</li>\n<li>选择Settings-&gt;Inspections-&gt;PHP Code Sniffer validation，点击刷新按钮，选择”PSR2”</li>\n<li>此时如果有不规范的代码可以看到有phpcs的报错了</li>\n</ol>\n<h3 id=\"配置本地git\"><a href=\"#配置本地git\" class=\"headerlink\" title=\"配置本地git\"></a>配置本地git</h3><hr>\n<ol>\n<li>打开.git/hooks,新建文件pre-commit</li>\n<li><p>示例代码如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#</span><br><span class=\"line\"># check PHP code syntax error and standard with phpcs</span><br><span class=\"line\"># author : star[github.com/star1989]</span><br><span class=\"line\"># date : 2017-02-24</span><br><span class=\"line\">PROJECT=$(git rev-parse --show-toplevel)</span><br><span class=\"line\">cd $PROJECT</span><br><span class=\"line\">SFILES=$(git diff --cached --name-only --diff-filter=ACMR HEAD | grep \\\\.php)</span><br><span class=\"line\">TMP_DIR=$PROJECT.&quot;/tmp&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># Determine if a file list is passed</span><br><span class=\"line\">if [ &quot;$#&quot; -ne 0 ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    exit 0</span><br><span class=\"line\">fi</span><br><span class=\"line\">echo &quot;Checking PHP Lint...&quot;</span><br><span class=\"line\">for FILE in $SFILES</span><br><span class=\"line\">do</span><br><span class=\"line\">#    echo &quot;php -l -d display_errors=0 $&#123;FILE&#125;&quot;</span><br><span class=\"line\">#   echo &quot;git show :$FILE &gt; $TMP_DIR/$FILE&quot;</span><br><span class=\"line\">    php -l -d display_errors=0 $FILE</span><br><span class=\"line\">    if [ $? != 0  ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo &quot;Fix the error before commit.&quot;</span><br><span class=\"line\">        exit 1</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    FILES=&quot;$FILES $PROJECT/$FILE&quot;</span><br><span class=\"line\">done</span><br><span class=\"line\"></span><br><span class=\"line\">if [ &quot;$FILES&quot; != &quot;&quot; ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    echo &quot;Running Code Sniffer...&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    TMP_DIR=/tmp/$(uuidgen)</span><br><span class=\"line\">    mkdir -p $TMP_DIR</span><br><span class=\"line\">    for FILE in $SFILES</span><br><span class=\"line\">    do</span><br><span class=\"line\">        mkdir -p $TMP_DIR/$(dirname $FILE)</span><br><span class=\"line\">        git show :$FILE &gt; $TMP_DIR/$FILE</span><br><span class=\"line\">    done</span><br><span class=\"line\">    phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR</span><br><span class=\"line\">    PHPCS_ERROR=$?</span><br><span class=\"line\">    rm -rf $TMP_DIR</span><br><span class=\"line\">    if [ $PHPCS_ERROR != 0 ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo &quot;Fix the error before commit.&quot;</span><br><span class=\"line\">        exit 1</span><br><span class=\"line\">    fi</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">exit $?</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>注意这行phpcs –standard=PSR2 –encoding=utf-8 -n $TMP_DIR，在运行git的终端下运行phpcs –help,如果可以运行这行才会生效</p>\n</li>\n<li>此时提交不规范的代码就会报错</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"安装pear（参考文档：https-www-cnblogs-com-huangbx-p-php-codesniffer-html）\"><a href=\"#安装pear（参考文档：https-www-cnblogs-com-huangbx-p-php-codesniffer-html）\" class=\"headerlink\" title=\"安装pear（参考文档：https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\"></a>安装pear（参考文档：<a href=\"https://www.cnblogs.com/huangbx/p/php_codesniffer.html）\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/huangbx/p/php_codesniffer.html）</a></h3><hr>\n<ol>\n<li>从以下网址：<a href=\"http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar\" target=\"_blank\" rel=\"noopener\">http://pear.php.net/go-pear.phar下载代码，或直接另存为文件go-pear.phar</a></li>\n<li>运行php go-pear.phar（注意是否加了环境变量，没有可在php.exe目录下运行）</li>\n<li>如果报错“ERROR, enter the php.exe path”，输入选项13，选择php.exe所在目录</li>\n</ol>\n<h3 id=\"安装php-sniffer\"><a href=\"#安装php-sniffer\" class=\"headerlink\" title=\"安装php sniffer\"></a>安装php sniffer</h3><hr>\n<ol>\n<li>运行命令“pear install PHP_CodeSniffer”</li>\n<li>配置phpstorm（其他IDE请自行Google），Settings-&gt;Languages &amp; Frameworks-&gt;php-&gt;Code Sniffer，选择刚才安装的phpcs.bat文件，validate 看看会不会报错</li>\n<li>如果校验报错，可能是找不到autoload路径，打开phpcs文件，更改include路径，例如我可以直接改成include_once ‘/pear/PHP/CodeSniffer/autoload.php’</li>\n<li>选择Settings-&gt;Inspections-&gt;PHP Code Sniffer validation，点击刷新按钮，选择”PSR2”</li>\n<li>此时如果有不规范的代码可以看到有phpcs的报错了</li>\n</ol>\n<h3 id=\"配置本地git\"><a href=\"#配置本地git\" class=\"headerlink\" title=\"配置本地git\"></a>配置本地git</h3><hr>\n<ol>\n<li>打开.git/hooks,新建文件pre-commit</li>\n<li><p>示例代码如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">#</span><br><span class=\"line\"># check PHP code syntax error and standard with phpcs</span><br><span class=\"line\"># author : star[github.com/star1989]</span><br><span class=\"line\"># date : 2017-02-24</span><br><span class=\"line\">PROJECT=$(git rev-parse --show-toplevel)</span><br><span class=\"line\">cd $PROJECT</span><br><span class=\"line\">SFILES=$(git diff --cached --name-only --diff-filter=ACMR HEAD | grep \\\\.php)</span><br><span class=\"line\">TMP_DIR=$PROJECT.&quot;/tmp&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># Determine if a file list is passed</span><br><span class=\"line\">if [ &quot;$#&quot; -ne 0 ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    exit 0</span><br><span class=\"line\">fi</span><br><span class=\"line\">echo &quot;Checking PHP Lint...&quot;</span><br><span class=\"line\">for FILE in $SFILES</span><br><span class=\"line\">do</span><br><span class=\"line\">#    echo &quot;php -l -d display_errors=0 $&#123;FILE&#125;&quot;</span><br><span class=\"line\">#   echo &quot;git show :$FILE &gt; $TMP_DIR/$FILE&quot;</span><br><span class=\"line\">    php -l -d display_errors=0 $FILE</span><br><span class=\"line\">    if [ $? != 0  ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo &quot;Fix the error before commit.&quot;</span><br><span class=\"line\">        exit 1</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    FILES=&quot;$FILES $PROJECT/$FILE&quot;</span><br><span class=\"line\">done</span><br><span class=\"line\"></span><br><span class=\"line\">if [ &quot;$FILES&quot; != &quot;&quot; ]</span><br><span class=\"line\">then</span><br><span class=\"line\">    echo &quot;Running Code Sniffer...&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    TMP_DIR=/tmp/$(uuidgen)</span><br><span class=\"line\">    mkdir -p $TMP_DIR</span><br><span class=\"line\">    for FILE in $SFILES</span><br><span class=\"line\">    do</span><br><span class=\"line\">        mkdir -p $TMP_DIR/$(dirname $FILE)</span><br><span class=\"line\">        git show :$FILE &gt; $TMP_DIR/$FILE</span><br><span class=\"line\">    done</span><br><span class=\"line\">    phpcs --standard=PSR2 --encoding=utf-8 -n $TMP_DIR</span><br><span class=\"line\">    PHPCS_ERROR=$?</span><br><span class=\"line\">    rm -rf $TMP_DIR</span><br><span class=\"line\">    if [ $PHPCS_ERROR != 0 ]</span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo &quot;Fix the error before commit.&quot;</span><br><span class=\"line\">        exit 1</span><br><span class=\"line\">    fi</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">exit $?</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>注意这行phpcs –standard=PSR2 –encoding=utf-8 -n $TMP_DIR，在运行git的终端下运行phpcs –help,如果可以运行这行才会生效</p>\n</li>\n<li>此时提交不规范的代码就会报错</li>\n</ol>\n"},{"title":"生产者消费者模式","date":"2019-10-05T09:40:10.000Z","_content":"# 基础概念\n## 概念介绍\n某块模块负责产生数据，这些数据由另一个模块来负责处理。产生数据的模块，就形象地称为生产者；而处理数据的模块，就称为消费者。    \n该模式还需要有一个缓冲区处于生产者和消费者之间，作为一个中介。生产者把数据放入缓冲区，而消费者从缓冲区取出数据\n缓冲区作用\n\n1. 解耦，生产者和消费者只依赖缓冲区，而不互相依赖\n\n2. 支持并发和异步\n\n3. 支持生产者和消费者忙闲不均（来不及消费缓冲区可以暂存）\n## 使用场景\n队列(类似，但并不完全相等，有的队列没有缓冲区);    \nswoole(业务逻辑(生产者)将数据单元通过swoole的send函数弄到swoole的一个缓冲区之间，通过work进程进行分发，task进程(消费者)进行消费。)\n\n## 代码解析\nCICD创建项目流程类似于生产者消费者模式；   \n（1）用户填写表单，创建一条CICD数据，生产者向数据表添加一条状态为pending的数据，类似于向缓冲区添加数据    \n（2）定时任务读取状态为pending的数据，消费处理后修改状态\n","source":"_posts/producerConsumer.md","raw":"---\ntitle: 生产者消费者模式\ndate: 2019-10-05 17:40:10\ntags: 概念介绍\ncategories: 设计模式\n---\n# 基础概念\n## 概念介绍\n某块模块负责产生数据，这些数据由另一个模块来负责处理。产生数据的模块，就形象地称为生产者；而处理数据的模块，就称为消费者。    \n该模式还需要有一个缓冲区处于生产者和消费者之间，作为一个中介。生产者把数据放入缓冲区，而消费者从缓冲区取出数据\n缓冲区作用\n\n1. 解耦，生产者和消费者只依赖缓冲区，而不互相依赖\n\n2. 支持并发和异步\n\n3. 支持生产者和消费者忙闲不均（来不及消费缓冲区可以暂存）\n## 使用场景\n队列(类似，但并不完全相等，有的队列没有缓冲区);    \nswoole(业务逻辑(生产者)将数据单元通过swoole的send函数弄到swoole的一个缓冲区之间，通过work进程进行分发，task进程(消费者)进行消费。)\n\n## 代码解析\nCICD创建项目流程类似于生产者消费者模式；   \n（1）用户填写表单，创建一条CICD数据，生产者向数据表添加一条状态为pending的数据，类似于向缓冲区添加数据    \n（2）定时任务读取状态为pending的数据，消费处理后修改状态\n","slug":"producerConsumer","published":1,"updated":"2019-12-10T01:49:46.557Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtf0031d87p0nvt6orv","content":"<h1 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h1><h2 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h2><p>某块模块负责产生数据，这些数据由另一个模块来负责处理。产生数据的模块，就形象地称为生产者；而处理数据的模块，就称为消费者。<br>该模式还需要有一个缓冲区处于生产者和消费者之间，作为一个中介。生产者把数据放入缓冲区，而消费者从缓冲区取出数据<br>缓冲区作用</p>\n<ol>\n<li><p>解耦，生产者和消费者只依赖缓冲区，而不互相依赖</p>\n</li>\n<li><p>支持并发和异步</p>\n</li>\n<li><p>支持生产者和消费者忙闲不均（来不及消费缓冲区可以暂存）</p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>队列(类似，但并不完全相等，有的队列没有缓冲区);<br>swoole(业务逻辑(生产者)将数据单元通过swoole的send函数弄到swoole的一个缓冲区之间，通过work进程进行分发，task进程(消费者)进行消费。)</p>\n</li>\n</ol>\n<h2 id=\"代码解析\"><a href=\"#代码解析\" class=\"headerlink\" title=\"代码解析\"></a>代码解析</h2><p>CICD创建项目流程类似于生产者消费者模式；<br>（1）用户填写表单，创建一条CICD数据，生产者向数据表添加一条状态为pending的数据，类似于向缓冲区添加数据<br>（2）定时任务读取状态为pending的数据，消费处理后修改状态</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h1><h2 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h2><p>某块模块负责产生数据，这些数据由另一个模块来负责处理。产生数据的模块，就形象地称为生产者；而处理数据的模块，就称为消费者。<br>该模式还需要有一个缓冲区处于生产者和消费者之间，作为一个中介。生产者把数据放入缓冲区，而消费者从缓冲区取出数据<br>缓冲区作用</p>\n<ol>\n<li><p>解耦，生产者和消费者只依赖缓冲区，而不互相依赖</p>\n</li>\n<li><p>支持并发和异步</p>\n</li>\n<li><p>支持生产者和消费者忙闲不均（来不及消费缓冲区可以暂存）</p>\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>队列(类似，但并不完全相等，有的队列没有缓冲区);<br>swoole(业务逻辑(生产者)将数据单元通过swoole的send函数弄到swoole的一个缓冲区之间，通过work进程进行分发，task进程(消费者)进行消费。)</p>\n</li>\n</ol>\n<h2 id=\"代码解析\"><a href=\"#代码解析\" class=\"headerlink\" title=\"代码解析\"></a>代码解析</h2><p>CICD创建项目流程类似于生产者消费者模式；<br>（1）用户填写表单，创建一条CICD数据，生产者向数据表添加一条状态为pending的数据，类似于向缓冲区添加数据<br>（2）定时任务读取状态为pending的数据，消费处理后修改状态</p>\n"},{"title":"python进阶","date":"2019-03-14T02:36:10.000Z","_content":"# *args和**kwargs\n## *args\n*args和**kwargs主要用于函数定义，可以将不定数量的参数传递给一个函数\n**举例**\n输入：\n```\ndef test_var_args(f_arg, *argv):\nprint(\"first normal arg:\", f_arg)\nfor arg in argv:\nprint(\"another arg through *argv:\", arg)\ntest_var_args('yasoob', 'python', 'eggs', 'test')\n```\n输出：\n```\nfirst normal arg: yasoob\nanother arg through *argv: python\nanother arg through *argv: eggs\nanother arg through *argv: test\n```\n## *kwargs\n*kwargs允许将不定长度的键值对作为参数传递给一个函数，如果想在一个函数里处理带名字的参数，应该使用**kwargs\n使用示例如下：\n```\ndef getArgs(f_arg, *args):\n    print \"first is\" + f_arg\n    for arg in args:\n        print \"the data is\" + arg \ndef gree(**kwa):\n    for key, value in kwa.items():\n        print(\"{0} == {1}\".format(key,value))\n#getArgs('name1', 'name2', 'name3', 'name4')\ngree(name='test', age=12, first=\"apple\")\n```\n输出：\n```\nage == 12\nname == test\nfirst == apple\n```\n## 使用*args和**kwargs来调用函数\n如果存在以下函数：\n```\ndef test_args_kwargs(arg1, arg2, arg3):\nprint(\"arg1:\", arg1)\nprint(\"arg2:\", arg2)\nprint(\"arg3:\", arg3)\n```\n可以使用*args或**kwargs来给这个函数传递参数\n(1)如果是*args\n```\nargs = (\"two\", 3, 5)\ntest_args_kwargs(*args)\n```\n输出：\n```\narg1: two\narg2: 3\narg3: 5\n```\n(2)如果是**kwargs\n```\nkwargs = {\"arg3\": 3, \"arg2\": \"two\", \"arg1\": 5}\ntest_args_kwargs(**kwargs)\n```\n输出：\n```\narg1: 5\narg2: two\narg3: 3\n```\n(3)标准参数与*args、*kwargs在使用时的顺序\nsome_func(fargs, *args, **kwargs)\n#### 使用场景\n**函数装饰器**\n**猴子补丁**\n\n##调试**\n[python debugger](https://www.hexiaojiao.top/2019/03/14/python_debugger/ \"python debugger\")\n##生成器和迭代器\n##Map Filter和Reduce\n\n","source":"_posts/python.md","raw":"---\ntitle: python进阶\ndate: 2019-03-14 10:36:10\ncategories: Python\n---\n# *args和**kwargs\n## *args\n*args和**kwargs主要用于函数定义，可以将不定数量的参数传递给一个函数\n**举例**\n输入：\n```\ndef test_var_args(f_arg, *argv):\nprint(\"first normal arg:\", f_arg)\nfor arg in argv:\nprint(\"another arg through *argv:\", arg)\ntest_var_args('yasoob', 'python', 'eggs', 'test')\n```\n输出：\n```\nfirst normal arg: yasoob\nanother arg through *argv: python\nanother arg through *argv: eggs\nanother arg through *argv: test\n```\n## *kwargs\n*kwargs允许将不定长度的键值对作为参数传递给一个函数，如果想在一个函数里处理带名字的参数，应该使用**kwargs\n使用示例如下：\n```\ndef getArgs(f_arg, *args):\n    print \"first is\" + f_arg\n    for arg in args:\n        print \"the data is\" + arg \ndef gree(**kwa):\n    for key, value in kwa.items():\n        print(\"{0} == {1}\".format(key,value))\n#getArgs('name1', 'name2', 'name3', 'name4')\ngree(name='test', age=12, first=\"apple\")\n```\n输出：\n```\nage == 12\nname == test\nfirst == apple\n```\n## 使用*args和**kwargs来调用函数\n如果存在以下函数：\n```\ndef test_args_kwargs(arg1, arg2, arg3):\nprint(\"arg1:\", arg1)\nprint(\"arg2:\", arg2)\nprint(\"arg3:\", arg3)\n```\n可以使用*args或**kwargs来给这个函数传递参数\n(1)如果是*args\n```\nargs = (\"two\", 3, 5)\ntest_args_kwargs(*args)\n```\n输出：\n```\narg1: two\narg2: 3\narg3: 5\n```\n(2)如果是**kwargs\n```\nkwargs = {\"arg3\": 3, \"arg2\": \"two\", \"arg1\": 5}\ntest_args_kwargs(**kwargs)\n```\n输出：\n```\narg1: 5\narg2: two\narg3: 3\n```\n(3)标准参数与*args、*kwargs在使用时的顺序\nsome_func(fargs, *args, **kwargs)\n#### 使用场景\n**函数装饰器**\n**猴子补丁**\n\n##调试**\n[python debugger](https://www.hexiaojiao.top/2019/03/14/python_debugger/ \"python debugger\")\n##生成器和迭代器\n##Map Filter和Reduce\n\n","slug":"python","published":1,"updated":"2019-12-10T01:49:46.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwti0034d87p2hl4tg04","content":"<h1 id=\"args和-kwargs\"><a href=\"#args和-kwargs\" class=\"headerlink\" title=\"*args和**kwargs\"></a>*args和**kwargs</h1><h2 id=\"args\"><a href=\"#args\" class=\"headerlink\" title=\"*args\"></a>*args</h2><p>*args和<strong>kwargs主要用于函数定义，可以将不定数量的参数传递给一个函数\n</strong>举例**<br>输入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def test_var_args(f_arg, *argv):</span><br><span class=\"line\">print(&quot;first normal arg:&quot;, f_arg)</span><br><span class=\"line\">for arg in argv:</span><br><span class=\"line\">print(&quot;another arg through *argv:&quot;, arg)</span><br><span class=\"line\">test_var_args(&apos;yasoob&apos;, &apos;python&apos;, &apos;eggs&apos;, &apos;test&apos;)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">first normal arg: yasoob</span><br><span class=\"line\">another arg through *argv: python</span><br><span class=\"line\">another arg through *argv: eggs</span><br><span class=\"line\">another arg through *argv: test</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"kwargs\"><a href=\"#kwargs\" class=\"headerlink\" title=\"*kwargs\"></a>*kwargs</h2><p>*kwargs允许将不定长度的键值对作为参数传递给一个函数，如果想在一个函数里处理带名字的参数，应该使用**kwargs<br>使用示例如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def getArgs(f_arg, *args):</span><br><span class=\"line\">    print &quot;first is&quot; + f_arg</span><br><span class=\"line\">    for arg in args:</span><br><span class=\"line\">        print &quot;the data is&quot; + arg </span><br><span class=\"line\">def gree(**kwa):</span><br><span class=\"line\">    for key, value in kwa.items():</span><br><span class=\"line\">        print(&quot;&#123;0&#125; == &#123;1&#125;&quot;.format(key,value))</span><br><span class=\"line\">#getArgs(&apos;name1&apos;, &apos;name2&apos;, &apos;name3&apos;, &apos;name4&apos;)</span><br><span class=\"line\">gree(name=&apos;test&apos;, age=12, first=&quot;apple&quot;)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">age == 12</span><br><span class=\"line\">name == test</span><br><span class=\"line\">first == apple</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用-args和-kwargs来调用函数\"><a href=\"#使用-args和-kwargs来调用函数\" class=\"headerlink\" title=\"使用*args和**kwargs来调用函数\"></a>使用*args和**kwargs来调用函数</h2><p>如果存在以下函数：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def test_args_kwargs(arg1, arg2, arg3):</span><br><span class=\"line\">print(&quot;arg1:&quot;, arg1)</span><br><span class=\"line\">print(&quot;arg2:&quot;, arg2)</span><br><span class=\"line\">print(&quot;arg3:&quot;, arg3)</span><br></pre></td></tr></table></figure></p>\n<p>可以使用<em>args或**kwargs来给这个函数传递参数<br>(1)如果是</em>args<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">args = (&quot;two&quot;, 3, 5)</span><br><span class=\"line\">test_args_kwargs(*args)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arg1: two</span><br><span class=\"line\">arg2: 3</span><br><span class=\"line\">arg3: 5</span><br></pre></td></tr></table></figure></p>\n<p>(2)如果是**kwargs<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kwargs = &#123;&quot;arg3&quot;: 3, &quot;arg2&quot;: &quot;two&quot;, &quot;arg1&quot;: 5&#125;</span><br><span class=\"line\">test_args_kwargs(**kwargs)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arg1: 5</span><br><span class=\"line\">arg2: two</span><br><span class=\"line\">arg3: 3</span><br></pre></td></tr></table></figure></p>\n<p>(3)标准参数与<em>args、</em>kwargs在使用时的顺序<br>some_func(fargs, *args, **kwargs)</p>\n<h4 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h4><p><strong>函数装饰器</strong><br><strong>猴子补丁</strong></p>\n<p>##调试**<br><a href=\"https://www.hexiaojiao.top/2019/03/14/python_debugger/\" title=\"python debugger\">python debugger</a></p>\n<p>##生成器和迭代器</p>\n<p>##Map Filter和Reduce</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"args和-kwargs\"><a href=\"#args和-kwargs\" class=\"headerlink\" title=\"*args和**kwargs\"></a>*args和**kwargs</h1><h2 id=\"args\"><a href=\"#args\" class=\"headerlink\" title=\"*args\"></a>*args</h2><p>*args和<strong>kwargs主要用于函数定义，可以将不定数量的参数传递给一个函数\n</strong>举例**<br>输入：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def test_var_args(f_arg, *argv):</span><br><span class=\"line\">print(&quot;first normal arg:&quot;, f_arg)</span><br><span class=\"line\">for arg in argv:</span><br><span class=\"line\">print(&quot;another arg through *argv:&quot;, arg)</span><br><span class=\"line\">test_var_args(&apos;yasoob&apos;, &apos;python&apos;, &apos;eggs&apos;, &apos;test&apos;)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">first normal arg: yasoob</span><br><span class=\"line\">another arg through *argv: python</span><br><span class=\"line\">another arg through *argv: eggs</span><br><span class=\"line\">another arg through *argv: test</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"kwargs\"><a href=\"#kwargs\" class=\"headerlink\" title=\"*kwargs\"></a>*kwargs</h2><p>*kwargs允许将不定长度的键值对作为参数传递给一个函数，如果想在一个函数里处理带名字的参数，应该使用**kwargs<br>使用示例如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def getArgs(f_arg, *args):</span><br><span class=\"line\">    print &quot;first is&quot; + f_arg</span><br><span class=\"line\">    for arg in args:</span><br><span class=\"line\">        print &quot;the data is&quot; + arg </span><br><span class=\"line\">def gree(**kwa):</span><br><span class=\"line\">    for key, value in kwa.items():</span><br><span class=\"line\">        print(&quot;&#123;0&#125; == &#123;1&#125;&quot;.format(key,value))</span><br><span class=\"line\">#getArgs(&apos;name1&apos;, &apos;name2&apos;, &apos;name3&apos;, &apos;name4&apos;)</span><br><span class=\"line\">gree(name=&apos;test&apos;, age=12, first=&quot;apple&quot;)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">age == 12</span><br><span class=\"line\">name == test</span><br><span class=\"line\">first == apple</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用-args和-kwargs来调用函数\"><a href=\"#使用-args和-kwargs来调用函数\" class=\"headerlink\" title=\"使用*args和**kwargs来调用函数\"></a>使用*args和**kwargs来调用函数</h2><p>如果存在以下函数：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def test_args_kwargs(arg1, arg2, arg3):</span><br><span class=\"line\">print(&quot;arg1:&quot;, arg1)</span><br><span class=\"line\">print(&quot;arg2:&quot;, arg2)</span><br><span class=\"line\">print(&quot;arg3:&quot;, arg3)</span><br></pre></td></tr></table></figure></p>\n<p>可以使用<em>args或**kwargs来给这个函数传递参数<br>(1)如果是</em>args<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">args = (&quot;two&quot;, 3, 5)</span><br><span class=\"line\">test_args_kwargs(*args)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arg1: two</span><br><span class=\"line\">arg2: 3</span><br><span class=\"line\">arg3: 5</span><br></pre></td></tr></table></figure></p>\n<p>(2)如果是**kwargs<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kwargs = &#123;&quot;arg3&quot;: 3, &quot;arg2&quot;: &quot;two&quot;, &quot;arg1&quot;: 5&#125;</span><br><span class=\"line\">test_args_kwargs(**kwargs)</span><br></pre></td></tr></table></figure></p>\n<p>输出：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arg1: 5</span><br><span class=\"line\">arg2: two</span><br><span class=\"line\">arg3: 3</span><br></pre></td></tr></table></figure></p>\n<p>(3)标准参数与<em>args、</em>kwargs在使用时的顺序<br>some_func(fargs, *args, **kwargs)</p>\n<h4 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h4><p><strong>函数装饰器</strong><br><strong>猴子补丁</strong></p>\n<p>##调试**<br><a href=\"https://www.hexiaojiao.top/2019/03/14/python_debugger/\" title=\"python debugger\">python debugger</a></p>\n<p>##生成器和迭代器</p>\n<p>##Map Filter和Reduce</p>\n"},{"title":"python数据结构","date":"2019-03-15T01:47:00.000Z","_content":"# 列表(List)\n[python list](https://www.hexiaojiao.top/2019/03/15/pythonlist/ \"python list\")\n\n# deque双向队列\n[python deque](https://www.hexiaojiao.top/2019/03/15/pythondeque/ \"python deque\")\n\n# 集合\n[python set](https://www.hexiaojiao.top/2019/03/15/pythonset/ \"python set\")\n","source":"_posts/pythonStructure.md","raw":"---\ntitle: python数据结构\ndate: 2019-03-15 09:47:00\ncategories: Python\n---\n# 列表(List)\n[python list](https://www.hexiaojiao.top/2019/03/15/pythonlist/ \"python list\")\n\n# deque双向队列\n[python deque](https://www.hexiaojiao.top/2019/03/15/pythondeque/ \"python deque\")\n\n# 集合\n[python set](https://www.hexiaojiao.top/2019/03/15/pythonset/ \"python set\")\n","slug":"pythonStructure","published":1,"updated":"2019-12-10T01:49:46.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtm0037d87p69q9h7eg","content":"<h1 id=\"列表-List\"><a href=\"#列表-List\" class=\"headerlink\" title=\"列表(List)\"></a>列表(List)</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythonlist/\" title=\"python list\">python list</a></p>\n<h1 id=\"deque双向队列\"><a href=\"#deque双向队列\" class=\"headerlink\" title=\"deque双向队列\"></a>deque双向队列</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythondeque/\" title=\"python deque\">python deque</a></p>\n<h1 id=\"集合\"><a href=\"#集合\" class=\"headerlink\" title=\"集合\"></a>集合</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythonset/\" title=\"python set\">python set</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"列表-List\"><a href=\"#列表-List\" class=\"headerlink\" title=\"列表(List)\"></a>列表(List)</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythonlist/\" title=\"python list\">python list</a></p>\n<h1 id=\"deque双向队列\"><a href=\"#deque双向队列\" class=\"headerlink\" title=\"deque双向队列\"></a>deque双向队列</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythondeque/\" title=\"python deque\">python deque</a></p>\n<h1 id=\"集合\"><a href=\"#集合\" class=\"headerlink\" title=\"集合\"></a>集合</h1><p><a href=\"https://www.hexiaojiao.top/2019/03/15/pythonset/\" title=\"python set\">python set</a></p>\n"},{"title":"补充python基础知识","date":"2019-03-14T07:26:10.000Z","_content":"##python运算符\n**幂**\n返回x的y次幂 10**20\n**取整除**\n//:返回商的整数部分，向下取整\n","source":"_posts/python_base.md","raw":"---\ntitle: 补充python基础知识\ndate: 2019-03-14 15:26:10\ncategories: Python\n---\n##python运算符\n**幂**\n返回x的y次幂 10**20\n**取整除**\n//:返回商的整数部分，向下取整\n","slug":"python_base","published":1,"updated":"2019-12-10T01:49:46.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtq003ad87p1dxh9w8y","content":"<p>##python运算符<br><strong>幂</strong><br>返回x的y次幂 10<strong>20\n</strong>取整除**<br>//:返回商的整数部分，向下取整</p>\n","site":{"data":{}},"excerpt":"","more":"<p>##python运算符<br><strong>幂</strong><br>返回x的y次幂 10<strong>20\n</strong>取整除**<br>//:返回商的整数部分，向下取整</p>\n"},{"title":"python debugger","date":"2019-03-14T03:48:10.000Z","_content":"##准备\n**来源**\nhttp://python.jobbole.com/81184/\n**初始代码**\n```\nimport sys\ndef add(num1=0, num2=0):\n    return int(num1) + int(num2)\ndef sub(num1=0, num2=0):\n    return int(num1) - int(num2)\ndef main():\n    #Assuming our inputs are valid numbers\n    print sys.argv\n    addition = add(sys.argv[1], sys.argv[2])\n    print addition\n    subtraction = sub(sys.argv[1], sys.argv[2])\n    print subtraction\nif __name__ == '__main__':\n    main()\n```\n## 基础用法\n```\nimport pdb\npdb.set_trace() //设置断点\n```\n在程序中添加断点\n```\nimport pdb\nimport sys\ndef add(num1=0, num2=0):\n    return int(num1) + int(num2)\ndef sub(num1=0, num2=0):\n    return int(num1) - int(num2)\ndef main():\n    #Assuming our inputs are valid numbers\n    print sys.argv\n    pdb.set_trace() # <-- Break point added here\n    addition = add(sys.argv[1], sys.argv[2])\n    print addition\n    subtraction = sub(sys.argv[1], sys.argv[2])\n    print subtraction\nif __name__ == '__main__':\n    main()\n```\n## 触发调试器\n程序会自动在断点处停止执行\n**下一行n**\n输入n运行到下一行\n**打印p**\n可以使用c使pdb跳到末尾或者直到下一个断点\n如果想知道sys.argv包含的内容，可以输入p sys.argv\n使用这种方法可以方便地查看变量中实际储存着什么值\n**单步s**\n可以使用s进入函数内部\nr返回到进入函数的返回语句\n**动态添加断点b**\nb 18:代表在18行设置一个断点\n**列表l**\nl可以显示出此刻在代码中的位置\n**结束**\nq\n**w**\nw:显示当前正在执行的代码行的上下文信息\n**a**\n打印当前函数的参数列表\n","source":"_posts/python_debugger.md","raw":"---\ntitle: python debugger\ndate: 2019-03-14 11:48:10\ncategories: Python\n---\n##准备\n**来源**\nhttp://python.jobbole.com/81184/\n**初始代码**\n```\nimport sys\ndef add(num1=0, num2=0):\n    return int(num1) + int(num2)\ndef sub(num1=0, num2=0):\n    return int(num1) - int(num2)\ndef main():\n    #Assuming our inputs are valid numbers\n    print sys.argv\n    addition = add(sys.argv[1], sys.argv[2])\n    print addition\n    subtraction = sub(sys.argv[1], sys.argv[2])\n    print subtraction\nif __name__ == '__main__':\n    main()\n```\n## 基础用法\n```\nimport pdb\npdb.set_trace() //设置断点\n```\n在程序中添加断点\n```\nimport pdb\nimport sys\ndef add(num1=0, num2=0):\n    return int(num1) + int(num2)\ndef sub(num1=0, num2=0):\n    return int(num1) - int(num2)\ndef main():\n    #Assuming our inputs are valid numbers\n    print sys.argv\n    pdb.set_trace() # <-- Break point added here\n    addition = add(sys.argv[1], sys.argv[2])\n    print addition\n    subtraction = sub(sys.argv[1], sys.argv[2])\n    print subtraction\nif __name__ == '__main__':\n    main()\n```\n## 触发调试器\n程序会自动在断点处停止执行\n**下一行n**\n输入n运行到下一行\n**打印p**\n可以使用c使pdb跳到末尾或者直到下一个断点\n如果想知道sys.argv包含的内容，可以输入p sys.argv\n使用这种方法可以方便地查看变量中实际储存着什么值\n**单步s**\n可以使用s进入函数内部\nr返回到进入函数的返回语句\n**动态添加断点b**\nb 18:代表在18行设置一个断点\n**列表l**\nl可以显示出此刻在代码中的位置\n**结束**\nq\n**w**\nw:显示当前正在执行的代码行的上下文信息\n**a**\n打印当前函数的参数列表\n","slug":"python_debugger","published":1,"updated":"2019-12-10T01:49:46.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtt003cd87pgazkow5r","content":"<p>##准备<br><strong>来源</strong><br><a href=\"http://python.jobbole.com/81184/\" target=\"_blank\" rel=\"noopener\">http://python.jobbole.com/81184/</a><br><strong>初始代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import sys</span><br><span class=\"line\">def add(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) + int(num2)</span><br><span class=\"line\">def sub(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) - int(num2)</span><br><span class=\"line\">def main():</span><br><span class=\"line\">    #Assuming our inputs are valid numbers</span><br><span class=\"line\">    print sys.argv</span><br><span class=\"line\">    addition = add(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print addition</span><br><span class=\"line\">    subtraction = sub(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print subtraction</span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"基础用法\"><a href=\"#基础用法\" class=\"headerlink\" title=\"基础用法\"></a>基础用法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import pdb</span><br><span class=\"line\">pdb.set_trace() //设置断点</span><br></pre></td></tr></table></figure>\n<p>在程序中添加断点<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import pdb</span><br><span class=\"line\">import sys</span><br><span class=\"line\">def add(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) + int(num2)</span><br><span class=\"line\">def sub(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) - int(num2)</span><br><span class=\"line\">def main():</span><br><span class=\"line\">    #Assuming our inputs are valid numbers</span><br><span class=\"line\">    print sys.argv</span><br><span class=\"line\">    pdb.set_trace() # &lt;-- Break point added here</span><br><span class=\"line\">    addition = add(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print addition</span><br><span class=\"line\">    subtraction = sub(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print subtraction</span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"触发调试器\"><a href=\"#触发调试器\" class=\"headerlink\" title=\"触发调试器\"></a>触发调试器</h2><p>程序会自动在断点处停止执行<br><strong>下一行n</strong><br>输入n运行到下一行<br><strong>打印p</strong><br>可以使用c使pdb跳到末尾或者直到下一个断点<br>如果想知道sys.argv包含的内容，可以输入p sys.argv<br>使用这种方法可以方便地查看变量中实际储存着什么值<br><strong>单步s</strong><br>可以使用s进入函数内部<br>r返回到进入函数的返回语句<br><strong>动态添加断点b</strong><br>b 18:代表在18行设置一个断点<br><strong>列表l</strong><br>l可以显示出此刻在代码中的位置<br><strong>结束</strong><br>q<br><strong>w</strong><br>w:显示当前正在执行的代码行的上下文信息<br><strong>a</strong><br>打印当前函数的参数列表</p>\n","site":{"data":{}},"excerpt":"","more":"<p>##准备<br><strong>来源</strong><br><a href=\"http://python.jobbole.com/81184/\" target=\"_blank\" rel=\"noopener\">http://python.jobbole.com/81184/</a><br><strong>初始代码</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import sys</span><br><span class=\"line\">def add(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) + int(num2)</span><br><span class=\"line\">def sub(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) - int(num2)</span><br><span class=\"line\">def main():</span><br><span class=\"line\">    #Assuming our inputs are valid numbers</span><br><span class=\"line\">    print sys.argv</span><br><span class=\"line\">    addition = add(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print addition</span><br><span class=\"line\">    subtraction = sub(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print subtraction</span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"基础用法\"><a href=\"#基础用法\" class=\"headerlink\" title=\"基础用法\"></a>基础用法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import pdb</span><br><span class=\"line\">pdb.set_trace() //设置断点</span><br></pre></td></tr></table></figure>\n<p>在程序中添加断点<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import pdb</span><br><span class=\"line\">import sys</span><br><span class=\"line\">def add(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) + int(num2)</span><br><span class=\"line\">def sub(num1=0, num2=0):</span><br><span class=\"line\">    return int(num1) - int(num2)</span><br><span class=\"line\">def main():</span><br><span class=\"line\">    #Assuming our inputs are valid numbers</span><br><span class=\"line\">    print sys.argv</span><br><span class=\"line\">    pdb.set_trace() # &lt;-- Break point added here</span><br><span class=\"line\">    addition = add(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print addition</span><br><span class=\"line\">    subtraction = sub(sys.argv[1], sys.argv[2])</span><br><span class=\"line\">    print subtraction</span><br><span class=\"line\">if __name__ == &apos;__main__&apos;:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"触发调试器\"><a href=\"#触发调试器\" class=\"headerlink\" title=\"触发调试器\"></a>触发调试器</h2><p>程序会自动在断点处停止执行<br><strong>下一行n</strong><br>输入n运行到下一行<br><strong>打印p</strong><br>可以使用c使pdb跳到末尾或者直到下一个断点<br>如果想知道sys.argv包含的内容，可以输入p sys.argv<br>使用这种方法可以方便地查看变量中实际储存着什么值<br><strong>单步s</strong><br>可以使用s进入函数内部<br>r返回到进入函数的返回语句<br><strong>动态添加断点b</strong><br>b 18:代表在18行设置一个断点<br><strong>列表l</strong><br>l可以显示出此刻在代码中的位置<br><strong>结束</strong><br>q<br><strong>w</strong><br>w:显示当前正在执行的代码行的上下文信息<br><strong>a</strong><br>打印当前函数的参数列表</p>\n"},{"title":"python数据结构之列表","date":"2019-03-15T05:47:00.000Z","_content":"**介绍**\n\n可以作为一个方括号内的逗号分隔值出现，列表的数据项不需要具有相同的类型\n**操作**\n（1）取值：\nlist[0], list[0:3] （list[-2]代表读取列表中倒数第二个元素）\n（2）更新列表\n添加元素：append--> list.append('test')\n删除元素：del---> del list[2]\n**脚本操作符**\n\n| python表达式 | 结果 | 描述 \n| --- | --- | --- |\n| len([1,2,3]) | 3 | 长度 |\n| [1, 2, 3] + [4, 5, 6] | [1, 2, 3, 4, 5, 6] | 组合 |\n| ['Hi!'] * 4 | ['Hi!', 'Hi!', 'Hi!', 'Hi!'] | 重复 |\n| 3 in [1, 2, 3] | \tTrue | 元素是否存在于列表中 |\n| for x in [1, 2, 3]: print x, | 1 2 3 | 迭代 |\n**函数&方法**\n\n| 函数 | 作用 | \n| --- | --- |\n| cmp(list1, list2) | 比较两个列表的元素 |\n| len(list) | 列表元素个数 |\n| max(list) | 返回列表元素最大值 |\n| min(list) | 返回列表元素最小值 |\n| list(seq) | 将元组转换为列表 |\n\n| 方法 | 作用 | \n| --- | --- |\n| list.append(obj) | 在列表末尾添加新的对象 |\n| list.count(obj) | 统计某个元素在列表中出现的次数 |\n| list.extend(seq) | 在列表末尾一次性追加另一个序列的多个值（用新列表扩展原来的列表） |\n| list.index(obj) | 从列表中找出某个值第一个匹配项的索引位置 |\n| list.insert(index, obj) | 将对象插入列表 |\n| list.pop([index=-1]) | 移除列表中的一个元素（默认最后一个元素），并返回该元素的值 |\n| list.remove(obj) | 移除列表中的某个值的第一个匹配项 |\n| list.reverse() | 反向列表中的元素 |\n| list.sort(cmp=None, key=None, reverse=False) | 对原列表进行排序 |\n**注意事项**\n切片：[m:n]从索引m开始，直到索引n为止，但不包括索引n\n句尾加逗号：输出在一行中\nsort():直接修改原列表，返回None\n","source":"_posts/pythonlist.md","raw":"---\ntitle: python数据结构之列表\ndate: 2019-03-15 13:47:00\ncategories: Python\n---\n**介绍**\n\n可以作为一个方括号内的逗号分隔值出现，列表的数据项不需要具有相同的类型\n**操作**\n（1）取值：\nlist[0], list[0:3] （list[-2]代表读取列表中倒数第二个元素）\n（2）更新列表\n添加元素：append--> list.append('test')\n删除元素：del---> del list[2]\n**脚本操作符**\n\n| python表达式 | 结果 | 描述 \n| --- | --- | --- |\n| len([1,2,3]) | 3 | 长度 |\n| [1, 2, 3] + [4, 5, 6] | [1, 2, 3, 4, 5, 6] | 组合 |\n| ['Hi!'] * 4 | ['Hi!', 'Hi!', 'Hi!', 'Hi!'] | 重复 |\n| 3 in [1, 2, 3] | \tTrue | 元素是否存在于列表中 |\n| for x in [1, 2, 3]: print x, | 1 2 3 | 迭代 |\n**函数&方法**\n\n| 函数 | 作用 | \n| --- | --- |\n| cmp(list1, list2) | 比较两个列表的元素 |\n| len(list) | 列表元素个数 |\n| max(list) | 返回列表元素最大值 |\n| min(list) | 返回列表元素最小值 |\n| list(seq) | 将元组转换为列表 |\n\n| 方法 | 作用 | \n| --- | --- |\n| list.append(obj) | 在列表末尾添加新的对象 |\n| list.count(obj) | 统计某个元素在列表中出现的次数 |\n| list.extend(seq) | 在列表末尾一次性追加另一个序列的多个值（用新列表扩展原来的列表） |\n| list.index(obj) | 从列表中找出某个值第一个匹配项的索引位置 |\n| list.insert(index, obj) | 将对象插入列表 |\n| list.pop([index=-1]) | 移除列表中的一个元素（默认最后一个元素），并返回该元素的值 |\n| list.remove(obj) | 移除列表中的某个值的第一个匹配项 |\n| list.reverse() | 反向列表中的元素 |\n| list.sort(cmp=None, key=None, reverse=False) | 对原列表进行排序 |\n**注意事项**\n切片：[m:n]从索引m开始，直到索引n为止，但不包括索引n\n句尾加逗号：输出在一行中\nsort():直接修改原列表，返回None\n","slug":"pythonlist","published":1,"updated":"2019-12-10T01:49:46.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwtx003fd87pbjlzf9gb","content":"<p><strong>介绍</strong></p>\n<p>可以作为一个方括号内的逗号分隔值出现，列表的数据项不需要具有相同的类型<br><strong>操作</strong><br>（1）取值：<br>list[0], list[0:3] （list[-2]代表读取列表中倒数第二个元素）<br>（2）更新列表<br>添加元素：append–&gt; list.append(‘test’)<br>删除元素：del—&gt; del list[2]<br><strong>脚本操作符</strong></p>\n<table>\n<thead>\n<tr>\n<th>python表达式</th>\n<th>结果</th>\n<th>描述 </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>len([1,2,3])</td>\n<td>3</td>\n<td>长度</td>\n</tr>\n<tr>\n<td>[1, 2, 3] + [4, 5, 6]</td>\n<td>[1, 2, 3, 4, 5, 6]</td>\n<td>组合</td>\n</tr>\n<tr>\n<td>[‘Hi!’] * 4</td>\n<td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td>\n<td>重复</td>\n</tr>\n<tr>\n<td>3 in [1, 2, 3]</td>\n<td>True</td>\n<td>元素是否存在于列表中</td>\n</tr>\n<tr>\n<td>for x in [1, 2, 3]: print x,</td>\n<td>1 2 3</td>\n<td>迭代</td>\n</tr>\n</tbody>\n</table>\n<p><strong>函数&amp;方法</strong></p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cmp(list1, list2)</td>\n<td>比较两个列表的元素</td>\n</tr>\n<tr>\n<td>len(list)</td>\n<td>列表元素个数</td>\n</tr>\n<tr>\n<td>max(list)</td>\n<td>返回列表元素最大值</td>\n</tr>\n<tr>\n<td>min(list)</td>\n<td>返回列表元素最小值</td>\n</tr>\n<tr>\n<td>list(seq)</td>\n<td>将元组转换为列表</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>list.append(obj)</td>\n<td>在列表末尾添加新的对象</td>\n</tr>\n<tr>\n<td>list.count(obj)</td>\n<td>统计某个元素在列表中出现的次数</td>\n</tr>\n<tr>\n<td>list.extend(seq)</td>\n<td>在列表末尾一次性追加另一个序列的多个值（用新列表扩展原来的列表）</td>\n</tr>\n<tr>\n<td>list.index(obj)</td>\n<td>从列表中找出某个值第一个匹配项的索引位置</td>\n</tr>\n<tr>\n<td>list.insert(index, obj)</td>\n<td>将对象插入列表</td>\n</tr>\n<tr>\n<td>list.pop([index=-1])</td>\n<td>移除列表中的一个元素（默认最后一个元素），并返回该元素的值</td>\n</tr>\n<tr>\n<td>list.remove(obj)</td>\n<td>移除列表中的某个值的第一个匹配项</td>\n</tr>\n<tr>\n<td>list.reverse()</td>\n<td>反向列表中的元素</td>\n</tr>\n<tr>\n<td>list.sort(cmp=None, key=None, reverse=False)</td>\n<td>对原列表进行排序</td>\n</tr>\n</tbody>\n</table>\n<p><strong>注意事项</strong><br>切片：[m:n]从索引m开始，直到索引n为止，但不包括索引n<br>句尾加逗号：输出在一行中<br>sort():直接修改原列表，返回None</p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>介绍</strong></p>\n<p>可以作为一个方括号内的逗号分隔值出现，列表的数据项不需要具有相同的类型<br><strong>操作</strong><br>（1）取值：<br>list[0], list[0:3] （list[-2]代表读取列表中倒数第二个元素）<br>（2）更新列表<br>添加元素：append–&gt; list.append(‘test’)<br>删除元素：del—&gt; del list[2]<br><strong>脚本操作符</strong></p>\n<table>\n<thead>\n<tr>\n<th>python表达式</th>\n<th>结果</th>\n<th>描述 </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>len([1,2,3])</td>\n<td>3</td>\n<td>长度</td>\n</tr>\n<tr>\n<td>[1, 2, 3] + [4, 5, 6]</td>\n<td>[1, 2, 3, 4, 5, 6]</td>\n<td>组合</td>\n</tr>\n<tr>\n<td>[‘Hi!’] * 4</td>\n<td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td>\n<td>重复</td>\n</tr>\n<tr>\n<td>3 in [1, 2, 3]</td>\n<td>True</td>\n<td>元素是否存在于列表中</td>\n</tr>\n<tr>\n<td>for x in [1, 2, 3]: print x,</td>\n<td>1 2 3</td>\n<td>迭代</td>\n</tr>\n</tbody>\n</table>\n<p><strong>函数&amp;方法</strong></p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cmp(list1, list2)</td>\n<td>比较两个列表的元素</td>\n</tr>\n<tr>\n<td>len(list)</td>\n<td>列表元素个数</td>\n</tr>\n<tr>\n<td>max(list)</td>\n<td>返回列表元素最大值</td>\n</tr>\n<tr>\n<td>min(list)</td>\n<td>返回列表元素最小值</td>\n</tr>\n<tr>\n<td>list(seq)</td>\n<td>将元组转换为列表</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>list.append(obj)</td>\n<td>在列表末尾添加新的对象</td>\n</tr>\n<tr>\n<td>list.count(obj)</td>\n<td>统计某个元素在列表中出现的次数</td>\n</tr>\n<tr>\n<td>list.extend(seq)</td>\n<td>在列表末尾一次性追加另一个序列的多个值（用新列表扩展原来的列表）</td>\n</tr>\n<tr>\n<td>list.index(obj)</td>\n<td>从列表中找出某个值第一个匹配项的索引位置</td>\n</tr>\n<tr>\n<td>list.insert(index, obj)</td>\n<td>将对象插入列表</td>\n</tr>\n<tr>\n<td>list.pop([index=-1])</td>\n<td>移除列表中的一个元素（默认最后一个元素），并返回该元素的值</td>\n</tr>\n<tr>\n<td>list.remove(obj)</td>\n<td>移除列表中的某个值的第一个匹配项</td>\n</tr>\n<tr>\n<td>list.reverse()</td>\n<td>反向列表中的元素</td>\n</tr>\n<tr>\n<td>list.sort(cmp=None, key=None, reverse=False)</td>\n<td>对原列表进行排序</td>\n</tr>\n</tbody>\n</table>\n<p><strong>注意事项</strong><br>切片：[m:n]从索引m开始，直到索引n为止，但不包括索引n<br>句尾加逗号：输出在一行中<br>sort():直接修改原列表，返回None</p>\n"},{"title":"python数据结构之双向队列","date":"2019-03-15T01:47:00.000Z","_content":"**介绍**\n两端都可以操作的序列\n**基本操作**\n创建：\nimport collections\nd = collections.deque()\n往右边添加一个元素：\nd.append(1)\nd.append('adc')\n往左添加一个元素：\nd.appendleft(3)\n清空队列：\nd.clear\n浅拷贝：\nd1 = d.copy()\n返回指定元素的出现次数：\nd.count(1)\n从队列右边扩展一个列表的元素：\nd.extend([3,4,5])\n从队列左边扩展一个列表的元素：\nd.extendleft([3,4,5])\n查找某个元素的索引位置：\nd.index(\"c\", 0, 2) //指定查找区间\n在指定位置插入元素：\nd.insert(2,\"z\")\n删除最右边一个元素（返回删除的元素）\nd.pop()\n删除最左边一个元素（返回删除的元素）\nd.popleft()\n删除指定元素\nd.remove(\"c\")\n队列翻转\nd.reverse()\n把右边元素放左边\nd.rotate(2) (每个元素向右移动n个，右边元素往左进)\n\n\nfeature/20190315_auto_reconcile_log\nhttp://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&per_page=683&page=1\n","source":"_posts/pythondeque.md","raw":"---\ntitle: python数据结构之双向队列\ndate: 2019-03-15 09:47:00\ncategories: Python\n---\n**介绍**\n两端都可以操作的序列\n**基本操作**\n创建：\nimport collections\nd = collections.deque()\n往右边添加一个元素：\nd.append(1)\nd.append('adc')\n往左添加一个元素：\nd.appendleft(3)\n清空队列：\nd.clear\n浅拷贝：\nd1 = d.copy()\n返回指定元素的出现次数：\nd.count(1)\n从队列右边扩展一个列表的元素：\nd.extend([3,4,5])\n从队列左边扩展一个列表的元素：\nd.extendleft([3,4,5])\n查找某个元素的索引位置：\nd.index(\"c\", 0, 2) //指定查找区间\n在指定位置插入元素：\nd.insert(2,\"z\")\n删除最右边一个元素（返回删除的元素）\nd.pop()\n删除最左边一个元素（返回删除的元素）\nd.popleft()\n删除指定元素\nd.remove(\"c\")\n队列翻转\nd.reverse()\n把右边元素放左边\nd.rotate(2) (每个元素向右移动n个，右边元素往左进)\n\n\nfeature/20190315_auto_reconcile_log\nhttp://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&per_page=683&page=1\n","slug":"pythondeque","published":1,"updated":"2019-12-10T01:49:46.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwu0003hd87px1bk1ifg","content":"<p><strong>介绍</strong><br>两端都可以操作的序列<br><strong>基本操作</strong><br>创建：<br>import collections<br>d = collections.deque()<br>往右边添加一个元素：<br>d.append(1)<br>d.append(‘adc’)<br>往左添加一个元素：<br>d.appendleft(3)<br>清空队列：<br>d.clear<br>浅拷贝：<br>d1 = d.copy()<br>返回指定元素的出现次数：<br>d.count(1)<br>从队列右边扩展一个列表的元素：<br>d.extend([3,4,5])<br>从队列左边扩展一个列表的元素：<br>d.extendleft([3,4,5])<br>查找某个元素的索引位置：<br>d.index(“c”, 0, 2) //指定查找区间<br>在指定位置插入元素：<br>d.insert(2,”z”)<br>删除最右边一个元素（返回删除的元素）<br>d.pop()<br>删除最左边一个元素（返回删除的元素）<br>d.popleft()<br>删除指定元素<br>d.remove(“c”)<br>队列翻转<br>d.reverse()<br>把右边元素放左边<br>d.rotate(2) (每个元素向右移动n个，右边元素往左进)</p>\n<p>feature/20190315_auto_reconcile_log<br><a href=\"http://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&amp;per_page=683&amp;page=1\" target=\"_blank\" rel=\"noopener\">http://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&amp;per_page=683&amp;page=1</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>介绍</strong><br>两端都可以操作的序列<br><strong>基本操作</strong><br>创建：<br>import collections<br>d = collections.deque()<br>往右边添加一个元素：<br>d.append(1)<br>d.append(‘adc’)<br>往左添加一个元素：<br>d.appendleft(3)<br>清空队列：<br>d.clear<br>浅拷贝：<br>d1 = d.copy()<br>返回指定元素的出现次数：<br>d.count(1)<br>从队列右边扩展一个列表的元素：<br>d.extend([3,4,5])<br>从队列左边扩展一个列表的元素：<br>d.extendleft([3,4,5])<br>查找某个元素的索引位置：<br>d.index(“c”, 0, 2) //指定查找区间<br>在指定位置插入元素：<br>d.insert(2,”z”)<br>删除最右边一个元素（返回删除的元素）<br>d.pop()<br>删除最左边一个元素（返回删除的元素）<br>d.popleft()<br>删除指定元素<br>d.remove(“c”)<br>队列翻转<br>d.reverse()<br>把右边元素放左边<br>d.rotate(2) (每个元素向右移动n个，右边元素往左进)</p>\n<p>feature/20190315_auto_reconcile_log<br><a href=\"http://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&amp;per_page=683&amp;page=1\" target=\"_blank\" rel=\"noopener\">http://finance.administration.dev5.tff.com/reconciliation/download?platform=%E9%A9%AC%E8%9C%82%E7%AA%9D&amp;per_page=683&amp;page=1</a></p>\n"},{"title":"python数据结构之集合","date":"2019-03-15T05:52:00.000Z","_content":"**介绍**\n集合是一个无序的不重复的元素序列\n**操作**\n创建集合：\n{}或set()，创建一个空集合必须用set()，{}创建空字典(set(\"asdgf\")会创建['a', 's', 'd', 'g', 'f'],set()创建多个元素需要两个())\nparame = {value01,value02,...}或set(value)\n添加元素：\ns.add(x)\ns.update(x)    ->  参数可以是列表，元组，字典等，x可以有多个，用逗号分开\n```\nthisset = set((\"Google\", \"Runoob\", \"Taobao\"))\nthisset.update({1,3})\nprint(thisset)\n{1, 3, 'Google', 'Taobao', 'Runoob'}\nthisset.update([1,4],[5,6])  \nprint(thisset)\n{1, 3, 4, 5, 6, 'Google', 'Taobao', 'Runoob'}\n```\n移除元素：\ns.remove(x)   将元素x从集合x移除，如果元素不存在则会发生错误\ns.discard(x)  将元素x从集合x移除，如果元素不存在不会发生错误\n计算集合元素个数：\nlen(s)\n```\nthisset = set((\"Google\", \"Runoob\", \"Taobao\"))\nlen(thisset)\n```\n返回3\n清空集合：\ns.clear()\n判断元素x是否在集合s中：\nx in s\n**内置方法**\n\n| 方法 | 描述 | \n| --- | --- |\n| add() | 为集合添加元素 |\n| clear() | 移除集合中的所有元素 |\n| copy() | 拷贝一个集合 |\n| difference() | 返回多个集合的差集 |\n| difference_update() | 移除集合中的元素，该元素在指定的集合也存在 |\n| discard() | 删除集合中指定的元素 |\n| intersection() | 返回集合的交集 |\n| intersection_update() | 删除集合中的元素，该元素在指定的集合中不存在 |\n| isdisjoint() | 判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False |\n| issubset() | 判断指定集合是否为该方法参数集合的子集 |\n| issuperset() | 判断该方法的参数集合是否为指定集合的子集 |\n| pop() | 随机移除元素 |\n| remove() | 移除指定元素 |\n| symmetric_difference() | 返回两个集合中不重复的元素集合 |\n| symmetric_difference_update() | 移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中 |\n| union() | 返回两个集合的并集 |\n| update() | 给集合添加元素 |\n","source":"_posts/pythonset.md","raw":"---\ntitle: python数据结构之集合\ndate: 2019-03-15 13:52:00\ncategories: Python\n---\n**介绍**\n集合是一个无序的不重复的元素序列\n**操作**\n创建集合：\n{}或set()，创建一个空集合必须用set()，{}创建空字典(set(\"asdgf\")会创建['a', 's', 'd', 'g', 'f'],set()创建多个元素需要两个())\nparame = {value01,value02,...}或set(value)\n添加元素：\ns.add(x)\ns.update(x)    ->  参数可以是列表，元组，字典等，x可以有多个，用逗号分开\n```\nthisset = set((\"Google\", \"Runoob\", \"Taobao\"))\nthisset.update({1,3})\nprint(thisset)\n{1, 3, 'Google', 'Taobao', 'Runoob'}\nthisset.update([1,4],[5,6])  \nprint(thisset)\n{1, 3, 4, 5, 6, 'Google', 'Taobao', 'Runoob'}\n```\n移除元素：\ns.remove(x)   将元素x从集合x移除，如果元素不存在则会发生错误\ns.discard(x)  将元素x从集合x移除，如果元素不存在不会发生错误\n计算集合元素个数：\nlen(s)\n```\nthisset = set((\"Google\", \"Runoob\", \"Taobao\"))\nlen(thisset)\n```\n返回3\n清空集合：\ns.clear()\n判断元素x是否在集合s中：\nx in s\n**内置方法**\n\n| 方法 | 描述 | \n| --- | --- |\n| add() | 为集合添加元素 |\n| clear() | 移除集合中的所有元素 |\n| copy() | 拷贝一个集合 |\n| difference() | 返回多个集合的差集 |\n| difference_update() | 移除集合中的元素，该元素在指定的集合也存在 |\n| discard() | 删除集合中指定的元素 |\n| intersection() | 返回集合的交集 |\n| intersection_update() | 删除集合中的元素，该元素在指定的集合中不存在 |\n| isdisjoint() | 判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False |\n| issubset() | 判断指定集合是否为该方法参数集合的子集 |\n| issuperset() | 判断该方法的参数集合是否为指定集合的子集 |\n| pop() | 随机移除元素 |\n| remove() | 移除指定元素 |\n| symmetric_difference() | 返回两个集合中不重复的元素集合 |\n| symmetric_difference_update() | 移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中 |\n| union() | 返回两个集合的并集 |\n| update() | 给集合添加元素 |\n","slug":"pythonset","published":1,"updated":"2019-12-10T01:49:46.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwu7003jd87pkuhwe5r4","content":"<p><strong>介绍</strong><br>集合是一个无序的不重复的元素序列<br><strong>操作</strong><br>创建集合：<br>{}或set()，创建一个空集合必须用set()，{}创建空字典(set(“asdgf”)会创建[‘a’, ‘s’, ‘d’, ‘g’, ‘f’],set()创建多个元素需要两个())<br>parame = {value01,value02,…}或set(value)<br>添加元素：<br>s.add(x)<br>s.update(x)    -&gt;  参数可以是列表，元组，字典等，x可以有多个，用逗号分开<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">thisset = set((&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;))</span><br><span class=\"line\">thisset.update(&#123;1,3&#125;)</span><br><span class=\"line\">print(thisset)</span><br><span class=\"line\">&#123;1, 3, &apos;Google&apos;, &apos;Taobao&apos;, &apos;Runoob&apos;&#125;</span><br><span class=\"line\">thisset.update([1,4],[5,6])  </span><br><span class=\"line\">print(thisset)</span><br><span class=\"line\">&#123;1, 3, 4, 5, 6, &apos;Google&apos;, &apos;Taobao&apos;, &apos;Runoob&apos;&#125;</span><br></pre></td></tr></table></figure></p>\n<p>移除元素：<br>s.remove(x)   将元素x从集合x移除，如果元素不存在则会发生错误<br>s.discard(x)  将元素x从集合x移除，如果元素不存在不会发生错误<br>计算集合元素个数：<br>len(s)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">thisset = set((&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;))</span><br><span class=\"line\">len(thisset)</span><br></pre></td></tr></table></figure></p>\n<p>返回3<br>清空集合：<br>s.clear()<br>判断元素x是否在集合s中：<br>x in s<br><strong>内置方法</strong></p>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>add()</td>\n<td>为集合添加元素</td>\n</tr>\n<tr>\n<td>clear()</td>\n<td>移除集合中的所有元素</td>\n</tr>\n<tr>\n<td>copy()</td>\n<td>拷贝一个集合</td>\n</tr>\n<tr>\n<td>difference()</td>\n<td>返回多个集合的差集</td>\n</tr>\n<tr>\n<td>difference_update()</td>\n<td>移除集合中的元素，该元素在指定的集合也存在</td>\n</tr>\n<tr>\n<td>discard()</td>\n<td>删除集合中指定的元素</td>\n</tr>\n<tr>\n<td>intersection()</td>\n<td>返回集合的交集</td>\n</tr>\n<tr>\n<td>intersection_update()</td>\n<td>删除集合中的元素，该元素在指定的集合中不存在</td>\n</tr>\n<tr>\n<td>isdisjoint()</td>\n<td>判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False</td>\n</tr>\n<tr>\n<td>issubset()</td>\n<td>判断指定集合是否为该方法参数集合的子集</td>\n</tr>\n<tr>\n<td>issuperset()</td>\n<td>判断该方法的参数集合是否为指定集合的子集</td>\n</tr>\n<tr>\n<td>pop()</td>\n<td>随机移除元素</td>\n</tr>\n<tr>\n<td>remove()</td>\n<td>移除指定元素</td>\n</tr>\n<tr>\n<td>symmetric_difference()</td>\n<td>返回两个集合中不重复的元素集合</td>\n</tr>\n<tr>\n<td>symmetric_difference_update()</td>\n<td>移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中</td>\n</tr>\n<tr>\n<td>union()</td>\n<td>返回两个集合的并集</td>\n</tr>\n<tr>\n<td>update()</td>\n<td>给集合添加元素</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>介绍</strong><br>集合是一个无序的不重复的元素序列<br><strong>操作</strong><br>创建集合：<br>{}或set()，创建一个空集合必须用set()，{}创建空字典(set(“asdgf”)会创建[‘a’, ‘s’, ‘d’, ‘g’, ‘f’],set()创建多个元素需要两个())<br>parame = {value01,value02,…}或set(value)<br>添加元素：<br>s.add(x)<br>s.update(x)    -&gt;  参数可以是列表，元组，字典等，x可以有多个，用逗号分开<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">thisset = set((&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;))</span><br><span class=\"line\">thisset.update(&#123;1,3&#125;)</span><br><span class=\"line\">print(thisset)</span><br><span class=\"line\">&#123;1, 3, &apos;Google&apos;, &apos;Taobao&apos;, &apos;Runoob&apos;&#125;</span><br><span class=\"line\">thisset.update([1,4],[5,6])  </span><br><span class=\"line\">print(thisset)</span><br><span class=\"line\">&#123;1, 3, 4, 5, 6, &apos;Google&apos;, &apos;Taobao&apos;, &apos;Runoob&apos;&#125;</span><br></pre></td></tr></table></figure></p>\n<p>移除元素：<br>s.remove(x)   将元素x从集合x移除，如果元素不存在则会发生错误<br>s.discard(x)  将元素x从集合x移除，如果元素不存在不会发生错误<br>计算集合元素个数：<br>len(s)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">thisset = set((&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;))</span><br><span class=\"line\">len(thisset)</span><br></pre></td></tr></table></figure></p>\n<p>返回3<br>清空集合：<br>s.clear()<br>判断元素x是否在集合s中：<br>x in s<br><strong>内置方法</strong></p>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>add()</td>\n<td>为集合添加元素</td>\n</tr>\n<tr>\n<td>clear()</td>\n<td>移除集合中的所有元素</td>\n</tr>\n<tr>\n<td>copy()</td>\n<td>拷贝一个集合</td>\n</tr>\n<tr>\n<td>difference()</td>\n<td>返回多个集合的差集</td>\n</tr>\n<tr>\n<td>difference_update()</td>\n<td>移除集合中的元素，该元素在指定的集合也存在</td>\n</tr>\n<tr>\n<td>discard()</td>\n<td>删除集合中指定的元素</td>\n</tr>\n<tr>\n<td>intersection()</td>\n<td>返回集合的交集</td>\n</tr>\n<tr>\n<td>intersection_update()</td>\n<td>删除集合中的元素，该元素在指定的集合中不存在</td>\n</tr>\n<tr>\n<td>isdisjoint()</td>\n<td>判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False</td>\n</tr>\n<tr>\n<td>issubset()</td>\n<td>判断指定集合是否为该方法参数集合的子集</td>\n</tr>\n<tr>\n<td>issuperset()</td>\n<td>判断该方法的参数集合是否为指定集合的子集</td>\n</tr>\n<tr>\n<td>pop()</td>\n<td>随机移除元素</td>\n</tr>\n<tr>\n<td>remove()</td>\n<td>移除指定元素</td>\n</tr>\n<tr>\n<td>symmetric_difference()</td>\n<td>返回两个集合中不重复的元素集合</td>\n</tr>\n<tr>\n<td>symmetric_difference_update()</td>\n<td>移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中</td>\n</tr>\n<tr>\n<td>union()</td>\n<td>返回两个集合的并集</td>\n</tr>\n<tr>\n<td>update()</td>\n<td>给集合添加元素</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"react单元测试","date":"2019-07-29T02:40:10.000Z","_content":"# 测试\n## ESLint\n代码检查（分析JavaScript代码）,JSHint和JSLint是用于分析JavaScript代码的原生工具，并且可以为用户提供格式化代码的反馈意见；    \n","source":"_posts/reactUnit.md","raw":"---\ntitle: react单元测试\ndate: 2019-07-29 10:40:10\ntags: 学习\ncategories: \n- 前端\n- react\n---\n# 测试\n## ESLint\n代码检查（分析JavaScript代码）,JSHint和JSLint是用于分析JavaScript代码的原生工具，并且可以为用户提供格式化代码的反馈意见；    \n","slug":"reactUnit","published":1,"updated":"2019-12-10T01:49:46.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwul003md87p5isdy8rg","content":"<h1 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h1><h2 id=\"ESLint\"><a href=\"#ESLint\" class=\"headerlink\" title=\"ESLint\"></a>ESLint</h2><p>代码检查（分析JavaScript代码）,JSHint和JSLint是用于分析JavaScript代码的原生工具，并且可以为用户提供格式化代码的反馈意见；    </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h1><h2 id=\"ESLint\"><a href=\"#ESLint\" class=\"headerlink\" title=\"ESLint\"></a>ESLint</h2><p>代码检查（分析JavaScript代码）,JSHint和JSLint是用于分析JavaScript代码的原生工具，并且可以为用户提供格式化代码的反馈意见；    </p>\n"},{"title":"react学习-es6基础特性","date":"2019-07-08T01:37:10.000Z","_content":"# react学习手册\n## 新特性\n1 react开发者工具：react developer tools，可以查看网站react元素    \n2 yarn进行依赖管理：yarn.lock文件，可以使用yarn install安装，npm install yarn,yarn add [package-name],yarn remove [package-name]\n#### 变量声明\n1 const:常量，不能被修改，重写会报错；   \n2 let:变量，可以将变量作用域限定在任意代码块中（var不行）    \n3 模板字符串${}，可在字符串中插入变量\n#### 箭头函数\n1 介绍：用户可以不使用function关键字创建函数，通常还不需要return    \n2 箭头函数可以限制this的作用域，箭头函数没有自己的this,引用外层的this;\n#### ES6转译\n1 介绍：浏览器运行前将代码转成符合ES5规范的代码，Bable是当前最流行的转译工具之一\n#### ES6的对象和数组\n1 解构赋值：    \n(1)允许用户将某个对象内的字段的作用域本地化，并且声明哪些值是将要使用的。\n举例：  \n```javascript\n var sandwich =  {\n      bread: \"dutch crunch\",\n      meat: \"tuna\",\n      cheese: \"swiss\",\n      toppings: [\"lettuce\", \"tomato\", \"mustard\"]\n    }\n    var {bread, meat} = sandwich\n    console.log(bread, meat)\n    bread = \"garlic\"\n    meat = \"turkey\"\n    console.log(bread,meat)\n    console.log(sandwich.bread, sandwich.meat)\n\n```\n(2)除了使用点符号访问对象内部属性之外，还可以在对象之外解构需要使用的值。    \n```javascript\nvar regularPerson = {\n    firstname: \"Bill\",\n    lastname: \"Wilson\"\n    };\n    var lordify = ({firstname}) => {\n    \tconsole.log(`${firstname} of regularPerson`);\n    }\n    lordify(regularPerson);\n```\n(3)数组中的值也可以被解构，还可以使用都好进行列表匹配，跳过不需要的值；    \n```javascript\n   var [firstResort] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\n    console.log(firstResort)\n   var [, , third] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\n   console.log(third)\n```\n2 对象语义增强    \n可以从全局作用域中获得变量并转化成一个对象。还可以通过对象语义增强或重组构造对象的方法：    \n```javascript\n  let name = 'yaya';\n  let ela = 'test';\n  let func = {name, ela};\n  let test = function() {\n    console.log(`Mmt. ${this.name}  is aa ${this.ela} oo`);\n  }\n  console.log('func', func);\n  let funclike = {name, ela, test};\n  funclike.test();\n```\n定义了对象方法后就不需要使用关键字function了\n```javascript\n// 旧方案\nvar name = \"Léo Taillefer\"\n    var sound = \"Kahh\"\n    var skier = {\n      name: name,\n      sound: sound,\n      powderYell: function() {\n      var yell = this.sound.toUpperCase()\n      console.log(`${yell} ${yell} ${yell}!!!`)\n    },\n      speed: function(mph) {\n        this.speed = mph\n        console.log('speed:', mph)\n      }\n    }\n    skier.powderYell()\n    skier.speed(\"hair on fire\")\n    console.log(JSON.stringify(skier))\n```\n```javascript\n// 新方案\nvar name = \"Julia Mancuso\"\n    var sound = \"go fast\"\n    const skier = {\n      name,\n      sound,\n      powderYell() {\n        let yell = this.sound.toUpperCase()\n        console.log(`${yell} ${yell} ${yell}!!!`)\n      },\n      speed(mph) {\n        this.speed = mph\n        console.log('speed:', mph)\n      }\n    }\n    skier.powderYell()\n    skier.speed(350)\n    console.log(JSON.stringify(skier))\n```\n3 扩展运算符    \n（1）扩展运算符允许联合数组中的内容：\n```javascript\n    var peaks = [\"Tallac\", \"Ralston\", \"Rose\"]\n    var canyons = [\"Ward\", \"Blackwood\"]\n    var tahoe = [...peaks, ...canyons]\n    console.log(tahoe.join(', '))\n```\n（2）可以创建副本，不需要改变数组原生解构\n```\nvar peaks = [\"Tallac\", \"Ralston\", \"Rose\"]\nvar [last] = [...peaks].reverse()\nconsole.log(last);\nconsole.log(peaks.join(', '));\n```\n（3）可以用来获取数组中的其余元素\n```javascript\nvar peaks = [\"Tallac\", \"Ralston\", \"Rose\", \"te11\", \"tes12\"]\nvar [last, ...rest] = peaks;\nconsole.log(last);\nconsole.log(rest.join(', '));\n```\n（4）可以将函数参数收集到一个数组中\n```javascript\nfunction directions(...args) {\n      var [start, ...remaining] = args\n      var [finish, ...stops] = remaining.reverse()\n      console.log(`drive through ${args.length} towns`)\n      console.log(`start in ${start}`)\n      console.log(`the destination is ${finish}`)\n      console.log(`stopping ${stops.length} times in between`)\n    }\n    directions(\"Truckee\", \"Tahoe City\", \"Sunnyside\", \"Homewood\", \"Tahoma\")\n```\n（5）适用于对象\n```javascript\nvar morning = {\n  breakfast: \"oatmeal\",\n  lunch: \"peanut butter and jelly\"\n}\nvar dinner = \"mac and cheese\"\nvar backpackingMeals = {\n  ...morning,\n  dinner\n}\nconsole.log(backpackingMeals)\n```\n#### Promise对象\n1 介绍    \nPromise提供了一种更合理的方式处理异步行为,then函数可以通过链式调用执行某些任务，还可以使用另一个回调函数处理异常\n```javascript\nconst getFakeMembers = count => new Promise((resolves, rejects) => {\n      const api = `https://api.randomuser.me/?nat=US&results=${count}`\n      const request = new XMLHttpRequest()\n      request.open('GET', api)\n      request.onload = () =>\n           (request.status === 200) ?\n            resolves(JSON.parse(request.response).results) :\n            rejects(Error(request.statusText))\n      request.onerror = (err) => rejects(err)\n      request.send()\n    })\n\n    getFakeMembers(5).then(\n      members => console.log(members),\n      err => console.error(\n          new Error(\"cannot load members from randomuser.me\"))\n    )\n```\n#### 类\n1 背景介绍：    \n以前javascript没有类的概念，类型定义通过函数完成，创建一个函数，通过原型在函数对象上定义方法\n```javascript\n    // Constructor and the prototype, the old way\n\n    function Vacation(destination, length) {\n      this.destination = destination\n      this.length = length\n    }\n\n    Vacation.prototype.print = function() {\n      console.log(this.destination + \" will take \" + this.length + \" days\")\n    }\n\n    var maui = new Vacation(\"Maui\", 7)\n\n    maui.print()\n```\n2 新增语法    \n工作机制相同，函数即对象，继承通过原型机制实现    \n```javascript\n    class Vacation {\n\n    constructor(destination, length) {\n      this.destination = destination\n      this.length = length\n    }\n\n    print() {\n      console.log(`${this.destination} will take ${this.length} days.`)\n    }\n\n    }\n\n    const trip = new Vacation(\"Santiago, Chile\", 9)\n\n    trip.print()\n```\n3 类的继承    \n不仅可以直接继承，还可将类当做抽象类，添加新参数\n```typescript\nclass Vacation {\n      constructor(destination, length) {\n        this.destination = destination\n        this.length = length\n      }\n\n      print() {\n        console.log(`${this.destination} will take ${this.length} days.`)\n      }\n\n    }\n\n    class Expedition extends Vacation {\n      constructor(destination, length, gear) {\n        super(destination, length)\n        this.gear = gear\n      }\n\n      print() {\n        super.print()\n        console.log(`bring your ${this.gear.join(\" and your \")}`)\n      }\n    }\n\n    const trip = new Expedition(\n      \"Mt. Whitney\",\n      3,\n      [\"sunglasses\", \"prayer flags\", \"camera\"]\n    )\n\n    trip.print()\n```\n#### ES6模块\n1 介绍    \nES6规范的javascript为模块提供了支持，javascript模块可以存储在独立的文件中，一个文件对应一个模块，\n创建和导出一个模块中的数据有两种方式，用户可以从一个模块中导出一个或多个javascript对象    \n2 export    \n关键字export可以用来导出会在其他模块中用到的任意javascrip类型数据，其他变量将会以局部变量的形式存在。    \n当值导出一个变量或导出的数据值包含一种类型时，用户可以使用export default 替换export    \n3 import     \n与export相对，在其他javascript文件中调用模块：    \n（1）包含多个export语句的模块还可以进行对象解构    \n（2）使用export default的模块还可以被导入到单个变量中：\n```javascript\nimport freel from '/test'\n```\n（3）可以使用别名实现模块变量的本地化\n#### CommonJS\n1 介绍：    \nCommonJs是所有版本的node.js都支持的模块模式。用户可以通过Babel和webpack使用，导出使用module.export;    \nCommonJs不支持imporr语句，使用require进行模块导入\n\n","source":"_posts/react_01.md","raw":"---\ntitle: react学习-es6基础特性\ndate: 2019-07-08 09:37:10\ntags:\ncategories: \n- 前端\n- react\n---\n# react学习手册\n## 新特性\n1 react开发者工具：react developer tools，可以查看网站react元素    \n2 yarn进行依赖管理：yarn.lock文件，可以使用yarn install安装，npm install yarn,yarn add [package-name],yarn remove [package-name]\n#### 变量声明\n1 const:常量，不能被修改，重写会报错；   \n2 let:变量，可以将变量作用域限定在任意代码块中（var不行）    \n3 模板字符串${}，可在字符串中插入变量\n#### 箭头函数\n1 介绍：用户可以不使用function关键字创建函数，通常还不需要return    \n2 箭头函数可以限制this的作用域，箭头函数没有自己的this,引用外层的this;\n#### ES6转译\n1 介绍：浏览器运行前将代码转成符合ES5规范的代码，Bable是当前最流行的转译工具之一\n#### ES6的对象和数组\n1 解构赋值：    \n(1)允许用户将某个对象内的字段的作用域本地化，并且声明哪些值是将要使用的。\n举例：  \n```javascript\n var sandwich =  {\n      bread: \"dutch crunch\",\n      meat: \"tuna\",\n      cheese: \"swiss\",\n      toppings: [\"lettuce\", \"tomato\", \"mustard\"]\n    }\n    var {bread, meat} = sandwich\n    console.log(bread, meat)\n    bread = \"garlic\"\n    meat = \"turkey\"\n    console.log(bread,meat)\n    console.log(sandwich.bread, sandwich.meat)\n\n```\n(2)除了使用点符号访问对象内部属性之外，还可以在对象之外解构需要使用的值。    \n```javascript\nvar regularPerson = {\n    firstname: \"Bill\",\n    lastname: \"Wilson\"\n    };\n    var lordify = ({firstname}) => {\n    \tconsole.log(`${firstname} of regularPerson`);\n    }\n    lordify(regularPerson);\n```\n(3)数组中的值也可以被解构，还可以使用都好进行列表匹配，跳过不需要的值；    \n```javascript\n   var [firstResort] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\n    console.log(firstResort)\n   var [, , third] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\n   console.log(third)\n```\n2 对象语义增强    \n可以从全局作用域中获得变量并转化成一个对象。还可以通过对象语义增强或重组构造对象的方法：    \n```javascript\n  let name = 'yaya';\n  let ela = 'test';\n  let func = {name, ela};\n  let test = function() {\n    console.log(`Mmt. ${this.name}  is aa ${this.ela} oo`);\n  }\n  console.log('func', func);\n  let funclike = {name, ela, test};\n  funclike.test();\n```\n定义了对象方法后就不需要使用关键字function了\n```javascript\n// 旧方案\nvar name = \"Léo Taillefer\"\n    var sound = \"Kahh\"\n    var skier = {\n      name: name,\n      sound: sound,\n      powderYell: function() {\n      var yell = this.sound.toUpperCase()\n      console.log(`${yell} ${yell} ${yell}!!!`)\n    },\n      speed: function(mph) {\n        this.speed = mph\n        console.log('speed:', mph)\n      }\n    }\n    skier.powderYell()\n    skier.speed(\"hair on fire\")\n    console.log(JSON.stringify(skier))\n```\n```javascript\n// 新方案\nvar name = \"Julia Mancuso\"\n    var sound = \"go fast\"\n    const skier = {\n      name,\n      sound,\n      powderYell() {\n        let yell = this.sound.toUpperCase()\n        console.log(`${yell} ${yell} ${yell}!!!`)\n      },\n      speed(mph) {\n        this.speed = mph\n        console.log('speed:', mph)\n      }\n    }\n    skier.powderYell()\n    skier.speed(350)\n    console.log(JSON.stringify(skier))\n```\n3 扩展运算符    \n（1）扩展运算符允许联合数组中的内容：\n```javascript\n    var peaks = [\"Tallac\", \"Ralston\", \"Rose\"]\n    var canyons = [\"Ward\", \"Blackwood\"]\n    var tahoe = [...peaks, ...canyons]\n    console.log(tahoe.join(', '))\n```\n（2）可以创建副本，不需要改变数组原生解构\n```\nvar peaks = [\"Tallac\", \"Ralston\", \"Rose\"]\nvar [last] = [...peaks].reverse()\nconsole.log(last);\nconsole.log(peaks.join(', '));\n```\n（3）可以用来获取数组中的其余元素\n```javascript\nvar peaks = [\"Tallac\", \"Ralston\", \"Rose\", \"te11\", \"tes12\"]\nvar [last, ...rest] = peaks;\nconsole.log(last);\nconsole.log(rest.join(', '));\n```\n（4）可以将函数参数收集到一个数组中\n```javascript\nfunction directions(...args) {\n      var [start, ...remaining] = args\n      var [finish, ...stops] = remaining.reverse()\n      console.log(`drive through ${args.length} towns`)\n      console.log(`start in ${start}`)\n      console.log(`the destination is ${finish}`)\n      console.log(`stopping ${stops.length} times in between`)\n    }\n    directions(\"Truckee\", \"Tahoe City\", \"Sunnyside\", \"Homewood\", \"Tahoma\")\n```\n（5）适用于对象\n```javascript\nvar morning = {\n  breakfast: \"oatmeal\",\n  lunch: \"peanut butter and jelly\"\n}\nvar dinner = \"mac and cheese\"\nvar backpackingMeals = {\n  ...morning,\n  dinner\n}\nconsole.log(backpackingMeals)\n```\n#### Promise对象\n1 介绍    \nPromise提供了一种更合理的方式处理异步行为,then函数可以通过链式调用执行某些任务，还可以使用另一个回调函数处理异常\n```javascript\nconst getFakeMembers = count => new Promise((resolves, rejects) => {\n      const api = `https://api.randomuser.me/?nat=US&results=${count}`\n      const request = new XMLHttpRequest()\n      request.open('GET', api)\n      request.onload = () =>\n           (request.status === 200) ?\n            resolves(JSON.parse(request.response).results) :\n            rejects(Error(request.statusText))\n      request.onerror = (err) => rejects(err)\n      request.send()\n    })\n\n    getFakeMembers(5).then(\n      members => console.log(members),\n      err => console.error(\n          new Error(\"cannot load members from randomuser.me\"))\n    )\n```\n#### 类\n1 背景介绍：    \n以前javascript没有类的概念，类型定义通过函数完成，创建一个函数，通过原型在函数对象上定义方法\n```javascript\n    // Constructor and the prototype, the old way\n\n    function Vacation(destination, length) {\n      this.destination = destination\n      this.length = length\n    }\n\n    Vacation.prototype.print = function() {\n      console.log(this.destination + \" will take \" + this.length + \" days\")\n    }\n\n    var maui = new Vacation(\"Maui\", 7)\n\n    maui.print()\n```\n2 新增语法    \n工作机制相同，函数即对象，继承通过原型机制实现    \n```javascript\n    class Vacation {\n\n    constructor(destination, length) {\n      this.destination = destination\n      this.length = length\n    }\n\n    print() {\n      console.log(`${this.destination} will take ${this.length} days.`)\n    }\n\n    }\n\n    const trip = new Vacation(\"Santiago, Chile\", 9)\n\n    trip.print()\n```\n3 类的继承    \n不仅可以直接继承，还可将类当做抽象类，添加新参数\n```typescript\nclass Vacation {\n      constructor(destination, length) {\n        this.destination = destination\n        this.length = length\n      }\n\n      print() {\n        console.log(`${this.destination} will take ${this.length} days.`)\n      }\n\n    }\n\n    class Expedition extends Vacation {\n      constructor(destination, length, gear) {\n        super(destination, length)\n        this.gear = gear\n      }\n\n      print() {\n        super.print()\n        console.log(`bring your ${this.gear.join(\" and your \")}`)\n      }\n    }\n\n    const trip = new Expedition(\n      \"Mt. Whitney\",\n      3,\n      [\"sunglasses\", \"prayer flags\", \"camera\"]\n    )\n\n    trip.print()\n```\n#### ES6模块\n1 介绍    \nES6规范的javascript为模块提供了支持，javascript模块可以存储在独立的文件中，一个文件对应一个模块，\n创建和导出一个模块中的数据有两种方式，用户可以从一个模块中导出一个或多个javascript对象    \n2 export    \n关键字export可以用来导出会在其他模块中用到的任意javascrip类型数据，其他变量将会以局部变量的形式存在。    \n当值导出一个变量或导出的数据值包含一种类型时，用户可以使用export default 替换export    \n3 import     \n与export相对，在其他javascript文件中调用模块：    \n（1）包含多个export语句的模块还可以进行对象解构    \n（2）使用export default的模块还可以被导入到单个变量中：\n```javascript\nimport freel from '/test'\n```\n（3）可以使用别名实现模块变量的本地化\n#### CommonJS\n1 介绍：    \nCommonJs是所有版本的node.js都支持的模块模式。用户可以通过Babel和webpack使用，导出使用module.export;    \nCommonJs不支持imporr语句，使用require进行模块导入\n\n","slug":"react_01","published":1,"updated":"2019-12-10T01:49:46.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwur003od87p2bydgj2o","content":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"新特性\"><a href=\"#新特性\" class=\"headerlink\" title=\"新特性\"></a>新特性</h2><p>1 react开发者工具：react developer tools，可以查看网站react元素<br>2 yarn进行依赖管理：yarn.lock文件，可以使用yarn install安装，npm install yarn,yarn add [package-name],yarn remove [package-name]</p>\n<h4 id=\"变量声明\"><a href=\"#变量声明\" class=\"headerlink\" title=\"变量声明\"></a>变量声明</h4><p>1 const:常量，不能被修改，重写会报错；<br>2 let:变量，可以将变量作用域限定在任意代码块中（var不行）<br>3 模板字符串${}，可在字符串中插入变量</p>\n<h4 id=\"箭头函数\"><a href=\"#箭头函数\" class=\"headerlink\" title=\"箭头函数\"></a>箭头函数</h4><p>1 介绍：用户可以不使用function关键字创建函数，通常还不需要return<br>2 箭头函数可以限制this的作用域，箭头函数没有自己的this,引用外层的this;</p>\n<h4 id=\"ES6转译\"><a href=\"#ES6转译\" class=\"headerlink\" title=\"ES6转译\"></a>ES6转译</h4><p>1 介绍：浏览器运行前将代码转成符合ES5规范的代码，Bable是当前最流行的转译工具之一</p>\n<h4 id=\"ES6的对象和数组\"><a href=\"#ES6的对象和数组\" class=\"headerlink\" title=\"ES6的对象和数组\"></a>ES6的对象和数组</h4><p>1 解构赋值：<br>(1)允许用户将某个对象内的字段的作用域本地化，并且声明哪些值是将要使用的。<br>举例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sandwich =  &#123;</span><br><span class=\"line\">     bread: <span class=\"string\">\"dutch crunch\"</span>,</span><br><span class=\"line\">     meat: <span class=\"string\">\"tuna\"</span>,</span><br><span class=\"line\">     cheese: <span class=\"string\">\"swiss\"</span>,</span><br><span class=\"line\">     toppings: [<span class=\"string\">\"lettuce\"</span>, <span class=\"string\">\"tomato\"</span>, <span class=\"string\">\"mustard\"</span>]</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> &#123;bread, meat&#125; = sandwich</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(bread, meat)</span><br><span class=\"line\">   bread = <span class=\"string\">\"garlic\"</span></span><br><span class=\"line\">   meat = <span class=\"string\">\"turkey\"</span></span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(bread,meat)</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(sandwich.bread, sandwich.meat)</span><br></pre></td></tr></table></figure></p>\n<p>(2)除了使用点符号访问对象内部属性之外，还可以在对象之外解构需要使用的值。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> regularPerson = &#123;</span><br><span class=\"line\">    firstname: <span class=\"string\">\"Bill\"</span>,</span><br><span class=\"line\">    lastname: <span class=\"string\">\"Wilson\"</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> lordify = <span class=\"function\">(<span class=\"params\">&#123;firstname&#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    \t<span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;firstname&#125;</span> of regularPerson`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    lordify(regularPerson);</span><br></pre></td></tr></table></figure></p>\n<p>(3)数组中的值也可以被解构，还可以使用都好进行列表匹配，跳过不需要的值；<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> [firstResort] = [<span class=\"string\">\"Kirkwood\"</span>, <span class=\"string\">\"Squaw\"</span>, <span class=\"string\">\"Alpine\"</span>]</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(firstResort)</span><br><span class=\"line\"><span class=\"keyword\">var</span> [, , third] = [<span class=\"string\">\"Kirkwood\"</span>, <span class=\"string\">\"Squaw\"</span>, <span class=\"string\">\"Alpine\"</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(third)</span><br></pre></td></tr></table></figure></p>\n<p>2 对象语义增强<br>可以从全局作用域中获得变量并转化成一个对象。还可以通过对象语义增强或重组构造对象的方法：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'yaya'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> ela = <span class=\"string\">'test'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> func = &#123;name, ela&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> test = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Mmt. <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.name&#125;</span>  is aa <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.ela&#125;</span> oo`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'func'</span>, func);</span><br><span class=\"line\"><span class=\"keyword\">let</span> funclike = &#123;name, ela, test&#125;;</span><br><span class=\"line\">funclike.test();</span><br></pre></td></tr></table></figure></p>\n<p>定义了对象方法后就不需要使用关键字function了<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 旧方案</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">\"Léo Taillefer\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sound = <span class=\"string\">\"Kahh\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> skier = &#123;</span><br><span class=\"line\">      name: name,</span><br><span class=\"line\">      sound: sound,</span><br><span class=\"line\">      powderYell: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> yell = <span class=\"keyword\">this</span>.sound.toUpperCase()</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span>!!!`</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">      speed: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mph</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.speed = mph</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'speed:'</span>, mph)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    skier.powderYell()</span><br><span class=\"line\">    skier.speed(<span class=\"string\">\"hair on fire\"</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"built_in\">JSON</span>.stringify(skier))</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 新方案</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">\"Julia Mancuso\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sound = <span class=\"string\">\"go fast\"</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> skier = &#123;</span><br><span class=\"line\">      name,</span><br><span class=\"line\">      sound,</span><br><span class=\"line\">      powderYell() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> yell = <span class=\"keyword\">this</span>.sound.toUpperCase()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span>!!!`</span>)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      speed(mph) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.speed = mph</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'speed:'</span>, mph)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    skier.powderYell()</span><br><span class=\"line\">    skier.speed(<span class=\"number\">350</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"built_in\">JSON</span>.stringify(skier))</span><br></pre></td></tr></table></figure>\n<p>3 扩展运算符<br>（1）扩展运算符允许联合数组中的内容：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> peaks = [<span class=\"string\">\"Tallac\"</span>, <span class=\"string\">\"Ralston\"</span>, <span class=\"string\">\"Rose\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> canyons = [<span class=\"string\">\"Ward\"</span>, <span class=\"string\">\"Blackwood\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> tahoe = [...peaks, ...canyons]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(tahoe.join(<span class=\"string\">', '</span>))</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以创建副本，不需要改变数组原生解构<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var peaks = [&quot;Tallac&quot;, &quot;Ralston&quot;, &quot;Rose&quot;]</span><br><span class=\"line\">var [last] = [...peaks].reverse()</span><br><span class=\"line\">console.log(last);</span><br><span class=\"line\">console.log(peaks.join(&apos;, &apos;));</span><br></pre></td></tr></table></figure></p>\n<p>（3）可以用来获取数组中的其余元素<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> peaks = [<span class=\"string\">\"Tallac\"</span>, <span class=\"string\">\"Ralston\"</span>, <span class=\"string\">\"Rose\"</span>, <span class=\"string\">\"te11\"</span>, <span class=\"string\">\"tes12\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> [last, ...rest] = peaks;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(last);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(rest.join(<span class=\"string\">', '</span>));</span><br></pre></td></tr></table></figure></p>\n<p>（4）可以将函数参数收集到一个数组中<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">directions</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> [start, ...remaining] = args</span><br><span class=\"line\">      <span class=\"keyword\">var</span> [finish, ...stops] = remaining.reverse()</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`drive through <span class=\"subst\">$&#123;args.length&#125;</span> towns`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`start in <span class=\"subst\">$&#123;start&#125;</span>`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`the destination is <span class=\"subst\">$&#123;finish&#125;</span>`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`stopping <span class=\"subst\">$&#123;stops.length&#125;</span> times in between`</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    directions(<span class=\"string\">\"Truckee\"</span>, <span class=\"string\">\"Tahoe City\"</span>, <span class=\"string\">\"Sunnyside\"</span>, <span class=\"string\">\"Homewood\"</span>, <span class=\"string\">\"Tahoma\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p>（5）适用于对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> morning = &#123;</span><br><span class=\"line\">  breakfast: <span class=\"string\">\"oatmeal\"</span>,</span><br><span class=\"line\">  lunch: <span class=\"string\">\"peanut butter and jelly\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dinner = <span class=\"string\">\"mac and cheese\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> backpackingMeals = &#123;</span><br><span class=\"line\">  ...morning,</span><br><span class=\"line\">  dinner</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(backpackingMeals)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Promise对象\"><a href=\"#Promise对象\" class=\"headerlink\" title=\"Promise对象\"></a>Promise对象</h4><p>1 介绍<br>Promise提供了一种更合理的方式处理异步行为,then函数可以通过链式调用执行某些任务，还可以使用另一个回调函数处理异常<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getFakeMembers = <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolves, rejects</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> api = <span class=\"string\">`https://api.randomuser.me/?nat=US&amp;results=<span class=\"subst\">$&#123;count&#125;</span>`</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> request = <span class=\"keyword\">new</span> XMLHttpRequest()</span><br><span class=\"line\">      request.open(<span class=\"string\">'GET'</span>, api)</span><br><span class=\"line\">      request.onload = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span></span><br><span class=\"line\">           (request.status === <span class=\"number\">200</span>) ?</span><br><span class=\"line\">            resolves(<span class=\"built_in\">JSON</span>.parse(request.response).results) :</span><br><span class=\"line\">            rejects(<span class=\"built_in\">Error</span>(request.statusText))</span><br><span class=\"line\">      request.onerror = <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> rejects(err)</span><br><span class=\"line\">      request.send()</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    getFakeMembers(<span class=\"number\">5</span>).then(</span><br><span class=\"line\">      members =&gt; <span class=\"built_in\">console</span>.log(members),</span><br><span class=\"line\">      err =&gt; <span class=\"built_in\">console</span>.error(</span><br><span class=\"line\">          <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">\"cannot load members from randomuser.me\"</span>))</span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"类\"><a href=\"#类\" class=\"headerlink\" title=\"类\"></a>类</h4><p>1 背景介绍：<br>以前javascript没有类的概念，类型定义通过函数完成，创建一个函数，通过原型在函数对象上定义方法<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Constructor and the prototype, the old way</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Vacation</span>(<span class=\"params\">destination, length</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Vacation.prototype.print = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.destination + <span class=\"string\">\" will take \"</span> + <span class=\"keyword\">this</span>.length + <span class=\"string\">\" days\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> maui = <span class=\"keyword\">new</span> Vacation(<span class=\"string\">\"Maui\"</span>, <span class=\"number\">7</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">maui.print()</span><br></pre></td></tr></table></figure></p>\n<p>2 新增语法<br>工作机制相同，函数即对象，继承通过原型机制实现<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Vacation</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">constructor</span>(destination, length) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">print() &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.destination&#125;</span> will take <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.length&#125;</span> days.`</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> trip = <span class=\"keyword\">new</span> Vacation(<span class=\"string\">\"Santiago, Chile\"</span>, <span class=\"number\">9</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">trip.print()</span><br></pre></td></tr></table></figure></p>\n<p>3 类的继承<br>不仅可以直接继承，还可将类当做抽象类，添加新参数<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> Vacation &#123;</span><br><span class=\"line\">      <span class=\"keyword\">constructor</span>(<span class=\"params\">destination, length</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      print() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;this.destination&#125;</span> will take <span class=\"subst\">$&#123;this.length&#125;</span> days.`</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">class</span> Expedition <span class=\"keyword\">extends</span> Vacation &#123;</span><br><span class=\"line\">      <span class=\"keyword\">constructor</span>(<span class=\"params\">destination, length, gear</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(destination, length)</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.gear = gear</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      print() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.print()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`bring your <span class=\"subst\">$&#123;this.gear.join(\" and your \")&#125;</span>`</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> trip = <span class=\"keyword\">new</span> Expedition(</span><br><span class=\"line\">      <span class=\"string\">\"Mt. Whitney\"</span>,</span><br><span class=\"line\">      <span class=\"number\">3</span>,</span><br><span class=\"line\">      [<span class=\"string\">\"sunglasses\"</span>, <span class=\"string\">\"prayer flags\"</span>, <span class=\"string\">\"camera\"</span>]</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    trip.print()</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"ES6模块\"><a href=\"#ES6模块\" class=\"headerlink\" title=\"ES6模块\"></a>ES6模块</h4><p>1 介绍<br>ES6规范的javascript为模块提供了支持，javascript模块可以存储在独立的文件中，一个文件对应一个模块，<br>创建和导出一个模块中的数据有两种方式，用户可以从一个模块中导出一个或多个javascript对象<br>2 export<br>关键字export可以用来导出会在其他模块中用到的任意javascrip类型数据，其他变量将会以局部变量的形式存在。<br>当值导出一个变量或导出的数据值包含一种类型时，用户可以使用export default 替换export<br>3 import<br>与export相对，在其他javascript文件中调用模块：<br>（1）包含多个export语句的模块还可以进行对象解构<br>（2）使用export default的模块还可以被导入到单个变量中：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> freel <span class=\"keyword\">from</span> <span class=\"string\">'/test'</span></span><br></pre></td></tr></table></figure></p>\n<p>（3）可以使用别名实现模块变量的本地化</p>\n<h4 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h4><p>1 介绍：<br>CommonJs是所有版本的node.js都支持的模块模式。用户可以通过Babel和webpack使用，导出使用module.export;<br>CommonJs不支持imporr语句，使用require进行模块导入</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"新特性\"><a href=\"#新特性\" class=\"headerlink\" title=\"新特性\"></a>新特性</h2><p>1 react开发者工具：react developer tools，可以查看网站react元素<br>2 yarn进行依赖管理：yarn.lock文件，可以使用yarn install安装，npm install yarn,yarn add [package-name],yarn remove [package-name]</p>\n<h4 id=\"变量声明\"><a href=\"#变量声明\" class=\"headerlink\" title=\"变量声明\"></a>变量声明</h4><p>1 const:常量，不能被修改，重写会报错；<br>2 let:变量，可以将变量作用域限定在任意代码块中（var不行）<br>3 模板字符串${}，可在字符串中插入变量</p>\n<h4 id=\"箭头函数\"><a href=\"#箭头函数\" class=\"headerlink\" title=\"箭头函数\"></a>箭头函数</h4><p>1 介绍：用户可以不使用function关键字创建函数，通常还不需要return<br>2 箭头函数可以限制this的作用域，箭头函数没有自己的this,引用外层的this;</p>\n<h4 id=\"ES6转译\"><a href=\"#ES6转译\" class=\"headerlink\" title=\"ES6转译\"></a>ES6转译</h4><p>1 介绍：浏览器运行前将代码转成符合ES5规范的代码，Bable是当前最流行的转译工具之一</p>\n<h4 id=\"ES6的对象和数组\"><a href=\"#ES6的对象和数组\" class=\"headerlink\" title=\"ES6的对象和数组\"></a>ES6的对象和数组</h4><p>1 解构赋值：<br>(1)允许用户将某个对象内的字段的作用域本地化，并且声明哪些值是将要使用的。<br>举例：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sandwich =  &#123;</span><br><span class=\"line\">     bread: <span class=\"string\">\"dutch crunch\"</span>,</span><br><span class=\"line\">     meat: <span class=\"string\">\"tuna\"</span>,</span><br><span class=\"line\">     cheese: <span class=\"string\">\"swiss\"</span>,</span><br><span class=\"line\">     toppings: [<span class=\"string\">\"lettuce\"</span>, <span class=\"string\">\"tomato\"</span>, <span class=\"string\">\"mustard\"</span>]</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> &#123;bread, meat&#125; = sandwich</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(bread, meat)</span><br><span class=\"line\">   bread = <span class=\"string\">\"garlic\"</span></span><br><span class=\"line\">   meat = <span class=\"string\">\"turkey\"</span></span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(bread,meat)</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(sandwich.bread, sandwich.meat)</span><br></pre></td></tr></table></figure></p>\n<p>(2)除了使用点符号访问对象内部属性之外，还可以在对象之外解构需要使用的值。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> regularPerson = &#123;</span><br><span class=\"line\">    firstname: <span class=\"string\">\"Bill\"</span>,</span><br><span class=\"line\">    lastname: <span class=\"string\">\"Wilson\"</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> lordify = <span class=\"function\">(<span class=\"params\">&#123;firstname&#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    \t<span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;firstname&#125;</span> of regularPerson`</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    lordify(regularPerson);</span><br></pre></td></tr></table></figure></p>\n<p>(3)数组中的值也可以被解构，还可以使用都好进行列表匹配，跳过不需要的值；<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> [firstResort] = [<span class=\"string\">\"Kirkwood\"</span>, <span class=\"string\">\"Squaw\"</span>, <span class=\"string\">\"Alpine\"</span>]</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(firstResort)</span><br><span class=\"line\"><span class=\"keyword\">var</span> [, , third] = [<span class=\"string\">\"Kirkwood\"</span>, <span class=\"string\">\"Squaw\"</span>, <span class=\"string\">\"Alpine\"</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(third)</span><br></pre></td></tr></table></figure></p>\n<p>2 对象语义增强<br>可以从全局作用域中获得变量并转化成一个对象。还可以通过对象语义增强或重组构造对象的方法：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'yaya'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> ela = <span class=\"string\">'test'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> func = &#123;name, ela&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> test = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`Mmt. <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.name&#125;</span>  is aa <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.ela&#125;</span> oo`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'func'</span>, func);</span><br><span class=\"line\"><span class=\"keyword\">let</span> funclike = &#123;name, ela, test&#125;;</span><br><span class=\"line\">funclike.test();</span><br></pre></td></tr></table></figure></p>\n<p>定义了对象方法后就不需要使用关键字function了<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 旧方案</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">\"Léo Taillefer\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sound = <span class=\"string\">\"Kahh\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> skier = &#123;</span><br><span class=\"line\">      name: name,</span><br><span class=\"line\">      sound: sound,</span><br><span class=\"line\">      powderYell: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> yell = <span class=\"keyword\">this</span>.sound.toUpperCase()</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span>!!!`</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">      speed: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">mph</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.speed = mph</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'speed:'</span>, mph)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    skier.powderYell()</span><br><span class=\"line\">    skier.speed(<span class=\"string\">\"hair on fire\"</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"built_in\">JSON</span>.stringify(skier))</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 新方案</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">\"Julia Mancuso\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> sound = <span class=\"string\">\"go fast\"</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> skier = &#123;</span><br><span class=\"line\">      name,</span><br><span class=\"line\">      sound,</span><br><span class=\"line\">      powderYell() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> yell = <span class=\"keyword\">this</span>.sound.toUpperCase()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span> <span class=\"subst\">$&#123;yell&#125;</span>!!!`</span>)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      speed(mph) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.speed = mph</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'speed:'</span>, mph)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    skier.powderYell()</span><br><span class=\"line\">    skier.speed(<span class=\"number\">350</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"built_in\">JSON</span>.stringify(skier))</span><br></pre></td></tr></table></figure>\n<p>3 扩展运算符<br>（1）扩展运算符允许联合数组中的内容：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> peaks = [<span class=\"string\">\"Tallac\"</span>, <span class=\"string\">\"Ralston\"</span>, <span class=\"string\">\"Rose\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> canyons = [<span class=\"string\">\"Ward\"</span>, <span class=\"string\">\"Blackwood\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> tahoe = [...peaks, ...canyons]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(tahoe.join(<span class=\"string\">', '</span>))</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以创建副本，不需要改变数组原生解构<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var peaks = [&quot;Tallac&quot;, &quot;Ralston&quot;, &quot;Rose&quot;]</span><br><span class=\"line\">var [last] = [...peaks].reverse()</span><br><span class=\"line\">console.log(last);</span><br><span class=\"line\">console.log(peaks.join(&apos;, &apos;));</span><br></pre></td></tr></table></figure></p>\n<p>（3）可以用来获取数组中的其余元素<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> peaks = [<span class=\"string\">\"Tallac\"</span>, <span class=\"string\">\"Ralston\"</span>, <span class=\"string\">\"Rose\"</span>, <span class=\"string\">\"te11\"</span>, <span class=\"string\">\"tes12\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> [last, ...rest] = peaks;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(last);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(rest.join(<span class=\"string\">', '</span>));</span><br></pre></td></tr></table></figure></p>\n<p>（4）可以将函数参数收集到一个数组中<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">directions</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> [start, ...remaining] = args</span><br><span class=\"line\">      <span class=\"keyword\">var</span> [finish, ...stops] = remaining.reverse()</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`drive through <span class=\"subst\">$&#123;args.length&#125;</span> towns`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`start in <span class=\"subst\">$&#123;start&#125;</span>`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`the destination is <span class=\"subst\">$&#123;finish&#125;</span>`</span>)</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">`stopping <span class=\"subst\">$&#123;stops.length&#125;</span> times in between`</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    directions(<span class=\"string\">\"Truckee\"</span>, <span class=\"string\">\"Tahoe City\"</span>, <span class=\"string\">\"Sunnyside\"</span>, <span class=\"string\">\"Homewood\"</span>, <span class=\"string\">\"Tahoma\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p>（5）适用于对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> morning = &#123;</span><br><span class=\"line\">  breakfast: <span class=\"string\">\"oatmeal\"</span>,</span><br><span class=\"line\">  lunch: <span class=\"string\">\"peanut butter and jelly\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> dinner = <span class=\"string\">\"mac and cheese\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> backpackingMeals = &#123;</span><br><span class=\"line\">  ...morning,</span><br><span class=\"line\">  dinner</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(backpackingMeals)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"Promise对象\"><a href=\"#Promise对象\" class=\"headerlink\" title=\"Promise对象\"></a>Promise对象</h4><p>1 介绍<br>Promise提供了一种更合理的方式处理异步行为,then函数可以通过链式调用执行某些任务，还可以使用另一个回调函数处理异常<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> getFakeMembers = <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolves, rejects</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> api = <span class=\"string\">`https://api.randomuser.me/?nat=US&amp;results=<span class=\"subst\">$&#123;count&#125;</span>`</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> request = <span class=\"keyword\">new</span> XMLHttpRequest()</span><br><span class=\"line\">      request.open(<span class=\"string\">'GET'</span>, api)</span><br><span class=\"line\">      request.onload = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span></span><br><span class=\"line\">           (request.status === <span class=\"number\">200</span>) ?</span><br><span class=\"line\">            resolves(<span class=\"built_in\">JSON</span>.parse(request.response).results) :</span><br><span class=\"line\">            rejects(<span class=\"built_in\">Error</span>(request.statusText))</span><br><span class=\"line\">      request.onerror = <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> rejects(err)</span><br><span class=\"line\">      request.send()</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    getFakeMembers(<span class=\"number\">5</span>).then(</span><br><span class=\"line\">      members =&gt; <span class=\"built_in\">console</span>.log(members),</span><br><span class=\"line\">      err =&gt; <span class=\"built_in\">console</span>.error(</span><br><span class=\"line\">          <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">\"cannot load members from randomuser.me\"</span>))</span><br><span class=\"line\">    )</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"类\"><a href=\"#类\" class=\"headerlink\" title=\"类\"></a>类</h4><p>1 背景介绍：<br>以前javascript没有类的概念，类型定义通过函数完成，创建一个函数，通过原型在函数对象上定义方法<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Constructor and the prototype, the old way</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Vacation</span>(<span class=\"params\">destination, length</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Vacation.prototype.print = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.destination + <span class=\"string\">\" will take \"</span> + <span class=\"keyword\">this</span>.length + <span class=\"string\">\" days\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> maui = <span class=\"keyword\">new</span> Vacation(<span class=\"string\">\"Maui\"</span>, <span class=\"number\">7</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">maui.print()</span><br></pre></td></tr></table></figure></p>\n<p>2 新增语法<br>工作机制相同，函数即对象，继承通过原型机制实现<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Vacation</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">constructor</span>(destination, length) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">print() &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.destination&#125;</span> will take <span class=\"subst\">$&#123;<span class=\"keyword\">this</span>.length&#125;</span> days.`</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> trip = <span class=\"keyword\">new</span> Vacation(<span class=\"string\">\"Santiago, Chile\"</span>, <span class=\"number\">9</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">trip.print()</span><br></pre></td></tr></table></figure></p>\n<p>3 类的继承<br>不仅可以直接继承，还可将类当做抽象类，添加新参数<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> Vacation &#123;</span><br><span class=\"line\">      <span class=\"keyword\">constructor</span>(<span class=\"params\">destination, length</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.destination = destination</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.length = length</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      print() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;this.destination&#125;</span> will take <span class=\"subst\">$&#123;this.length&#125;</span> days.`</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">class</span> Expedition <span class=\"keyword\">extends</span> Vacation &#123;</span><br><span class=\"line\">      <span class=\"keyword\">constructor</span>(<span class=\"params\">destination, length, gear</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(destination, length)</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.gear = gear</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      print() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.print()</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`bring your <span class=\"subst\">$&#123;this.gear.join(\" and your \")&#125;</span>`</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> trip = <span class=\"keyword\">new</span> Expedition(</span><br><span class=\"line\">      <span class=\"string\">\"Mt. Whitney\"</span>,</span><br><span class=\"line\">      <span class=\"number\">3</span>,</span><br><span class=\"line\">      [<span class=\"string\">\"sunglasses\"</span>, <span class=\"string\">\"prayer flags\"</span>, <span class=\"string\">\"camera\"</span>]</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    trip.print()</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"ES6模块\"><a href=\"#ES6模块\" class=\"headerlink\" title=\"ES6模块\"></a>ES6模块</h4><p>1 介绍<br>ES6规范的javascript为模块提供了支持，javascript模块可以存储在独立的文件中，一个文件对应一个模块，<br>创建和导出一个模块中的数据有两种方式，用户可以从一个模块中导出一个或多个javascript对象<br>2 export<br>关键字export可以用来导出会在其他模块中用到的任意javascrip类型数据，其他变量将会以局部变量的形式存在。<br>当值导出一个变量或导出的数据值包含一种类型时，用户可以使用export default 替换export<br>3 import<br>与export相对，在其他javascript文件中调用模块：<br>（1）包含多个export语句的模块还可以进行对象解构<br>（2）使用export default的模块还可以被导入到单个变量中：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> freel <span class=\"keyword\">from</span> <span class=\"string\">'/test'</span></span><br></pre></td></tr></table></figure></p>\n<p>（3）可以使用别名实现模块变量的本地化</p>\n<h4 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h4><p>1 介绍：<br>CommonJs是所有版本的node.js都支持的模块模式。用户可以通过Babel和webpack使用，导出使用module.export;<br>CommonJs不支持imporr语句，使用require进行模块导入</p>\n"},{"title":"react学习-javascript函数式编程","date":"2019-07-09T01:37:10.000Z","_content":"# react学习手册\n## Javascript函数式编程\n### 基础概念\n1 函数式编程：    \n函数是第一类成员，函数就是数据，可以像变量那样被保存，检索或者在应用程序内部传递。    \n（1）可以像声明变量一样声明函数；函数就是变量，可以添加到对象中：\n```javascript\nconst obj = {\n    message: 'asdsada',\n    log(message) {\n      console.log(message);\n    }\n  };\n  obj.log(obj.message);\n```\n（2）可以将函数添加到数组中；    \n（3）函数可以像其他变量一样，作为其他函数的参数传递，也可以作为其他函数的执行结果被返回;    \n\n### 命令式和声明式编程\n命令式编程：对执行结果的描述胜于执行过程    \n声明式编程： 代码关注重点是达成目标的具体过程\n### 不可变性\n（1）使用Objct.assign()方法：一种拷贝机制，提供一个空白对象，将操作的对象拷贝到该对象上，然后修改拷贝对象\n```javascript\nObject.assign({}, color, {rating:rating})\n```\n（2）可以使用ES6规范下的箭头函数和ES7规范下的对象扩展运算符编写同样的函数。\n```javascript\nconst rateColor = (color, rating) => ({\n    ...color,\n    rating\n})\n```\n注意，在箭头函数中，箭头不能指向一个对象的花括号；Array.push方法不是一个不可变函数，使用Array.concat取代    \n可以使用ES6扩展运算符串联数组，同时改操作符可以使用同样的机制拷贝对象，并将它添加到原生数组的副本上\n```javascript\nconst addColor = (title, list) => [...list, {title}]\n```\n### 纯函数\n1 概念：    \n返回结果值依赖于输入参数的函数。纯函数至少需要接受一个参数并且总是返回一个值或者其他函数。不产生副作用，不修改全局变量或任何应用程序的state,将输入参数当成不可变数据   \n```javascript\n    var frederick = {\n      name: \"Frederick Douglass\",\n      canRead: false,\n      canWrite: false\n    }\n\n    const selfEducate = person =>\n        ({\n            ...person,\n            canRead: true,\n            canWrite: true\n        })\n\n    //\n    // Pure Function, takes an argument, returns an object,\n    //    and causes zero side effects\n    //\n\n    console.log( selfEducate(frederick) )\n    console.log( frederick )\n```\n2 纯函数三条原则：    \n（1）函数应该至少接收一个参数；    \n（2）函数应该返回一个值或者其他函数；    \n（3）函数不应该修改或者影响任何传给它的参数\n### 数据转换\n1 概念：    \n将数据转换成另外一种数据，使用函数生成转换后的副本\n2 Array.map和Array.filter方法    \n转换数组    \n3 reduce和reduceRight    \n可以用来将数组转换成任意值。    \n举例：    \n（1）数组转换成数字:以下实例循环迭代，每次返回最大值，然后将结果作为上一次回调函数的返回值\n```javascript\nfunction getAge() {\n        const ages = [10, 21,33, 20,15, 14, 90, 12];\n        const maxAge = ages.reduce((max, age) => {\n            console.log(`${age} > ${max} = ${age > max}`);\n            if (age > max) {\n                return age;\n            } else {\n                return max;\n            }\n        }, 0);\n        const max = ages.reduce((max, value) => {(value > max) ? value : max}, 0);        \n        console.log('maxage', maxAge);\n    }\n```\nreduceRight和reduce类似，从数组末尾处理元素。    \n（2）数组转化成对象    \n","source":"_posts/react_02.md","raw":"---\ntitle: react学习-javascript函数式编程\ndate: 2019-07-09 09:37:10\ntags:\ncategories: \n- 前端\n- react\n---\n# react学习手册\n## Javascript函数式编程\n### 基础概念\n1 函数式编程：    \n函数是第一类成员，函数就是数据，可以像变量那样被保存，检索或者在应用程序内部传递。    \n（1）可以像声明变量一样声明函数；函数就是变量，可以添加到对象中：\n```javascript\nconst obj = {\n    message: 'asdsada',\n    log(message) {\n      console.log(message);\n    }\n  };\n  obj.log(obj.message);\n```\n（2）可以将函数添加到数组中；    \n（3）函数可以像其他变量一样，作为其他函数的参数传递，也可以作为其他函数的执行结果被返回;    \n\n### 命令式和声明式编程\n命令式编程：对执行结果的描述胜于执行过程    \n声明式编程： 代码关注重点是达成目标的具体过程\n### 不可变性\n（1）使用Objct.assign()方法：一种拷贝机制，提供一个空白对象，将操作的对象拷贝到该对象上，然后修改拷贝对象\n```javascript\nObject.assign({}, color, {rating:rating})\n```\n（2）可以使用ES6规范下的箭头函数和ES7规范下的对象扩展运算符编写同样的函数。\n```javascript\nconst rateColor = (color, rating) => ({\n    ...color,\n    rating\n})\n```\n注意，在箭头函数中，箭头不能指向一个对象的花括号；Array.push方法不是一个不可变函数，使用Array.concat取代    \n可以使用ES6扩展运算符串联数组，同时改操作符可以使用同样的机制拷贝对象，并将它添加到原生数组的副本上\n```javascript\nconst addColor = (title, list) => [...list, {title}]\n```\n### 纯函数\n1 概念：    \n返回结果值依赖于输入参数的函数。纯函数至少需要接受一个参数并且总是返回一个值或者其他函数。不产生副作用，不修改全局变量或任何应用程序的state,将输入参数当成不可变数据   \n```javascript\n    var frederick = {\n      name: \"Frederick Douglass\",\n      canRead: false,\n      canWrite: false\n    }\n\n    const selfEducate = person =>\n        ({\n            ...person,\n            canRead: true,\n            canWrite: true\n        })\n\n    //\n    // Pure Function, takes an argument, returns an object,\n    //    and causes zero side effects\n    //\n\n    console.log( selfEducate(frederick) )\n    console.log( frederick )\n```\n2 纯函数三条原则：    \n（1）函数应该至少接收一个参数；    \n（2）函数应该返回一个值或者其他函数；    \n（3）函数不应该修改或者影响任何传给它的参数\n### 数据转换\n1 概念：    \n将数据转换成另外一种数据，使用函数生成转换后的副本\n2 Array.map和Array.filter方法    \n转换数组    \n3 reduce和reduceRight    \n可以用来将数组转换成任意值。    \n举例：    \n（1）数组转换成数字:以下实例循环迭代，每次返回最大值，然后将结果作为上一次回调函数的返回值\n```javascript\nfunction getAge() {\n        const ages = [10, 21,33, 20,15, 14, 90, 12];\n        const maxAge = ages.reduce((max, age) => {\n            console.log(`${age} > ${max} = ${age > max}`);\n            if (age > max) {\n                return age;\n            } else {\n                return max;\n            }\n        }, 0);\n        const max = ages.reduce((max, value) => {(value > max) ? value : max}, 0);        \n        console.log('maxage', maxAge);\n    }\n```\nreduceRight和reduce类似，从数组末尾处理元素。    \n（2）数组转化成对象    \n","slug":"react_02","published":1,"updated":"2019-12-10T01:49:46.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwux003sd87phgi9ukt2","content":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"Javascript函数式编程\"><a href=\"#Javascript函数式编程\" class=\"headerlink\" title=\"Javascript函数式编程\"></a>Javascript函数式编程</h2><h3 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h3><p>1 函数式编程：<br>函数是第一类成员，函数就是数据，可以像变量那样被保存，检索或者在应用程序内部传递。<br>（1）可以像声明变量一样声明函数；函数就是变量，可以添加到对象中：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">    message: <span class=\"string\">'asdsada'</span>,</span><br><span class=\"line\">    log(message) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  obj.log(obj.message);</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以将函数添加到数组中；<br>（3）函数可以像其他变量一样，作为其他函数的参数传递，也可以作为其他函数的执行结果被返回;    </p>\n<h3 id=\"命令式和声明式编程\"><a href=\"#命令式和声明式编程\" class=\"headerlink\" title=\"命令式和声明式编程\"></a>命令式和声明式编程</h3><p>命令式编程：对执行结果的描述胜于执行过程<br>声明式编程： 代码关注重点是达成目标的具体过程</p>\n<h3 id=\"不可变性\"><a href=\"#不可变性\" class=\"headerlink\" title=\"不可变性\"></a>不可变性</h3><p>（1）使用Objct.assign()方法：一种拷贝机制，提供一个空白对象，将操作的对象拷贝到该对象上，然后修改拷贝对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.assign(&#123;&#125;, color, &#123;<span class=\"attr\">rating</span>:rating&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以使用ES6规范下的箭头函数和ES7规范下的对象扩展运算符编写同样的函数。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rateColor = <span class=\"function\">(<span class=\"params\">color, rating</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    ...color,</span><br><span class=\"line\">    rating</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>注意，在箭头函数中，箭头不能指向一个对象的花括号；Array.push方法不是一个不可变函数，使用Array.concat取代<br>可以使用ES6扩展运算符串联数组，同时改操作符可以使用同样的机制拷贝对象，并将它添加到原生数组的副本上<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> addColor = <span class=\"function\">(<span class=\"params\">title, list</span>) =&gt;</span> [...list, &#123;title&#125;]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"纯函数\"><a href=\"#纯函数\" class=\"headerlink\" title=\"纯函数\"></a>纯函数</h3><p>1 概念：<br>返回结果值依赖于输入参数的函数。纯函数至少需要接受一个参数并且总是返回一个值或者其他函数。不产生副作用，不修改全局变量或任何应用程序的state,将输入参数当成不可变数据<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> frederick = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">\"Frederick Douglass\"</span>,</span><br><span class=\"line\">  canRead: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  canWrite: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> selfEducate = <span class=\"function\"><span class=\"params\">person</span> =&gt;</span></span><br><span class=\"line\">    (&#123;</span><br><span class=\"line\">        ...person,</span><br><span class=\"line\">        canRead: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        canWrite: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">// Pure Function, takes an argument, returns an object,</span></span><br><span class=\"line\"><span class=\"comment\">//    and causes zero side effects</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( selfEducate(frederick) )</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( frederick )</span><br></pre></td></tr></table></figure></p>\n<p>2 纯函数三条原则：<br>（1）函数应该至少接收一个参数；<br>（2）函数应该返回一个值或者其他函数；<br>（3）函数不应该修改或者影响任何传给它的参数</p>\n<h3 id=\"数据转换\"><a href=\"#数据转换\" class=\"headerlink\" title=\"数据转换\"></a>数据转换</h3><p>1 概念：<br>将数据转换成另外一种数据，使用函数生成转换后的副本<br>2 Array.map和Array.filter方法<br>转换数组<br>3 reduce和reduceRight<br>可以用来将数组转换成任意值。<br>举例：<br>（1）数组转换成数字:以下实例循环迭代，每次返回最大值，然后将结果作为上一次回调函数的返回值<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getAge</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> ages = [<span class=\"number\">10</span>, <span class=\"number\">21</span>,<span class=\"number\">33</span>, <span class=\"number\">20</span>,<span class=\"number\">15</span>, <span class=\"number\">14</span>, <span class=\"number\">90</span>, <span class=\"number\">12</span>];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> maxAge = ages.reduce(<span class=\"function\">(<span class=\"params\">max, age</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;age&#125;</span> &gt; <span class=\"subst\">$&#123;max&#125;</span> = <span class=\"subst\">$&#123;age &gt; max&#125;</span>`</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (age &gt; max) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> max = ages.reduce(<span class=\"function\">(<span class=\"params\">max, value</span>) =&gt;</span> &#123;(value &gt; max) ? value : max&#125;, <span class=\"number\">0</span>);        </span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'maxage'</span>, maxAge);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>reduceRight和reduce类似，从数组末尾处理元素。<br>（2）数组转化成对象    </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"Javascript函数式编程\"><a href=\"#Javascript函数式编程\" class=\"headerlink\" title=\"Javascript函数式编程\"></a>Javascript函数式编程</h2><h3 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h3><p>1 函数式编程：<br>函数是第一类成员，函数就是数据，可以像变量那样被保存，检索或者在应用程序内部传递。<br>（1）可以像声明变量一样声明函数；函数就是变量，可以添加到对象中：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">    message: <span class=\"string\">'asdsada'</span>,</span><br><span class=\"line\">    log(message) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(message);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  obj.log(obj.message);</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以将函数添加到数组中；<br>（3）函数可以像其他变量一样，作为其他函数的参数传递，也可以作为其他函数的执行结果被返回;    </p>\n<h3 id=\"命令式和声明式编程\"><a href=\"#命令式和声明式编程\" class=\"headerlink\" title=\"命令式和声明式编程\"></a>命令式和声明式编程</h3><p>命令式编程：对执行结果的描述胜于执行过程<br>声明式编程： 代码关注重点是达成目标的具体过程</p>\n<h3 id=\"不可变性\"><a href=\"#不可变性\" class=\"headerlink\" title=\"不可变性\"></a>不可变性</h3><p>（1）使用Objct.assign()方法：一种拷贝机制，提供一个空白对象，将操作的对象拷贝到该对象上，然后修改拷贝对象<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.assign(&#123;&#125;, color, &#123;<span class=\"attr\">rating</span>:rating&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>（2）可以使用ES6规范下的箭头函数和ES7规范下的对象扩展运算符编写同样的函数。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rateColor = <span class=\"function\">(<span class=\"params\">color, rating</span>) =&gt;</span> (&#123;</span><br><span class=\"line\">    ...color,</span><br><span class=\"line\">    rating</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>注意，在箭头函数中，箭头不能指向一个对象的花括号；Array.push方法不是一个不可变函数，使用Array.concat取代<br>可以使用ES6扩展运算符串联数组，同时改操作符可以使用同样的机制拷贝对象，并将它添加到原生数组的副本上<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> addColor = <span class=\"function\">(<span class=\"params\">title, list</span>) =&gt;</span> [...list, &#123;title&#125;]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"纯函数\"><a href=\"#纯函数\" class=\"headerlink\" title=\"纯函数\"></a>纯函数</h3><p>1 概念：<br>返回结果值依赖于输入参数的函数。纯函数至少需要接受一个参数并且总是返回一个值或者其他函数。不产生副作用，不修改全局变量或任何应用程序的state,将输入参数当成不可变数据<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> frederick = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">\"Frederick Douglass\"</span>,</span><br><span class=\"line\">  canRead: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  canWrite: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> selfEducate = <span class=\"function\"><span class=\"params\">person</span> =&gt;</span></span><br><span class=\"line\">    (&#123;</span><br><span class=\"line\">        ...person,</span><br><span class=\"line\">        canRead: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        canWrite: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">// Pure Function, takes an argument, returns an object,</span></span><br><span class=\"line\"><span class=\"comment\">//    and causes zero side effects</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( selfEducate(frederick) )</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( frederick )</span><br></pre></td></tr></table></figure></p>\n<p>2 纯函数三条原则：<br>（1）函数应该至少接收一个参数；<br>（2）函数应该返回一个值或者其他函数；<br>（3）函数不应该修改或者影响任何传给它的参数</p>\n<h3 id=\"数据转换\"><a href=\"#数据转换\" class=\"headerlink\" title=\"数据转换\"></a>数据转换</h3><p>1 概念：<br>将数据转换成另外一种数据，使用函数生成转换后的副本<br>2 Array.map和Array.filter方法<br>转换数组<br>3 reduce和reduceRight<br>可以用来将数组转换成任意值。<br>举例：<br>（1）数组转换成数字:以下实例循环迭代，每次返回最大值，然后将结果作为上一次回调函数的返回值<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getAge</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> ages = [<span class=\"number\">10</span>, <span class=\"number\">21</span>,<span class=\"number\">33</span>, <span class=\"number\">20</span>,<span class=\"number\">15</span>, <span class=\"number\">14</span>, <span class=\"number\">90</span>, <span class=\"number\">12</span>];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> maxAge = ages.reduce(<span class=\"function\">(<span class=\"params\">max, age</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;age&#125;</span> &gt; <span class=\"subst\">$&#123;max&#125;</span> = <span class=\"subst\">$&#123;age &gt; max&#125;</span>`</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (age &gt; max) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> max = ages.reduce(<span class=\"function\">(<span class=\"params\">max, value</span>) =&gt;</span> &#123;(value &gt; max) ? value : max&#125;, <span class=\"number\">0</span>);        </span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'maxage'</span>, maxAge);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>reduceRight和reduce类似，从数组末尾处理元素。<br>（2）数组转化成对象    </p>\n"},{"title":"react学习-Props,state和组件树","date":"2019-10-22T10:37:10.000Z","_content":"# react学习手册\n## 属性验证\njavascript是弱类型语言，可更改变量的类型，难以查找类型错误。\n","source":"_posts/react_06.md","raw":"---\ntitle: react学习-Props,state和组件树\ndate: 2019-10-22 18:37:10\ntags:\ncategories: \n- 前端\n- react\n---\n# react学习手册\n## 属性验证\njavascript是弱类型语言，可更改变量的类型，难以查找类型错误。\n","slug":"react_06","published":1,"updated":"2019-12-10T01:49:46.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwv2003ud87pz6s8i6hl","content":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"属性验证\"><a href=\"#属性验证\" class=\"headerlink\" title=\"属性验证\"></a>属性验证</h2><p>javascript是弱类型语言，可更改变量的类型，难以查找类型错误。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"react学习手册\"><a href=\"#react学习手册\" class=\"headerlink\" title=\"react学习手册\"></a>react学习手册</h1><h2 id=\"属性验证\"><a href=\"#属性验证\" class=\"headerlink\" title=\"属性验证\"></a>属性验证</h2><p>javascript是弱类型语言，可更改变量的类型，难以查找类型错误。</p>\n"},{"title":"react学习-基础","date":"2019-10-22T10:37:10.000Z","_content":"# 相关概念介绍\n## react\n## ES6\n## DOM\n## Redux\n## react-route\n## webpack\n\n","source":"_posts/react_base.md","raw":"---\ntitle: react学习-基础\ndate: 2019-10-22 18:37:10\ntags:\ncategories: \n- 前端\n- react\n---\n# 相关概念介绍\n## react\n## ES6\n## DOM\n## Redux\n## react-route\n## webpack\n\n","slug":"react_base","published":1,"updated":"2019-12-10T01:49:46.562Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwva003xd87p0gfgddqm","content":"<h1 id=\"相关概念介绍\"><a href=\"#相关概念介绍\" class=\"headerlink\" title=\"相关概念介绍\"></a>相关概念介绍</h1><h2 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h2><h2 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h2><h2 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h2><h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><h2 id=\"react-route\"><a href=\"#react-route\" class=\"headerlink\" title=\"react-route\"></a>react-route</h2><h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"相关概念介绍\"><a href=\"#相关概念介绍\" class=\"headerlink\" title=\"相关概念介绍\"></a>相关概念介绍</h1><h2 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h2><h2 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h2><h2 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h2><h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><h2 id=\"react-route\"><a href=\"#react-route\" class=\"headerlink\" title=\"react-route\"></a>react-route</h2><h2 id=\"webpack\"><a href=\"#webpack\" class=\"headerlink\" title=\"webpack\"></a>webpack</h2>"},{"title":"单例模式","date":"2019-10-06T02:40:10.000Z","_content":"# 基础介绍\n## 概念介绍\n作为对象的创建模式，单例模式确保某一个类只有一个实例，并且对外提供这个全局实例的访问入口。它不会创建实例副本，而是会向单例类内部存储的实例返回一个引用。\n## 单例模式三要素\n1. 需要一个保存类的唯一实例的静态成员变量。    \n2. 构造函数和克隆函数必须声明为私有的，防止外部程序创建或复制实例副本。    \n3. 必须提供一个访问这个实例的公共静态方法，从而返回唯一实例的一个引用。    \n","source":"_posts/singleMode.md","raw":"---\ntitle: 单例模式\ndate: 2019-10-06 10:40:10\ntags: 学习\ncategories: 设计模式\n---\n# 基础介绍\n## 概念介绍\n作为对象的创建模式，单例模式确保某一个类只有一个实例，并且对外提供这个全局实例的访问入口。它不会创建实例副本，而是会向单例类内部存储的实例返回一个引用。\n## 单例模式三要素\n1. 需要一个保存类的唯一实例的静态成员变量。    \n2. 构造函数和克隆函数必须声明为私有的，防止外部程序创建或复制实例副本。    \n3. 必须提供一个访问这个实例的公共静态方法，从而返回唯一实例的一个引用。    \n","slug":"singleMode","published":1,"updated":"2019-12-10T01:49:46.563Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwve003zd87pg38phplv","content":"<h1 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h1><h2 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h2><p>作为对象的创建模式，单例模式确保某一个类只有一个实例，并且对外提供这个全局实例的访问入口。它不会创建实例副本，而是会向单例类内部存储的实例返回一个引用。</p>\n<h2 id=\"单例模式三要素\"><a href=\"#单例模式三要素\" class=\"headerlink\" title=\"单例模式三要素\"></a>单例模式三要素</h2><ol>\n<li>需要一个保存类的唯一实例的静态成员变量。    </li>\n<li>构造函数和克隆函数必须声明为私有的，防止外部程序创建或复制实例副本。    </li>\n<li>必须提供一个访问这个实例的公共静态方法，从而返回唯一实例的一个引用。    </li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"基础介绍\"><a href=\"#基础介绍\" class=\"headerlink\" title=\"基础介绍\"></a>基础介绍</h1><h2 id=\"概念介绍\"><a href=\"#概念介绍\" class=\"headerlink\" title=\"概念介绍\"></a>概念介绍</h2><p>作为对象的创建模式，单例模式确保某一个类只有一个实例，并且对外提供这个全局实例的访问入口。它不会创建实例副本，而是会向单例类内部存储的实例返回一个引用。</p>\n<h2 id=\"单例模式三要素\"><a href=\"#单例模式三要素\" class=\"headerlink\" title=\"单例模式三要素\"></a>单例模式三要素</h2><ol>\n<li>需要一个保存类的唯一实例的静态成员变量。    </li>\n<li>构造函数和克隆函数必须声明为私有的，防止外部程序创建或复制实例副本。    </li>\n<li>必须提供一个访问这个实例的公共静态方法，从而返回唯一实例的一个引用。    </li>\n</ol>\n"},{"title":"测试","date":"2019-12-10T04:34:10.000Z","_content":"# 单元测试\n# mock\n# 接口测试\n# stub\n# mock\n# fakeserver\n","source":"_posts/unitTest.md","raw":"---\ntitle: 测试\ndate: 2019-12-10 12:34:10\ntags: 测试\ncategories: 学习\n---\n# 单元测试\n# mock\n# 接口测试\n# stub\n# mock\n# fakeserver\n","slug":"unitTest","published":1,"updated":"2019-12-10T06:23:49.218Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwvk0042d87poopktv7d","content":"<h1 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h1><h1 id=\"mock\"><a href=\"#mock\" class=\"headerlink\" title=\"mock\"></a>mock</h1><h1 id=\"接口测试\"><a href=\"#接口测试\" class=\"headerlink\" title=\"接口测试\"></a>接口测试</h1><h1 id=\"stub\"><a href=\"#stub\" class=\"headerlink\" title=\"stub\"></a>stub</h1><h1 id=\"mock-1\"><a href=\"#mock-1\" class=\"headerlink\" title=\"mock\"></a>mock</h1><h1 id=\"fakeserver\"><a href=\"#fakeserver\" class=\"headerlink\" title=\"fakeserver\"></a>fakeserver</h1>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h1><h1 id=\"mock\"><a href=\"#mock\" class=\"headerlink\" title=\"mock\"></a>mock</h1><h1 id=\"接口测试\"><a href=\"#接口测试\" class=\"headerlink\" title=\"接口测试\"></a>接口测试</h1><h1 id=\"stub\"><a href=\"#stub\" class=\"headerlink\" title=\"stub\"></a>stub</h1><h1 id=\"mock-1\"><a href=\"#mock-1\" class=\"headerlink\" title=\"mock\"></a>mock</h1><h1 id=\"fakeserver\"><a href=\"#fakeserver\" class=\"headerlink\" title=\"fakeserver\"></a>fakeserver</h1>"},{"title":"vim学习笔记","date":"2019-02-28T08:34:10.000Z","_content":"## 光标移动\n\nh 或 <- 表示向左\nj 下\nk 上\nl 右\n\nctrl + f     屏幕向下移动一页\nctrl + b     向上移动一页\nctrl + d     向下移动半页\nctrl + u     向上移动半页\n'+'          光标移动到非空格符的下一行\n'-'          光标移动到非空格符的\nn[space]   n表示数字，光标向右移动n个字符\n0或[Home]  移动到这一行最开始的字符处\n$或[End]   移动到这一行的最后面字符处\nH          移动到这个屏幕最上方一行的第一个字符\nM          移动到这个屏幕中央一行的第一个字符\nL          移动到这个屏幕最下方一行的第一个字符\nG          移动到这个文件的最后一行\nnG(:n)     移动到这个文件的第n行\ngg(1G)     移动到第一行\nn[Enter]   n为数字，表示向下移动n行\n\n## 查找与替换\n\n/word 光标之下寻找名为word的字符串\n?word 光标之上寻找名为word的字符串\nn     重复前一个查找的操作\nN     反向进行前一个查找操作\n:n1,n2s/word1/word2/g    n1和n2是数字，在n1和n2行之间查找所有word,替换成word2\n:1,$s/word1/word2/g      \n:1,$s/word1/word2/gc     c代表confirm,替换前显示确认信息\n## 删除复制与粘贴\nx       向后删除\nX       向前删除\nnx      向后删除n个字符\ndd      删除（剪切）光标所在一整行\nndd     删除向下n行\nd1G     删除光标所在到第一行的数据\ndG      删除光标所在到最后一行的数据\nd$      删除光标所在处，到该行最后一个字符\nd0      \nyy      复制该行\nnyy\ny1G\nyG\ny0\ny$\np       将已复制的数据在光标下一行粘贴\nP       上一行\nJ       光标所在行与下一行数据结合成同一行\nc       重复删除多个数据(10cj代表向下删除10行)删除后切换到编辑模式\nu       回复\nctrl+r  重做\n.       重复前一次操作\n\n## 进入插入或替换的编辑模式\n\ni I     i从目前光标所在处插入，I目前所在行的第一个非空格字符处开始插入\na A     a 从目前光标所在的下一个字符处开始插入,A从光标所在行的最后一个字符处开始插入\no O     o 在目前光标所在行的下一行处插入新行  O上一行\nr R     r 替换一次 R 一直替换直到按Esc\n\n## 一般命令模式切换到命令模式\n\nZZ      若文件没有被修改则不保存退出，修改了则保存后退出\n:w [filename] 将编辑的数据保存成另一个新文件\n:r [filename] 读入另一个文件的数据，加在光标所在行后面\n:n1, n2 w [filename] 将n1到n2的内容保存到文件\n:! command 暂时退出vi到命令行模式下执行command的显示结果（:! ls /home）\n:set nu\n:set nonu\n:e! 还原文件内容事实上，可以使用[ :! ls /home ]不过，如果你学过后面的章节之后，你会发现，执行[ ctrl + z ]亦可暂时退出 vi 让你在命令行\n\n##多行添加数据\n\n**方法一：块选择模式**\n（1）v 进入virtual模式\n（2）上下键选择需要注释的行数\n（3）ctrl+v 进入列模式\n（4）大写I进入插入模式，输入要编辑的符号\n（5）立即按下两次ESC\n**方法二：替换命令**\n：起始行号，结束行号s/^/注释符/g\n取消注释：\n:起始行号,结束行号s/^注释符//g\n\n####编辑多行\n\nctrl+v进入visual block模式，按两次j或者2j，将光标移动到要插入的最后一行，按下i进入编辑模式。输入内容，Esc退出\n\n##多文件编辑\n\n:n 编辑下一个文件\n:N 编辑上一个文件\n:files 列出目前这个vim打开的所有文件\n（nyy复制后，使用p粘贴）\n\n##多窗口功能\n\n**分区窗口并放入文件**\n:sp {filename}\n#### 按键功能介绍\n:sp [filename] 打开一个新窗口，如果加filename表示打开另一个文件，否则打开自身\n[ctrl] + w + j 或[ctrl] + w + ↓：先按住ctrl键不放，按下w后放开，之后再按↓或↑\nctrl + w + q 相当于切换到某个窗口，按下:q离开，也可以直接ctrl+w+q\n\n##vim的挑字补全功能\n\nctrl + x -> ctrl + n 通过正在编辑的这个文件的内容文字作为关键组予以补齐\nctrl + x -> ctrl + f 以当前目录的文件名作为关键字予以补齐\nctrl + x -> ctrl + o 以扩展名作为语法补充，以vim内置的关键字予以补齐\n\n#### vim 自动补全报错option ‘omnifunc’ is not set\n\n编辑vimrc文件，加入以下内容：\n```\nautocmd FileType python set omnifunc=pythoncomplete#Complete\nautocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS\nautocmd FileType html set omnifunc=htmlcomplete#CompleteTags\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS\nautocmd FileType xml set omnifunc=xmlcomplete#CompleteTags\nautocmd FileType php set omnifunc=phpcomplete#CompletePHP\nautocmd FileType c set omnifunc=ccomplete#Complete\n```\n\n##编码转换\n\niconv list:列出所有的编码\niconv -f 原本编码 -t 新编码 filename [-o newfilw]\n##vim的环境设置参数\n\n:set no或者:set number\n:set hlsearch 设置高亮度搜寻\n:set nohlsearch\n:set autoindent 自动缩进\n:set noautoindent 设置不自动缩进\n:set backup 设置自动储存备份文件，一般设置为nobackup，如果为backup，每次更改一个文件时会自动产生一个`filename~`文件记录原始文件内容\n:set ruler 显示右下角状态列\n:set showmode 是否要显示--INSERT--之类的字眼\n:set backspace=(012) 某些distribution不允许使用backspace删除字符，当设置值为2可以删除任意值，为0或1时，只能删除刚才输入的\n:set all 显示目前所有的环境参数设置值\n:set 显示与系统默认值不同的设置参数\n:syntax on 程序相关语法显示不同颜色\n:syntax off \n:set bg=dark 显示不同的颜色色调\n:set bg=light 编辑'~/.vimrc'文件，有或没有冒号都可以\n\n##其他相关操作\n**virtualbox添加共享文件**\n1 设置-添加共享文件，选择固定分配\n2 添加挂载：sudo mount -t vboxsf rezb2b /mnt/rezb2b\n3 自启动挂载命令：sudo vim /etc/rc.local 添加命令\n","source":"_posts/vim.md","raw":"---\ntitle: vim学习笔记\ndate: 2019-02-28 16:34:10\ntags: 文档\ncategories: 快捷键\n---\n## 光标移动\n\nh 或 <- 表示向左\nj 下\nk 上\nl 右\n\nctrl + f     屏幕向下移动一页\nctrl + b     向上移动一页\nctrl + d     向下移动半页\nctrl + u     向上移动半页\n'+'          光标移动到非空格符的下一行\n'-'          光标移动到非空格符的\nn[space]   n表示数字，光标向右移动n个字符\n0或[Home]  移动到这一行最开始的字符处\n$或[End]   移动到这一行的最后面字符处\nH          移动到这个屏幕最上方一行的第一个字符\nM          移动到这个屏幕中央一行的第一个字符\nL          移动到这个屏幕最下方一行的第一个字符\nG          移动到这个文件的最后一行\nnG(:n)     移动到这个文件的第n行\ngg(1G)     移动到第一行\nn[Enter]   n为数字，表示向下移动n行\n\n## 查找与替换\n\n/word 光标之下寻找名为word的字符串\n?word 光标之上寻找名为word的字符串\nn     重复前一个查找的操作\nN     反向进行前一个查找操作\n:n1,n2s/word1/word2/g    n1和n2是数字，在n1和n2行之间查找所有word,替换成word2\n:1,$s/word1/word2/g      \n:1,$s/word1/word2/gc     c代表confirm,替换前显示确认信息\n## 删除复制与粘贴\nx       向后删除\nX       向前删除\nnx      向后删除n个字符\ndd      删除（剪切）光标所在一整行\nndd     删除向下n行\nd1G     删除光标所在到第一行的数据\ndG      删除光标所在到最后一行的数据\nd$      删除光标所在处，到该行最后一个字符\nd0      \nyy      复制该行\nnyy\ny1G\nyG\ny0\ny$\np       将已复制的数据在光标下一行粘贴\nP       上一行\nJ       光标所在行与下一行数据结合成同一行\nc       重复删除多个数据(10cj代表向下删除10行)删除后切换到编辑模式\nu       回复\nctrl+r  重做\n.       重复前一次操作\n\n## 进入插入或替换的编辑模式\n\ni I     i从目前光标所在处插入，I目前所在行的第一个非空格字符处开始插入\na A     a 从目前光标所在的下一个字符处开始插入,A从光标所在行的最后一个字符处开始插入\no O     o 在目前光标所在行的下一行处插入新行  O上一行\nr R     r 替换一次 R 一直替换直到按Esc\n\n## 一般命令模式切换到命令模式\n\nZZ      若文件没有被修改则不保存退出，修改了则保存后退出\n:w [filename] 将编辑的数据保存成另一个新文件\n:r [filename] 读入另一个文件的数据，加在光标所在行后面\n:n1, n2 w [filename] 将n1到n2的内容保存到文件\n:! command 暂时退出vi到命令行模式下执行command的显示结果（:! ls /home）\n:set nu\n:set nonu\n:e! 还原文件内容事实上，可以使用[ :! ls /home ]不过，如果你学过后面的章节之后，你会发现，执行[ ctrl + z ]亦可暂时退出 vi 让你在命令行\n\n##多行添加数据\n\n**方法一：块选择模式**\n（1）v 进入virtual模式\n（2）上下键选择需要注释的行数\n（3）ctrl+v 进入列模式\n（4）大写I进入插入模式，输入要编辑的符号\n（5）立即按下两次ESC\n**方法二：替换命令**\n：起始行号，结束行号s/^/注释符/g\n取消注释：\n:起始行号,结束行号s/^注释符//g\n\n####编辑多行\n\nctrl+v进入visual block模式，按两次j或者2j，将光标移动到要插入的最后一行，按下i进入编辑模式。输入内容，Esc退出\n\n##多文件编辑\n\n:n 编辑下一个文件\n:N 编辑上一个文件\n:files 列出目前这个vim打开的所有文件\n（nyy复制后，使用p粘贴）\n\n##多窗口功能\n\n**分区窗口并放入文件**\n:sp {filename}\n#### 按键功能介绍\n:sp [filename] 打开一个新窗口，如果加filename表示打开另一个文件，否则打开自身\n[ctrl] + w + j 或[ctrl] + w + ↓：先按住ctrl键不放，按下w后放开，之后再按↓或↑\nctrl + w + q 相当于切换到某个窗口，按下:q离开，也可以直接ctrl+w+q\n\n##vim的挑字补全功能\n\nctrl + x -> ctrl + n 通过正在编辑的这个文件的内容文字作为关键组予以补齐\nctrl + x -> ctrl + f 以当前目录的文件名作为关键字予以补齐\nctrl + x -> ctrl + o 以扩展名作为语法补充，以vim内置的关键字予以补齐\n\n#### vim 自动补全报错option ‘omnifunc’ is not set\n\n编辑vimrc文件，加入以下内容：\n```\nautocmd FileType python set omnifunc=pythoncomplete#Complete\nautocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS\nautocmd FileType html set omnifunc=htmlcomplete#CompleteTags\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS\nautocmd FileType xml set omnifunc=xmlcomplete#CompleteTags\nautocmd FileType php set omnifunc=phpcomplete#CompletePHP\nautocmd FileType c set omnifunc=ccomplete#Complete\n```\n\n##编码转换\n\niconv list:列出所有的编码\niconv -f 原本编码 -t 新编码 filename [-o newfilw]\n##vim的环境设置参数\n\n:set no或者:set number\n:set hlsearch 设置高亮度搜寻\n:set nohlsearch\n:set autoindent 自动缩进\n:set noautoindent 设置不自动缩进\n:set backup 设置自动储存备份文件，一般设置为nobackup，如果为backup，每次更改一个文件时会自动产生一个`filename~`文件记录原始文件内容\n:set ruler 显示右下角状态列\n:set showmode 是否要显示--INSERT--之类的字眼\n:set backspace=(012) 某些distribution不允许使用backspace删除字符，当设置值为2可以删除任意值，为0或1时，只能删除刚才输入的\n:set all 显示目前所有的环境参数设置值\n:set 显示与系统默认值不同的设置参数\n:syntax on 程序相关语法显示不同颜色\n:syntax off \n:set bg=dark 显示不同的颜色色调\n:set bg=light 编辑'~/.vimrc'文件，有或没有冒号都可以\n\n##其他相关操作\n**virtualbox添加共享文件**\n1 设置-添加共享文件，选择固定分配\n2 添加挂载：sudo mount -t vboxsf rezb2b /mnt/rezb2b\n3 自启动挂载命令：sudo vim /etc/rc.local 添加命令\n","slug":"vim","published":1,"updated":"2019-12-10T01:49:46.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwvm0045d87p2ikqmpm7","content":"<h2 id=\"光标移动\"><a href=\"#光标移动\" class=\"headerlink\" title=\"光标移动\"></a>光标移动</h2><p>h 或 &lt;- 表示向左<br>j 下<br>k 上<br>l 右</p>\n<p>ctrl + f     屏幕向下移动一页<br>ctrl + b     向上移动一页<br>ctrl + d     向下移动半页<br>ctrl + u     向上移动半页<br>‘+’          光标移动到非空格符的下一行<br>‘-‘          光标移动到非空格符的<br>n[space]   n表示数字，光标向右移动n个字符<br>0或[Home]  移动到这一行最开始的字符处<br>$或[End]   移动到这一行的最后面字符处<br>H          移动到这个屏幕最上方一行的第一个字符<br>M          移动到这个屏幕中央一行的第一个字符<br>L          移动到这个屏幕最下方一行的第一个字符<br>G          移动到这个文件的最后一行<br>nG(:n)     移动到这个文件的第n行<br>gg(1G)     移动到第一行<br>n[Enter]   n为数字，表示向下移动n行</p>\n<h2 id=\"查找与替换\"><a href=\"#查找与替换\" class=\"headerlink\" title=\"查找与替换\"></a>查找与替换</h2><p>/word 光标之下寻找名为word的字符串<br>?word 光标之上寻找名为word的字符串<br>n     重复前一个查找的操作<br>N     反向进行前一个查找操作<br>:n1,n2s/word1/word2/g    n1和n2是数字，在n1和n2行之间查找所有word,替换成word2<br>:1,$s/word1/word2/g<br>:1,$s/word1/word2/gc     c代表confirm,替换前显示确认信息</p>\n<h2 id=\"删除复制与粘贴\"><a href=\"#删除复制与粘贴\" class=\"headerlink\" title=\"删除复制与粘贴\"></a>删除复制与粘贴</h2><p>x       向后删除<br>X       向前删除<br>nx      向后删除n个字符<br>dd      删除（剪切）光标所在一整行<br>ndd     删除向下n行<br>d1G     删除光标所在到第一行的数据<br>dG      删除光标所在到最后一行的数据<br>d$      删除光标所在处，到该行最后一个字符<br>d0<br>yy      复制该行<br>nyy<br>y1G<br>yG<br>y0<br>y$<br>p       将已复制的数据在光标下一行粘贴<br>P       上一行<br>J       光标所在行与下一行数据结合成同一行<br>c       重复删除多个数据(10cj代表向下删除10行)删除后切换到编辑模式<br>u       回复<br>ctrl+r  重做<br>.       重复前一次操作</p>\n<h2 id=\"进入插入或替换的编辑模式\"><a href=\"#进入插入或替换的编辑模式\" class=\"headerlink\" title=\"进入插入或替换的编辑模式\"></a>进入插入或替换的编辑模式</h2><p>i I     i从目前光标所在处插入，I目前所在行的第一个非空格字符处开始插入<br>a A     a 从目前光标所在的下一个字符处开始插入,A从光标所在行的最后一个字符处开始插入<br>o O     o 在目前光标所在行的下一行处插入新行  O上一行<br>r R     r 替换一次 R 一直替换直到按Esc</p>\n<h2 id=\"一般命令模式切换到命令模式\"><a href=\"#一般命令模式切换到命令模式\" class=\"headerlink\" title=\"一般命令模式切换到命令模式\"></a>一般命令模式切换到命令模式</h2><p>ZZ      若文件没有被修改则不保存退出，修改了则保存后退出<br>:w [filename] 将编辑的数据保存成另一个新文件<br>:r [filename] 读入另一个文件的数据，加在光标所在行后面<br>:n1, n2 w [filename] 将n1到n2的内容保存到文件<br>:! command 暂时退出vi到命令行模式下执行command的显示结果（:! ls /home）<br>:set nu<br>:set nonu<br>:e! 还原文件内容事实上，可以使用[ :! ls /home ]不过，如果你学过后面的章节之后，你会发现，执行[ ctrl + z ]亦可暂时退出 vi 让你在命令行</p>\n<p>##多行添加数据</p>\n<p><strong>方法一：块选择模式</strong><br>（1）v 进入virtual模式<br>（2）上下键选择需要注释的行数<br>（3）ctrl+v 进入列模式<br>（4）大写I进入插入模式，输入要编辑的符号<br>（5）立即按下两次ESC<br><strong>方法二：替换命令</strong><br>：起始行号，结束行号s/^/注释符/g<br>取消注释：<br>:起始行号,结束行号s/^注释符//g</p>\n<p>####编辑多行</p>\n<p>ctrl+v进入visual block模式，按两次j或者2j，将光标移动到要插入的最后一行，按下i进入编辑模式。输入内容，Esc退出</p>\n<p>##多文件编辑</p>\n<p>:n 编辑下一个文件<br>:N 编辑上一个文件<br>:files 列出目前这个vim打开的所有文件<br>（nyy复制后，使用p粘贴）</p>\n<p>##多窗口功能</p>\n<p><strong>分区窗口并放入文件</strong><br>:sp {filename}</p>\n<h4 id=\"按键功能介绍\"><a href=\"#按键功能介绍\" class=\"headerlink\" title=\"按键功能介绍\"></a>按键功能介绍</h4><p>:sp [filename] 打开一个新窗口，如果加filename表示打开另一个文件，否则打开自身<br>[ctrl] + w + j 或[ctrl] + w + ↓：先按住ctrl键不放，按下w后放开，之后再按↓或↑<br>ctrl + w + q 相当于切换到某个窗口，按下:q离开，也可以直接ctrl+w+q</p>\n<p>##vim的挑字补全功能</p>\n<p>ctrl + x -&gt; ctrl + n 通过正在编辑的这个文件的内容文字作为关键组予以补齐<br>ctrl + x -&gt; ctrl + f 以当前目录的文件名作为关键字予以补齐<br>ctrl + x -&gt; ctrl + o 以扩展名作为语法补充，以vim内置的关键字予以补齐</p>\n<h4 id=\"vim-自动补全报错option-‘omnifunc’-is-not-set\"><a href=\"#vim-自动补全报错option-‘omnifunc’-is-not-set\" class=\"headerlink\" title=\"vim 自动补全报错option ‘omnifunc’ is not set\"></a>vim 自动补全报错option ‘omnifunc’ is not set</h4><p>编辑vimrc文件，加入以下内容：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">autocmd FileType python set omnifunc=pythoncomplete#Complete</span><br><span class=\"line\">autocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS</span><br><span class=\"line\">autocmd FileType html set omnifunc=htmlcomplete#CompleteTags</span><br><span class=\"line\">autocmd FileType css set omnifunc=csscomplete#CompleteCSS</span><br><span class=\"line\">autocmd FileType xml set omnifunc=xmlcomplete#CompleteTags</span><br><span class=\"line\">autocmd FileType php set omnifunc=phpcomplete#CompletePHP</span><br><span class=\"line\">autocmd FileType c set omnifunc=ccomplete#Complete</span><br></pre></td></tr></table></figure></p>\n<p>##编码转换</p>\n<p>iconv list:列出所有的编码<br>iconv -f 原本编码 -t 新编码 filename [-o newfilw]</p>\n<p>##vim的环境设置参数</p>\n<p>:set no或者:set number<br>:set hlsearch 设置高亮度搜寻<br>:set nohlsearch<br>:set autoindent 自动缩进<br>:set noautoindent 设置不自动缩进<br>:set backup 设置自动储存备份文件，一般设置为nobackup，如果为backup，每次更改一个文件时会自动产生一个<code>filename~</code>文件记录原始文件内容<br>:set ruler 显示右下角状态列<br>:set showmode 是否要显示–INSERT–之类的字眼<br>:set backspace=(012) 某些distribution不允许使用backspace删除字符，当设置值为2可以删除任意值，为0或1时，只能删除刚才输入的<br>:set all 显示目前所有的环境参数设置值<br>:set 显示与系统默认值不同的设置参数<br>:syntax on 程序相关语法显示不同颜色<br>:syntax off<br>:set bg=dark 显示不同的颜色色调<br>:set bg=light 编辑’~/.vimrc’文件，有或没有冒号都可以</p>\n<p>##其他相关操作<br><strong>virtualbox添加共享文件</strong><br>1 设置-添加共享文件，选择固定分配<br>2 添加挂载：sudo mount -t vboxsf rezb2b /mnt/rezb2b<br>3 自启动挂载命令：sudo vim /etc/rc.local 添加命令</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"光标移动\"><a href=\"#光标移动\" class=\"headerlink\" title=\"光标移动\"></a>光标移动</h2><p>h 或 &lt;- 表示向左<br>j 下<br>k 上<br>l 右</p>\n<p>ctrl + f     屏幕向下移动一页<br>ctrl + b     向上移动一页<br>ctrl + d     向下移动半页<br>ctrl + u     向上移动半页<br>‘+’          光标移动到非空格符的下一行<br>‘-‘          光标移动到非空格符的<br>n[space]   n表示数字，光标向右移动n个字符<br>0或[Home]  移动到这一行最开始的字符处<br>$或[End]   移动到这一行的最后面字符处<br>H          移动到这个屏幕最上方一行的第一个字符<br>M          移动到这个屏幕中央一行的第一个字符<br>L          移动到这个屏幕最下方一行的第一个字符<br>G          移动到这个文件的最后一行<br>nG(:n)     移动到这个文件的第n行<br>gg(1G)     移动到第一行<br>n[Enter]   n为数字，表示向下移动n行</p>\n<h2 id=\"查找与替换\"><a href=\"#查找与替换\" class=\"headerlink\" title=\"查找与替换\"></a>查找与替换</h2><p>/word 光标之下寻找名为word的字符串<br>?word 光标之上寻找名为word的字符串<br>n     重复前一个查找的操作<br>N     反向进行前一个查找操作<br>:n1,n2s/word1/word2/g    n1和n2是数字，在n1和n2行之间查找所有word,替换成word2<br>:1,$s/word1/word2/g<br>:1,$s/word1/word2/gc     c代表confirm,替换前显示确认信息</p>\n<h2 id=\"删除复制与粘贴\"><a href=\"#删除复制与粘贴\" class=\"headerlink\" title=\"删除复制与粘贴\"></a>删除复制与粘贴</h2><p>x       向后删除<br>X       向前删除<br>nx      向后删除n个字符<br>dd      删除（剪切）光标所在一整行<br>ndd     删除向下n行<br>d1G     删除光标所在到第一行的数据<br>dG      删除光标所在到最后一行的数据<br>d$      删除光标所在处，到该行最后一个字符<br>d0<br>yy      复制该行<br>nyy<br>y1G<br>yG<br>y0<br>y$<br>p       将已复制的数据在光标下一行粘贴<br>P       上一行<br>J       光标所在行与下一行数据结合成同一行<br>c       重复删除多个数据(10cj代表向下删除10行)删除后切换到编辑模式<br>u       回复<br>ctrl+r  重做<br>.       重复前一次操作</p>\n<h2 id=\"进入插入或替换的编辑模式\"><a href=\"#进入插入或替换的编辑模式\" class=\"headerlink\" title=\"进入插入或替换的编辑模式\"></a>进入插入或替换的编辑模式</h2><p>i I     i从目前光标所在处插入，I目前所在行的第一个非空格字符处开始插入<br>a A     a 从目前光标所在的下一个字符处开始插入,A从光标所在行的最后一个字符处开始插入<br>o O     o 在目前光标所在行的下一行处插入新行  O上一行<br>r R     r 替换一次 R 一直替换直到按Esc</p>\n<h2 id=\"一般命令模式切换到命令模式\"><a href=\"#一般命令模式切换到命令模式\" class=\"headerlink\" title=\"一般命令模式切换到命令模式\"></a>一般命令模式切换到命令模式</h2><p>ZZ      若文件没有被修改则不保存退出，修改了则保存后退出<br>:w [filename] 将编辑的数据保存成另一个新文件<br>:r [filename] 读入另一个文件的数据，加在光标所在行后面<br>:n1, n2 w [filename] 将n1到n2的内容保存到文件<br>:! command 暂时退出vi到命令行模式下执行command的显示结果（:! ls /home）<br>:set nu<br>:set nonu<br>:e! 还原文件内容事实上，可以使用[ :! ls /home ]不过，如果你学过后面的章节之后，你会发现，执行[ ctrl + z ]亦可暂时退出 vi 让你在命令行</p>\n<p>##多行添加数据</p>\n<p><strong>方法一：块选择模式</strong><br>（1）v 进入virtual模式<br>（2）上下键选择需要注释的行数<br>（3）ctrl+v 进入列模式<br>（4）大写I进入插入模式，输入要编辑的符号<br>（5）立即按下两次ESC<br><strong>方法二：替换命令</strong><br>：起始行号，结束行号s/^/注释符/g<br>取消注释：<br>:起始行号,结束行号s/^注释符//g</p>\n<p>####编辑多行</p>\n<p>ctrl+v进入visual block模式，按两次j或者2j，将光标移动到要插入的最后一行，按下i进入编辑模式。输入内容，Esc退出</p>\n<p>##多文件编辑</p>\n<p>:n 编辑下一个文件<br>:N 编辑上一个文件<br>:files 列出目前这个vim打开的所有文件<br>（nyy复制后，使用p粘贴）</p>\n<p>##多窗口功能</p>\n<p><strong>分区窗口并放入文件</strong><br>:sp {filename}</p>\n<h4 id=\"按键功能介绍\"><a href=\"#按键功能介绍\" class=\"headerlink\" title=\"按键功能介绍\"></a>按键功能介绍</h4><p>:sp [filename] 打开一个新窗口，如果加filename表示打开另一个文件，否则打开自身<br>[ctrl] + w + j 或[ctrl] + w + ↓：先按住ctrl键不放，按下w后放开，之后再按↓或↑<br>ctrl + w + q 相当于切换到某个窗口，按下:q离开，也可以直接ctrl+w+q</p>\n<p>##vim的挑字补全功能</p>\n<p>ctrl + x -&gt; ctrl + n 通过正在编辑的这个文件的内容文字作为关键组予以补齐<br>ctrl + x -&gt; ctrl + f 以当前目录的文件名作为关键字予以补齐<br>ctrl + x -&gt; ctrl + o 以扩展名作为语法补充，以vim内置的关键字予以补齐</p>\n<h4 id=\"vim-自动补全报错option-‘omnifunc’-is-not-set\"><a href=\"#vim-自动补全报错option-‘omnifunc’-is-not-set\" class=\"headerlink\" title=\"vim 自动补全报错option ‘omnifunc’ is not set\"></a>vim 自动补全报错option ‘omnifunc’ is not set</h4><p>编辑vimrc文件，加入以下内容：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">autocmd FileType python set omnifunc=pythoncomplete#Complete</span><br><span class=\"line\">autocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS</span><br><span class=\"line\">autocmd FileType html set omnifunc=htmlcomplete#CompleteTags</span><br><span class=\"line\">autocmd FileType css set omnifunc=csscomplete#CompleteCSS</span><br><span class=\"line\">autocmd FileType xml set omnifunc=xmlcomplete#CompleteTags</span><br><span class=\"line\">autocmd FileType php set omnifunc=phpcomplete#CompletePHP</span><br><span class=\"line\">autocmd FileType c set omnifunc=ccomplete#Complete</span><br></pre></td></tr></table></figure></p>\n<p>##编码转换</p>\n<p>iconv list:列出所有的编码<br>iconv -f 原本编码 -t 新编码 filename [-o newfilw]</p>\n<p>##vim的环境设置参数</p>\n<p>:set no或者:set number<br>:set hlsearch 设置高亮度搜寻<br>:set nohlsearch<br>:set autoindent 自动缩进<br>:set noautoindent 设置不自动缩进<br>:set backup 设置自动储存备份文件，一般设置为nobackup，如果为backup，每次更改一个文件时会自动产生一个<code>filename~</code>文件记录原始文件内容<br>:set ruler 显示右下角状态列<br>:set showmode 是否要显示–INSERT–之类的字眼<br>:set backspace=(012) 某些distribution不允许使用backspace删除字符，当设置值为2可以删除任意值，为0或1时，只能删除刚才输入的<br>:set all 显示目前所有的环境参数设置值<br>:set 显示与系统默认值不同的设置参数<br>:syntax on 程序相关语法显示不同颜色<br>:syntax off<br>:set bg=dark 显示不同的颜色色调<br>:set bg=light 编辑’~/.vimrc’文件，有或没有冒号都可以</p>\n<p>##其他相关操作<br><strong>virtualbox添加共享文件</strong><br>1 设置-添加共享文件，选择固定分配<br>2 添加挂载：sudo mount -t vboxsf rezb2b /mnt/rezb2b<br>3 自启动挂载命令：sudo vim /etc/rc.local 添加命令</p>\n"},{"title":"fastadmin自定义角色组","date":"2019-01-31T09:36:10.000Z","comments":1,"_content":"之前使用fastadmin，自定义角色组，发现编辑/删除/修改等等权限可以直接权限管理中选择，然后用不同的角色登陆，会显示对应的权限按钮。此时有一个新的需求就是增加审核和批量审核，并且也增加对应的权限。\n\n\n----------\n\n添加按钮\n    先不写功能，在对应的位置上加上审核按钮。在顶头位置的批量审核需要得到的样式如下：\n    \n![clipboard.png](https://image-static.segmentfault.com/105/121/1051217979-5b03e62334d57_articlex)\n\n   \n\n>  原先的创建按钮方法为：\n>     {:build_toolbar('refresh,edit,checkall')}\n> 有时候不使用buid_toolbar来创建按钮，而是直接使用的\n>    \n> \n>      <a href=\"javascript:;\" class=\"btn btn-danger btn-del btn-disabled disabled {:$auth->check('course/clabelong/del')?'':'hide'}\"\n> title=\"{:__('Delete')}\" ><i class=\"fa fa-trash\"></i>\n> {:__('Delete')}</a>\n\n这种方式来创建按钮，这样虽然很直观，但是实际上使用却很不方便，因为这里对于权限的判定可能是有问题的。期待的结果是直接使用build_toolbar方法，设置checkall为批量审核，check为审核方法，对于各个权限组可以直接调用。\n修改build_toolbar方法到如下结果：\n\n    function build_toolbar($btns = NULL, $attr = [])\n        {\n            $auth = \\app\\admin\\library\\Auth::instance();\n            $controller = str_replace('.', '/', strtolower(think\\Request::instance()->controller()));\n            $btns = $btns ? $btns : ['refresh', 'add', 'edit', 'del', 'import','checkall'];\n            $btns = is_array($btns) ? $btns : explode(',', $btns);\n            $index = array_search('delete', $btns);\n            if ($index !== FALSE) {\n                $btns[$index] = 'del';\n            }\n            $btnAttr = [\n                'refresh' => ['javascript:;', 'btn btn-primary btn-refresh', 'fa fa-refresh', '', __('Refresh')],\n                'checkall'=> ['javascript:;', 'btn btn-success btn-checkall btn-disabled disabled', 'fa fa-flag-checkered', ' 批量审核', '批量审核'],\n                'add'     => ['javascript:;', 'btn btn-success btn-add', 'fa fa-plus', __('Add'), __('Add')],\n                'edit'    => ['javascript:;', 'btn btn-success btn-edit btn-disabled disabled', 'fa fa-pencil', __('Edit'), __('Edit')],\n                'del'     => ['javascript:;', 'btn btn-danger btn-del btn-disabled disabled', 'fa fa-trash', __('Delete'), __('Delete')],\n                'import'  => ['javascript:;', 'btn btn-danger btn-import', 'fa fa-upload', __('Import'), __('Import')],\n            ];\n            $btnAttr = array_merge($btnAttr, $attr);\n            $html = [];\n            foreach ($btns as $k => $v) {\n                //如果未定义或没有权限\n                if (!isset($btnAttr[$v]) || ($v !== 'refresh' && !$auth->check(\"{$controller}/{$v}\"))) {\n                    continue;\n                }\n                list($href, $class, $icon, $text, $title) = $btnAttr[$v];\n                $extend = $v == 'import' ? 'id=\"btn-import-file\" data-url=\"ajax/upload\" data-mimetype=\"csv,xls,xlsx\" data-multiple=\"false\"' : '';\n                $html[] = '<a href=\"' . $href . '\" class=\"' . $class . '\" title=\"' . $title . '\" ' . $extend . '><i class=\"' . $icon . '\"></i> ' . $text . '</a>';\n            }\n            return implode(' ', $html);\n        }\n                    \n具体修改的就是两个地方，第一个是数组$btns，在$btns数组中添加需要的元素，在本例中添加checkall;第二就是修改$btnAttr，根据需要添加一个checkall元素，如下所示：\n\n    \n\n> 'checkall'=> ['javascript:;', 'btn btn-success btn-checkall\n> btn-disabled disabled', 'fa fa-flag-checkered', ' 批量审核', '批量审核'],\n\n            \n这里有需要特别注意的地方是，最好在类中加上**btn-disabled disabled**两个class,这样可以方便直接获取是否选择。也就是说，在没有选择项的情况下，所有批量操作的按钮都应该是不能点击的。\n在修改完buildtoolbar之后在页面上使用应该就是可以直接调用出来了，到此第一步完成。\n\n\n----------\n\n修改js配置\n\n接下来修改require-table.js文件，因为所有的后台js文件都继承了这个文件，如果用的编辑器或IDE没有历史记录功能那就一定要做好备份。\n    首先是配置项，extend项代表每个url对应的方法，这里可以设置成缺省为空，然后在需要用到的js文件中再调用。加上checkall和check的URL，最好命名一致，修改完成的extend如下：\n    extend: {\n                index_url: '',\n                add_url: '',\n                edit_url: '',\n                del_url: '',\n                import_url: '',\n                multi_url: '',\n                check_url:'',\n                checkall_url:'',\n                check_classes_url:'',\n                dragsort_url: 'ajax/weigh',\n            }\n只需要按自己的需求把想加的公共方法加上，在config中添加按钮对应的class,比如这里添加：\n\n    checkallbtn: '.btn-checkall',\n\n\n绑定事件\n在bindevent中添加事件如下：\n\n    // 批量审核按钮事件\n    $(toolbar).on('click', Table.config.checkallbtn, function () {\n        var that = this;\n        var ids = Table.api.selectedids(table);\n        layer.msg('您正在批量修改审核状态，请选择结果', {\n            time: 20000, //20s后自动关闭\n            btn: ['通过', '不通过', '取消']\n            ,yes: function(index){\n                $(this).data({'check':1,'tablename':'classes'});\n                Table.api.multi(\"checkall\", ids, table, $(this));\n                Layer.close(index);\n                  }\n            ,btn2: function(index){\n                $(this).data({'check':2,'tablename':'classes'});\n                Table.api.multi(\"checkall\", ids, table, $(this));\n                Layer.close(index);\n                 }\n            ,btn3: function(index){\n                Layer.close(index);\n            }\n        });\n    });\n\n其中Table.config.checkallbtn即之前在config中添加的按钮，其中绑定的类名必须在之前的buildtollbar的对应按钮上有，根据需求，这里设置一个弹窗，以点击通过为例：\n鼠标选择几项结果之后进行批量审核，如果选择通过，对应回调yes，此时设置两个数据，一个是对应的表，一个是审核状态。因为主要是classes表会用到审核，默认值设置为classes表，如果其他方法调用，可以在对应的js文件中重写绑定事件；（还有另一种方法，config中添加一项为tablename,然后直接传tablename,将对应的classes修改为Table.config.tablename,每次页面js调用的时候修改config，但是因为大部分页面用不着重写config,因此这里不这么写）\nmulti方法即批量操作方法，因此这里应该直接调用，在multi方法中有以下的一句：\nvar url = typeof data.url !== \"undefined\" ? data.url : (action == \"del\" ? options.extend.del_url : options.extend.multi_url);\n\n这里要注意的是，在js调用的时候打印url，可能审核方法不在，因为实际上multi方法是绑定到dek_url或者multi_url的，这里有两种方法，一种是把check_url替换上去，一种是直接把multi_url方法绑定到check上，也可以直接加上，但是这个判断就要改。\n\n\n具体js\n进入到控制器对应的js中调用方法，如果写在trait中，每个控制器都会直接继承，如果使用的地方较少，可以直接使用。地址是admin/library/traits/Backend.php\ncheckall方法如下：\n\n    /**\n         *\n         * 批量审核\n         */\n        public function checkall($ids = \"\")\n        {\n            $row = $this->model->get($ids);\n            if (!$row)\n                $this->error(__('No Results were found'));\n            $adminIds = $this->getDataLimitAdminIds();\n            if (is_array($adminIds)) {\n                if (!in_array($row[$this->dataLimitField], $adminIds)) {\n                    $this->error(__('You have no permission'));\n                }\n            }\n            if ($this->request->isPost()) {\n                $values = $this->request->post()['params'];\n                if($values)\n                {\n                    $res =Db::name($values['tablename'])->where('id','IN',$ids)->update(['check'=>$values['check']]);\n                    $this->success();\n                }\n            }\n        }\n        \n\n\n其中$this->request->post()['params']可以获取到刚才在js中传递的数据，这里是用户选择的审核状态和需要更新的表名；之后对表进行操作返回$this->success()就可以了；\n\n\n添加权限\n以上操作顺利完成之后显示的会是没有操作权限；首先进入规则管理，添加刚才新增的方法对应的规则，例如这里添加的是check:\n\n![clipboard.png](https://segmentfault.com/img/bVba37O?w=736&h=333)\n\n只要不以菜单方式显示，然后状态正常就可以了；\n之后进入角色组，在角色组对应的权限中勾选，此时就可以加上对应的权限，这是很重要的一步：\n\n    **接下来在index页面中加上验证就行，例如这里是：\n    data-operate-check=\"{:$auth->check('course/clabelong/check')}\"\n    data-operate-checkall=\"{:$auth->check('course/clabelong/checkall')}\"**\n\n此时再登录不同的用户，例如教师组没有批量审核权限，那么无法显示批量审核按钮。\n\n\n单个操作权限\n除了批量操作，其实还可以单个操作，单个操作和批量操作稍有不同，但是更简单。可以仿照单元格元素事件来写，结果如下：\n\n    'click .btn-checkone': function (e, value, row, index) {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            var table = $(this).closest('table');\n                            var options = table.bootstrapTable('getOptions');\n                            var ids = row[options.pk];\n                            row = $.extend({}, row ? row : {}, {ids: ids});\n                            var url = options.extend.check_url;\n                            Fast.api.open(Table.api.replaceurl(url, row, table), '审核', $(this).data() || {});\n                        },\n\n直接绑定到check_url，在对应方法的js文件中的extend写出check_url的位置，添加对应的方法和视图，就可以直接调用。当然，同样涉及到权限的问题，加了方法之后在index中依然要用data-operate-check=\"{:$auth->check('course/clabelong/check')}\"；同时，不要忘记在require-table.js中添加operate;我添加如下代码：\n\n    if (options.extend.check_url !== '') {\n                            buttons.push({\n                                name: 'check',\n                                icon: 'fa fa-flag-checkered',\n                                title: '审核',\n                                classname: 'btn btn-xs btn-success btn-checkone',\n                                url: options.extend.check_url\n                            });\n                        }\n\n\n在require-table中可能还有需要修改的地方，但是关键是按照原先的add.del等写好的方法来参照，基本上就不会出错了。\n        ","source":"_posts/test-my-site.md","raw":"---\ntitle: fastadmin自定义角色组\ndate: 2019-01-31 17:36:10\ncomments: true\ntags:\n---\n之前使用fastadmin，自定义角色组，发现编辑/删除/修改等等权限可以直接权限管理中选择，然后用不同的角色登陆，会显示对应的权限按钮。此时有一个新的需求就是增加审核和批量审核，并且也增加对应的权限。\n\n\n----------\n\n添加按钮\n    先不写功能，在对应的位置上加上审核按钮。在顶头位置的批量审核需要得到的样式如下：\n    \n![clipboard.png](https://image-static.segmentfault.com/105/121/1051217979-5b03e62334d57_articlex)\n\n   \n\n>  原先的创建按钮方法为：\n>     {:build_toolbar('refresh,edit,checkall')}\n> 有时候不使用buid_toolbar来创建按钮，而是直接使用的\n>    \n> \n>      <a href=\"javascript:;\" class=\"btn btn-danger btn-del btn-disabled disabled {:$auth->check('course/clabelong/del')?'':'hide'}\"\n> title=\"{:__('Delete')}\" ><i class=\"fa fa-trash\"></i>\n> {:__('Delete')}</a>\n\n这种方式来创建按钮，这样虽然很直观，但是实际上使用却很不方便，因为这里对于权限的判定可能是有问题的。期待的结果是直接使用build_toolbar方法，设置checkall为批量审核，check为审核方法，对于各个权限组可以直接调用。\n修改build_toolbar方法到如下结果：\n\n    function build_toolbar($btns = NULL, $attr = [])\n        {\n            $auth = \\app\\admin\\library\\Auth::instance();\n            $controller = str_replace('.', '/', strtolower(think\\Request::instance()->controller()));\n            $btns = $btns ? $btns : ['refresh', 'add', 'edit', 'del', 'import','checkall'];\n            $btns = is_array($btns) ? $btns : explode(',', $btns);\n            $index = array_search('delete', $btns);\n            if ($index !== FALSE) {\n                $btns[$index] = 'del';\n            }\n            $btnAttr = [\n                'refresh' => ['javascript:;', 'btn btn-primary btn-refresh', 'fa fa-refresh', '', __('Refresh')],\n                'checkall'=> ['javascript:;', 'btn btn-success btn-checkall btn-disabled disabled', 'fa fa-flag-checkered', ' 批量审核', '批量审核'],\n                'add'     => ['javascript:;', 'btn btn-success btn-add', 'fa fa-plus', __('Add'), __('Add')],\n                'edit'    => ['javascript:;', 'btn btn-success btn-edit btn-disabled disabled', 'fa fa-pencil', __('Edit'), __('Edit')],\n                'del'     => ['javascript:;', 'btn btn-danger btn-del btn-disabled disabled', 'fa fa-trash', __('Delete'), __('Delete')],\n                'import'  => ['javascript:;', 'btn btn-danger btn-import', 'fa fa-upload', __('Import'), __('Import')],\n            ];\n            $btnAttr = array_merge($btnAttr, $attr);\n            $html = [];\n            foreach ($btns as $k => $v) {\n                //如果未定义或没有权限\n                if (!isset($btnAttr[$v]) || ($v !== 'refresh' && !$auth->check(\"{$controller}/{$v}\"))) {\n                    continue;\n                }\n                list($href, $class, $icon, $text, $title) = $btnAttr[$v];\n                $extend = $v == 'import' ? 'id=\"btn-import-file\" data-url=\"ajax/upload\" data-mimetype=\"csv,xls,xlsx\" data-multiple=\"false\"' : '';\n                $html[] = '<a href=\"' . $href . '\" class=\"' . $class . '\" title=\"' . $title . '\" ' . $extend . '><i class=\"' . $icon . '\"></i> ' . $text . '</a>';\n            }\n            return implode(' ', $html);\n        }\n                    \n具体修改的就是两个地方，第一个是数组$btns，在$btns数组中添加需要的元素，在本例中添加checkall;第二就是修改$btnAttr，根据需要添加一个checkall元素，如下所示：\n\n    \n\n> 'checkall'=> ['javascript:;', 'btn btn-success btn-checkall\n> btn-disabled disabled', 'fa fa-flag-checkered', ' 批量审核', '批量审核'],\n\n            \n这里有需要特别注意的地方是，最好在类中加上**btn-disabled disabled**两个class,这样可以方便直接获取是否选择。也就是说，在没有选择项的情况下，所有批量操作的按钮都应该是不能点击的。\n在修改完buildtoolbar之后在页面上使用应该就是可以直接调用出来了，到此第一步完成。\n\n\n----------\n\n修改js配置\n\n接下来修改require-table.js文件，因为所有的后台js文件都继承了这个文件，如果用的编辑器或IDE没有历史记录功能那就一定要做好备份。\n    首先是配置项，extend项代表每个url对应的方法，这里可以设置成缺省为空，然后在需要用到的js文件中再调用。加上checkall和check的URL，最好命名一致，修改完成的extend如下：\n    extend: {\n                index_url: '',\n                add_url: '',\n                edit_url: '',\n                del_url: '',\n                import_url: '',\n                multi_url: '',\n                check_url:'',\n                checkall_url:'',\n                check_classes_url:'',\n                dragsort_url: 'ajax/weigh',\n            }\n只需要按自己的需求把想加的公共方法加上，在config中添加按钮对应的class,比如这里添加：\n\n    checkallbtn: '.btn-checkall',\n\n\n绑定事件\n在bindevent中添加事件如下：\n\n    // 批量审核按钮事件\n    $(toolbar).on('click', Table.config.checkallbtn, function () {\n        var that = this;\n        var ids = Table.api.selectedids(table);\n        layer.msg('您正在批量修改审核状态，请选择结果', {\n            time: 20000, //20s后自动关闭\n            btn: ['通过', '不通过', '取消']\n            ,yes: function(index){\n                $(this).data({'check':1,'tablename':'classes'});\n                Table.api.multi(\"checkall\", ids, table, $(this));\n                Layer.close(index);\n                  }\n            ,btn2: function(index){\n                $(this).data({'check':2,'tablename':'classes'});\n                Table.api.multi(\"checkall\", ids, table, $(this));\n                Layer.close(index);\n                 }\n            ,btn3: function(index){\n                Layer.close(index);\n            }\n        });\n    });\n\n其中Table.config.checkallbtn即之前在config中添加的按钮，其中绑定的类名必须在之前的buildtollbar的对应按钮上有，根据需求，这里设置一个弹窗，以点击通过为例：\n鼠标选择几项结果之后进行批量审核，如果选择通过，对应回调yes，此时设置两个数据，一个是对应的表，一个是审核状态。因为主要是classes表会用到审核，默认值设置为classes表，如果其他方法调用，可以在对应的js文件中重写绑定事件；（还有另一种方法，config中添加一项为tablename,然后直接传tablename,将对应的classes修改为Table.config.tablename,每次页面js调用的时候修改config，但是因为大部分页面用不着重写config,因此这里不这么写）\nmulti方法即批量操作方法，因此这里应该直接调用，在multi方法中有以下的一句：\nvar url = typeof data.url !== \"undefined\" ? data.url : (action == \"del\" ? options.extend.del_url : options.extend.multi_url);\n\n这里要注意的是，在js调用的时候打印url，可能审核方法不在，因为实际上multi方法是绑定到dek_url或者multi_url的，这里有两种方法，一种是把check_url替换上去，一种是直接把multi_url方法绑定到check上，也可以直接加上，但是这个判断就要改。\n\n\n具体js\n进入到控制器对应的js中调用方法，如果写在trait中，每个控制器都会直接继承，如果使用的地方较少，可以直接使用。地址是admin/library/traits/Backend.php\ncheckall方法如下：\n\n    /**\n         *\n         * 批量审核\n         */\n        public function checkall($ids = \"\")\n        {\n            $row = $this->model->get($ids);\n            if (!$row)\n                $this->error(__('No Results were found'));\n            $adminIds = $this->getDataLimitAdminIds();\n            if (is_array($adminIds)) {\n                if (!in_array($row[$this->dataLimitField], $adminIds)) {\n                    $this->error(__('You have no permission'));\n                }\n            }\n            if ($this->request->isPost()) {\n                $values = $this->request->post()['params'];\n                if($values)\n                {\n                    $res =Db::name($values['tablename'])->where('id','IN',$ids)->update(['check'=>$values['check']]);\n                    $this->success();\n                }\n            }\n        }\n        \n\n\n其中$this->request->post()['params']可以获取到刚才在js中传递的数据，这里是用户选择的审核状态和需要更新的表名；之后对表进行操作返回$this->success()就可以了；\n\n\n添加权限\n以上操作顺利完成之后显示的会是没有操作权限；首先进入规则管理，添加刚才新增的方法对应的规则，例如这里添加的是check:\n\n![clipboard.png](https://segmentfault.com/img/bVba37O?w=736&h=333)\n\n只要不以菜单方式显示，然后状态正常就可以了；\n之后进入角色组，在角色组对应的权限中勾选，此时就可以加上对应的权限，这是很重要的一步：\n\n    **接下来在index页面中加上验证就行，例如这里是：\n    data-operate-check=\"{:$auth->check('course/clabelong/check')}\"\n    data-operate-checkall=\"{:$auth->check('course/clabelong/checkall')}\"**\n\n此时再登录不同的用户，例如教师组没有批量审核权限，那么无法显示批量审核按钮。\n\n\n单个操作权限\n除了批量操作，其实还可以单个操作，单个操作和批量操作稍有不同，但是更简单。可以仿照单元格元素事件来写，结果如下：\n\n    'click .btn-checkone': function (e, value, row, index) {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            var table = $(this).closest('table');\n                            var options = table.bootstrapTable('getOptions');\n                            var ids = row[options.pk];\n                            row = $.extend({}, row ? row : {}, {ids: ids});\n                            var url = options.extend.check_url;\n                            Fast.api.open(Table.api.replaceurl(url, row, table), '审核', $(this).data() || {});\n                        },\n\n直接绑定到check_url，在对应方法的js文件中的extend写出check_url的位置，添加对应的方法和视图，就可以直接调用。当然，同样涉及到权限的问题，加了方法之后在index中依然要用data-operate-check=\"{:$auth->check('course/clabelong/check')}\"；同时，不要忘记在require-table.js中添加operate;我添加如下代码：\n\n    if (options.extend.check_url !== '') {\n                            buttons.push({\n                                name: 'check',\n                                icon: 'fa fa-flag-checkered',\n                                title: '审核',\n                                classname: 'btn btn-xs btn-success btn-checkone',\n                                url: options.extend.check_url\n                            });\n                        }\n\n\n在require-table中可能还有需要修改的地方，但是关键是按照原先的add.del等写好的方法来参照，基本上就不会出错了。\n        ","slug":"test-my-site","published":1,"updated":"2019-12-10T01:49:46.563Z","layout":"post","photos":[],"link":"","_id":"ck3zlxwvq0049d87p6iub5uq9","content":"<p>之前使用fastadmin，自定义角色组，发现编辑/删除/修改等等权限可以直接权限管理中选择，然后用不同的角色登陆，会显示对应的权限按钮。此时有一个新的需求就是增加审核和批量审核，并且也增加对应的权限。</p>\n<hr>\n<p>添加按钮<br>    先不写功能，在对应的位置上加上审核按钮。在顶头位置的批量审核需要得到的样式如下：</p>\n<p><img src=\"https://image-static.segmentfault.com/105/121/1051217979-5b03e62334d57_articlex\" alt=\"clipboard.png\"></p>\n<blockquote>\n<p> 原先的创建按钮方法为：<br>    {:build_toolbar(‘refresh,edit,checkall’)}<br>有时候不使用buid_toolbar来创建按钮，而是直接使用的</p>\n<pre><code>&lt;a href=&quot;javascript:;&quot; class=&quot;btn btn-danger btn-del btn-disabled disabled {:$auth-&gt;check(&apos;course/clabelong/del&apos;)?&apos;&apos;:&apos;hide&apos;}&quot;\n</code></pre><p>title=”{:<strong>(‘Delete’)}” &gt;<i class=\"fa fa-trash\"></i><br>{:</strong>(‘Delete’)}</p>\n</blockquote>\n<p>这种方式来创建按钮，这样虽然很直观，但是实际上使用却很不方便，因为这里对于权限的判定可能是有问题的。期待的结果是直接使用build_toolbar方法，设置checkall为批量审核，check为审核方法，对于各个权限组可以直接调用。<br>修改build_toolbar方法到如下结果：</p>\n<pre><code>function build_toolbar($btns = NULL, $attr = [])\n    {\n        $auth = \\app\\admin\\library\\Auth::instance();\n        $controller = str_replace(&apos;.&apos;, &apos;/&apos;, strtolower(think\\Request::instance()-&gt;controller()));\n        $btns = $btns ? $btns : [&apos;refresh&apos;, &apos;add&apos;, &apos;edit&apos;, &apos;del&apos;, &apos;import&apos;,&apos;checkall&apos;];\n        $btns = is_array($btns) ? $btns : explode(&apos;,&apos;, $btns);\n        $index = array_search(&apos;delete&apos;, $btns);\n        if ($index !== FALSE) {\n            $btns[$index] = &apos;del&apos;;\n        }\n        $btnAttr = [\n            &apos;refresh&apos; =&gt; [&apos;javascript:;&apos;, &apos;btn btn-primary btn-refresh&apos;, &apos;fa fa-refresh&apos;, &apos;&apos;, __(&apos;Refresh&apos;)],\n            &apos;checkall&apos;=&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-checkall btn-disabled disabled&apos;, &apos;fa fa-flag-checkered&apos;, &apos; 批量审核&apos;, &apos;批量审核&apos;],\n            &apos;add&apos;     =&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-add&apos;, &apos;fa fa-plus&apos;, __(&apos;Add&apos;), __(&apos;Add&apos;)],\n            &apos;edit&apos;    =&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-edit btn-disabled disabled&apos;, &apos;fa fa-pencil&apos;, __(&apos;Edit&apos;), __(&apos;Edit&apos;)],\n            &apos;del&apos;     =&gt; [&apos;javascript:;&apos;, &apos;btn btn-danger btn-del btn-disabled disabled&apos;, &apos;fa fa-trash&apos;, __(&apos;Delete&apos;), __(&apos;Delete&apos;)],\n            &apos;import&apos;  =&gt; [&apos;javascript:;&apos;, &apos;btn btn-danger btn-import&apos;, &apos;fa fa-upload&apos;, __(&apos;Import&apos;), __(&apos;Import&apos;)],\n        ];\n        $btnAttr = array_merge($btnAttr, $attr);\n        $html = [];\n        foreach ($btns as $k =&gt; $v) {\n            //如果未定义或没有权限\n            if (!isset($btnAttr[$v]) || ($v !== &apos;refresh&apos; &amp;&amp; !$auth-&gt;check(&quot;{$controller}/{$v}&quot;))) {\n                continue;\n            }\n            list($href, $class, $icon, $text, $title) = $btnAttr[$v];\n            $extend = $v == &apos;import&apos; ? &apos;id=&quot;btn-import-file&quot; data-url=&quot;ajax/upload&quot; data-mimetype=&quot;csv,xls,xlsx&quot; data-multiple=&quot;false&quot;&apos; : &apos;&apos;;\n            $html[] = &apos;&lt;a href=&quot;&apos; . $href . &apos;&quot; class=&quot;&apos; . $class . &apos;&quot; title=&quot;&apos; . $title . &apos;&quot; &apos; . $extend . &apos;&gt;&lt;i class=&quot;&apos; . $icon . &apos;&quot;&gt;&lt;/i&gt; &apos; . $text . &apos;&lt;/a&gt;&apos;;\n        }\n        return implode(&apos; &apos;, $html);\n    }\n</code></pre><p>具体修改的就是两个地方，第一个是数组$btns，在$btns数组中添加需要的元素，在本例中添加checkall;第二就是修改$btnAttr，根据需要添加一个checkall元素，如下所示：</p>\n<blockquote>\n<p>‘checkall’=&gt; [‘javascript:;’, ‘btn btn-success btn-checkall<br>btn-disabled disabled’, ‘fa fa-flag-checkered’, ‘ 批量审核’, ‘批量审核’],</p>\n</blockquote>\n<p>这里有需要特别注意的地方是，最好在类中加上<strong>btn-disabled disabled</strong>两个class,这样可以方便直接获取是否选择。也就是说，在没有选择项的情况下，所有批量操作的按钮都应该是不能点击的。<br>在修改完buildtoolbar之后在页面上使用应该就是可以直接调用出来了，到此第一步完成。</p>\n<hr>\n<p>修改js配置</p>\n<p>接下来修改require-table.js文件，因为所有的后台js文件都继承了这个文件，如果用的编辑器或IDE没有历史记录功能那就一定要做好备份。<br>    首先是配置项，extend项代表每个url对应的方法，这里可以设置成缺省为空，然后在需要用到的js文件中再调用。加上checkall和check的URL，最好命名一致，修改完成的extend如下：<br>    extend: {<br>                index_url: ‘’,<br>                add_url: ‘’,<br>                edit_url: ‘’,<br>                del_url: ‘’,<br>                import_url: ‘’,<br>                multi_url: ‘’,<br>                check_url:’’,<br>                checkall_url:’’,<br>                check_classes_url:’’,<br>                dragsort_url: ‘ajax/weigh’,<br>            }<br>只需要按自己的需求把想加的公共方法加上，在config中添加按钮对应的class,比如这里添加：</p>\n<pre><code>checkallbtn: &apos;.btn-checkall&apos;,\n</code></pre><p>绑定事件<br>在bindevent中添加事件如下：</p>\n<pre><code>// 批量审核按钮事件\n$(toolbar).on(&apos;click&apos;, Table.config.checkallbtn, function () {\n    var that = this;\n    var ids = Table.api.selectedids(table);\n    layer.msg(&apos;您正在批量修改审核状态，请选择结果&apos;, {\n        time: 20000, //20s后自动关闭\n        btn: [&apos;通过&apos;, &apos;不通过&apos;, &apos;取消&apos;]\n        ,yes: function(index){\n            $(this).data({&apos;check&apos;:1,&apos;tablename&apos;:&apos;classes&apos;});\n            Table.api.multi(&quot;checkall&quot;, ids, table, $(this));\n            Layer.close(index);\n              }\n        ,btn2: function(index){\n            $(this).data({&apos;check&apos;:2,&apos;tablename&apos;:&apos;classes&apos;});\n            Table.api.multi(&quot;checkall&quot;, ids, table, $(this));\n            Layer.close(index);\n             }\n        ,btn3: function(index){\n            Layer.close(index);\n        }\n    });\n});\n</code></pre><p>其中Table.config.checkallbtn即之前在config中添加的按钮，其中绑定的类名必须在之前的buildtollbar的对应按钮上有，根据需求，这里设置一个弹窗，以点击通过为例：<br>鼠标选择几项结果之后进行批量审核，如果选择通过，对应回调yes，此时设置两个数据，一个是对应的表，一个是审核状态。因为主要是classes表会用到审核，默认值设置为classes表，如果其他方法调用，可以在对应的js文件中重写绑定事件；（还有另一种方法，config中添加一项为tablename,然后直接传tablename,将对应的classes修改为Table.config.tablename,每次页面js调用的时候修改config，但是因为大部分页面用不着重写config,因此这里不这么写）<br>multi方法即批量操作方法，因此这里应该直接调用，在multi方法中有以下的一句：<br>var url = typeof data.url !== “undefined” ? data.url : (action == “del” ? options.extend.del_url : options.extend.multi_url);</p>\n<p>这里要注意的是，在js调用的时候打印url，可能审核方法不在，因为实际上multi方法是绑定到dek_url或者multi_url的，这里有两种方法，一种是把check_url替换上去，一种是直接把multi_url方法绑定到check上，也可以直接加上，但是这个判断就要改。</p>\n<p>具体js<br>进入到控制器对应的js中调用方法，如果写在trait中，每个控制器都会直接继承，如果使用的地方较少，可以直接使用。地址是admin/library/traits/Backend.php<br>checkall方法如下：</p>\n<pre><code>/**\n     *\n     * 批量审核\n     */\n    public function checkall($ids = &quot;&quot;)\n    {\n        $row = $this-&gt;model-&gt;get($ids);\n        if (!$row)\n            $this-&gt;error(__(&apos;No Results were found&apos;));\n        $adminIds = $this-&gt;getDataLimitAdminIds();\n        if (is_array($adminIds)) {\n            if (!in_array($row[$this-&gt;dataLimitField], $adminIds)) {\n                $this-&gt;error(__(&apos;You have no permission&apos;));\n            }\n        }\n        if ($this-&gt;request-&gt;isPost()) {\n            $values = $this-&gt;request-&gt;post()[&apos;params&apos;];\n            if($values)\n            {\n                $res =Db::name($values[&apos;tablename&apos;])-&gt;where(&apos;id&apos;,&apos;IN&apos;,$ids)-&gt;update([&apos;check&apos;=&gt;$values[&apos;check&apos;]]);\n                $this-&gt;success();\n            }\n        }\n    }\n</code></pre><p>其中$this-&gt;request-&gt;post()[‘params’]可以获取到刚才在js中传递的数据，这里是用户选择的审核状态和需要更新的表名；之后对表进行操作返回$this-&gt;success()就可以了；</p>\n<p>添加权限<br>以上操作顺利完成之后显示的会是没有操作权限；首先进入规则管理，添加刚才新增的方法对应的规则，例如这里添加的是check:</p>\n<p><img src=\"https://segmentfault.com/img/bVba37O?w=736&amp;h=333\" alt=\"clipboard.png\"></p>\n<p>只要不以菜单方式显示，然后状态正常就可以了；<br>之后进入角色组，在角色组对应的权限中勾选，此时就可以加上对应的权限，这是很重要的一步：</p>\n<pre><code>**接下来在index页面中加上验证就行，例如这里是：\ndata-operate-check=&quot;{:$auth-&gt;check(&apos;course/clabelong/check&apos;)}&quot;\ndata-operate-checkall=&quot;{:$auth-&gt;check(&apos;course/clabelong/checkall&apos;)}&quot;**\n</code></pre><p>此时再登录不同的用户，例如教师组没有批量审核权限，那么无法显示批量审核按钮。</p>\n<p>单个操作权限<br>除了批量操作，其实还可以单个操作，单个操作和批量操作稍有不同，但是更简单。可以仿照单元格元素事件来写，结果如下：</p>\n<pre><code>&apos;click .btn-checkone&apos;: function (e, value, row, index) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        var table = $(this).closest(&apos;table&apos;);\n                        var options = table.bootstrapTable(&apos;getOptions&apos;);\n                        var ids = row[options.pk];\n                        row = $.extend({}, row ? row : {}, {ids: ids});\n                        var url = options.extend.check_url;\n                        Fast.api.open(Table.api.replaceurl(url, row, table), &apos;审核&apos;, $(this).data() || {});\n                    },\n</code></pre><p>直接绑定到check_url，在对应方法的js文件中的extend写出check_url的位置，添加对应的方法和视图，就可以直接调用。当然，同样涉及到权限的问题，加了方法之后在index中依然要用data-operate-check=”{:$auth-&gt;check(‘course/clabelong/check’)}”；同时，不要忘记在require-table.js中添加operate;我添加如下代码：</p>\n<pre><code>if (options.extend.check_url !== &apos;&apos;) {\n                        buttons.push({\n                            name: &apos;check&apos;,\n                            icon: &apos;fa fa-flag-checkered&apos;,\n                            title: &apos;审核&apos;,\n                            classname: &apos;btn btn-xs btn-success btn-checkone&apos;,\n                            url: options.extend.check_url\n                        });\n                    }\n</code></pre><p>在require-table中可能还有需要修改的地方，但是关键是按照原先的add.del等写好的方法来参照，基本上就不会出错了。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>之前使用fastadmin，自定义角色组，发现编辑/删除/修改等等权限可以直接权限管理中选择，然后用不同的角色登陆，会显示对应的权限按钮。此时有一个新的需求就是增加审核和批量审核，并且也增加对应的权限。</p>\n<hr>\n<p>添加按钮<br>    先不写功能，在对应的位置上加上审核按钮。在顶头位置的批量审核需要得到的样式如下：</p>\n<p><img src=\"https://image-static.segmentfault.com/105/121/1051217979-5b03e62334d57_articlex\" alt=\"clipboard.png\"></p>\n<blockquote>\n<p> 原先的创建按钮方法为：<br>    {:build_toolbar(‘refresh,edit,checkall’)}<br>有时候不使用buid_toolbar来创建按钮，而是直接使用的</p>\n<pre><code>&lt;a href=&quot;javascript:;&quot; class=&quot;btn btn-danger btn-del btn-disabled disabled {:$auth-&gt;check(&apos;course/clabelong/del&apos;)?&apos;&apos;:&apos;hide&apos;}&quot;\n</code></pre><p>title=”{:<strong>(‘Delete’)}” &gt;<i class=\"fa fa-trash\"></i><br>{:</strong>(‘Delete’)}</p>\n</blockquote>\n<p>这种方式来创建按钮，这样虽然很直观，但是实际上使用却很不方便，因为这里对于权限的判定可能是有问题的。期待的结果是直接使用build_toolbar方法，设置checkall为批量审核，check为审核方法，对于各个权限组可以直接调用。<br>修改build_toolbar方法到如下结果：</p>\n<pre><code>function build_toolbar($btns = NULL, $attr = [])\n    {\n        $auth = \\app\\admin\\library\\Auth::instance();\n        $controller = str_replace(&apos;.&apos;, &apos;/&apos;, strtolower(think\\Request::instance()-&gt;controller()));\n        $btns = $btns ? $btns : [&apos;refresh&apos;, &apos;add&apos;, &apos;edit&apos;, &apos;del&apos;, &apos;import&apos;,&apos;checkall&apos;];\n        $btns = is_array($btns) ? $btns : explode(&apos;,&apos;, $btns);\n        $index = array_search(&apos;delete&apos;, $btns);\n        if ($index !== FALSE) {\n            $btns[$index] = &apos;del&apos;;\n        }\n        $btnAttr = [\n            &apos;refresh&apos; =&gt; [&apos;javascript:;&apos;, &apos;btn btn-primary btn-refresh&apos;, &apos;fa fa-refresh&apos;, &apos;&apos;, __(&apos;Refresh&apos;)],\n            &apos;checkall&apos;=&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-checkall btn-disabled disabled&apos;, &apos;fa fa-flag-checkered&apos;, &apos; 批量审核&apos;, &apos;批量审核&apos;],\n            &apos;add&apos;     =&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-add&apos;, &apos;fa fa-plus&apos;, __(&apos;Add&apos;), __(&apos;Add&apos;)],\n            &apos;edit&apos;    =&gt; [&apos;javascript:;&apos;, &apos;btn btn-success btn-edit btn-disabled disabled&apos;, &apos;fa fa-pencil&apos;, __(&apos;Edit&apos;), __(&apos;Edit&apos;)],\n            &apos;del&apos;     =&gt; [&apos;javascript:;&apos;, &apos;btn btn-danger btn-del btn-disabled disabled&apos;, &apos;fa fa-trash&apos;, __(&apos;Delete&apos;), __(&apos;Delete&apos;)],\n            &apos;import&apos;  =&gt; [&apos;javascript:;&apos;, &apos;btn btn-danger btn-import&apos;, &apos;fa fa-upload&apos;, __(&apos;Import&apos;), __(&apos;Import&apos;)],\n        ];\n        $btnAttr = array_merge($btnAttr, $attr);\n        $html = [];\n        foreach ($btns as $k =&gt; $v) {\n            //如果未定义或没有权限\n            if (!isset($btnAttr[$v]) || ($v !== &apos;refresh&apos; &amp;&amp; !$auth-&gt;check(&quot;{$controller}/{$v}&quot;))) {\n                continue;\n            }\n            list($href, $class, $icon, $text, $title) = $btnAttr[$v];\n            $extend = $v == &apos;import&apos; ? &apos;id=&quot;btn-import-file&quot; data-url=&quot;ajax/upload&quot; data-mimetype=&quot;csv,xls,xlsx&quot; data-multiple=&quot;false&quot;&apos; : &apos;&apos;;\n            $html[] = &apos;&lt;a href=&quot;&apos; . $href . &apos;&quot; class=&quot;&apos; . $class . &apos;&quot; title=&quot;&apos; . $title . &apos;&quot; &apos; . $extend . &apos;&gt;&lt;i class=&quot;&apos; . $icon . &apos;&quot;&gt;&lt;/i&gt; &apos; . $text . &apos;&lt;/a&gt;&apos;;\n        }\n        return implode(&apos; &apos;, $html);\n    }\n</code></pre><p>具体修改的就是两个地方，第一个是数组$btns，在$btns数组中添加需要的元素，在本例中添加checkall;第二就是修改$btnAttr，根据需要添加一个checkall元素，如下所示：</p>\n<blockquote>\n<p>‘checkall’=&gt; [‘javascript:;’, ‘btn btn-success btn-checkall<br>btn-disabled disabled’, ‘fa fa-flag-checkered’, ‘ 批量审核’, ‘批量审核’],</p>\n</blockquote>\n<p>这里有需要特别注意的地方是，最好在类中加上<strong>btn-disabled disabled</strong>两个class,这样可以方便直接获取是否选择。也就是说，在没有选择项的情况下，所有批量操作的按钮都应该是不能点击的。<br>在修改完buildtoolbar之后在页面上使用应该就是可以直接调用出来了，到此第一步完成。</p>\n<hr>\n<p>修改js配置</p>\n<p>接下来修改require-table.js文件，因为所有的后台js文件都继承了这个文件，如果用的编辑器或IDE没有历史记录功能那就一定要做好备份。<br>    首先是配置项，extend项代表每个url对应的方法，这里可以设置成缺省为空，然后在需要用到的js文件中再调用。加上checkall和check的URL，最好命名一致，修改完成的extend如下：<br>    extend: {<br>                index_url: ‘’,<br>                add_url: ‘’,<br>                edit_url: ‘’,<br>                del_url: ‘’,<br>                import_url: ‘’,<br>                multi_url: ‘’,<br>                check_url:’’,<br>                checkall_url:’’,<br>                check_classes_url:’’,<br>                dragsort_url: ‘ajax/weigh’,<br>            }<br>只需要按自己的需求把想加的公共方法加上，在config中添加按钮对应的class,比如这里添加：</p>\n<pre><code>checkallbtn: &apos;.btn-checkall&apos;,\n</code></pre><p>绑定事件<br>在bindevent中添加事件如下：</p>\n<pre><code>// 批量审核按钮事件\n$(toolbar).on(&apos;click&apos;, Table.config.checkallbtn, function () {\n    var that = this;\n    var ids = Table.api.selectedids(table);\n    layer.msg(&apos;您正在批量修改审核状态，请选择结果&apos;, {\n        time: 20000, //20s后自动关闭\n        btn: [&apos;通过&apos;, &apos;不通过&apos;, &apos;取消&apos;]\n        ,yes: function(index){\n            $(this).data({&apos;check&apos;:1,&apos;tablename&apos;:&apos;classes&apos;});\n            Table.api.multi(&quot;checkall&quot;, ids, table, $(this));\n            Layer.close(index);\n              }\n        ,btn2: function(index){\n            $(this).data({&apos;check&apos;:2,&apos;tablename&apos;:&apos;classes&apos;});\n            Table.api.multi(&quot;checkall&quot;, ids, table, $(this));\n            Layer.close(index);\n             }\n        ,btn3: function(index){\n            Layer.close(index);\n        }\n    });\n});\n</code></pre><p>其中Table.config.checkallbtn即之前在config中添加的按钮，其中绑定的类名必须在之前的buildtollbar的对应按钮上有，根据需求，这里设置一个弹窗，以点击通过为例：<br>鼠标选择几项结果之后进行批量审核，如果选择通过，对应回调yes，此时设置两个数据，一个是对应的表，一个是审核状态。因为主要是classes表会用到审核，默认值设置为classes表，如果其他方法调用，可以在对应的js文件中重写绑定事件；（还有另一种方法，config中添加一项为tablename,然后直接传tablename,将对应的classes修改为Table.config.tablename,每次页面js调用的时候修改config，但是因为大部分页面用不着重写config,因此这里不这么写）<br>multi方法即批量操作方法，因此这里应该直接调用，在multi方法中有以下的一句：<br>var url = typeof data.url !== “undefined” ? data.url : (action == “del” ? options.extend.del_url : options.extend.multi_url);</p>\n<p>这里要注意的是，在js调用的时候打印url，可能审核方法不在，因为实际上multi方法是绑定到dek_url或者multi_url的，这里有两种方法，一种是把check_url替换上去，一种是直接把multi_url方法绑定到check上，也可以直接加上，但是这个判断就要改。</p>\n<p>具体js<br>进入到控制器对应的js中调用方法，如果写在trait中，每个控制器都会直接继承，如果使用的地方较少，可以直接使用。地址是admin/library/traits/Backend.php<br>checkall方法如下：</p>\n<pre><code>/**\n     *\n     * 批量审核\n     */\n    public function checkall($ids = &quot;&quot;)\n    {\n        $row = $this-&gt;model-&gt;get($ids);\n        if (!$row)\n            $this-&gt;error(__(&apos;No Results were found&apos;));\n        $adminIds = $this-&gt;getDataLimitAdminIds();\n        if (is_array($adminIds)) {\n            if (!in_array($row[$this-&gt;dataLimitField], $adminIds)) {\n                $this-&gt;error(__(&apos;You have no permission&apos;));\n            }\n        }\n        if ($this-&gt;request-&gt;isPost()) {\n            $values = $this-&gt;request-&gt;post()[&apos;params&apos;];\n            if($values)\n            {\n                $res =Db::name($values[&apos;tablename&apos;])-&gt;where(&apos;id&apos;,&apos;IN&apos;,$ids)-&gt;update([&apos;check&apos;=&gt;$values[&apos;check&apos;]]);\n                $this-&gt;success();\n            }\n        }\n    }\n</code></pre><p>其中$this-&gt;request-&gt;post()[‘params’]可以获取到刚才在js中传递的数据，这里是用户选择的审核状态和需要更新的表名；之后对表进行操作返回$this-&gt;success()就可以了；</p>\n<p>添加权限<br>以上操作顺利完成之后显示的会是没有操作权限；首先进入规则管理，添加刚才新增的方法对应的规则，例如这里添加的是check:</p>\n<p><img src=\"https://segmentfault.com/img/bVba37O?w=736&amp;h=333\" alt=\"clipboard.png\"></p>\n<p>只要不以菜单方式显示，然后状态正常就可以了；<br>之后进入角色组，在角色组对应的权限中勾选，此时就可以加上对应的权限，这是很重要的一步：</p>\n<pre><code>**接下来在index页面中加上验证就行，例如这里是：\ndata-operate-check=&quot;{:$auth-&gt;check(&apos;course/clabelong/check&apos;)}&quot;\ndata-operate-checkall=&quot;{:$auth-&gt;check(&apos;course/clabelong/checkall&apos;)}&quot;**\n</code></pre><p>此时再登录不同的用户，例如教师组没有批量审核权限，那么无法显示批量审核按钮。</p>\n<p>单个操作权限<br>除了批量操作，其实还可以单个操作，单个操作和批量操作稍有不同，但是更简单。可以仿照单元格元素事件来写，结果如下：</p>\n<pre><code>&apos;click .btn-checkone&apos;: function (e, value, row, index) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        var table = $(this).closest(&apos;table&apos;);\n                        var options = table.bootstrapTable(&apos;getOptions&apos;);\n                        var ids = row[options.pk];\n                        row = $.extend({}, row ? row : {}, {ids: ids});\n                        var url = options.extend.check_url;\n                        Fast.api.open(Table.api.replaceurl(url, row, table), &apos;审核&apos;, $(this).data() || {});\n                    },\n</code></pre><p>直接绑定到check_url，在对应方法的js文件中的extend写出check_url的位置，添加对应的方法和视图，就可以直接调用。当然，同样涉及到权限的问题，加了方法之后在index中依然要用data-operate-check=”{:$auth-&gt;check(‘course/clabelong/check’)}”；同时，不要忘记在require-table.js中添加operate;我添加如下代码：</p>\n<pre><code>if (options.extend.check_url !== &apos;&apos;) {\n                        buttons.push({\n                            name: &apos;check&apos;,\n                            icon: &apos;fa fa-flag-checkered&apos;,\n                            title: &apos;审核&apos;,\n                            classname: &apos;btn btn-xs btn-success btn-checkone&apos;,\n                            url: options.extend.check_url\n                        });\n                    }\n</code></pre><p>在require-table中可能还有需要修改的地方，但是关键是按照原先的add.del等写好的方法来参照，基本上就不会出错了。</p>\n"},{"title":"使用go编写webassembly","date":"2019-12-10T04:34:10.000Z","_content":"# 使用go编写webassembly并在浏览器执行\n# 参考博客\n[用go写WebAssembly入门](https://www.cnblogs.com/baizx/p/9602581.html)\n## 下载安装\n[go](https://www.runoob.com/go/go-environment.html)\n## 编写测试文件hello.go\n```\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n        fmt.Println(\"Hello World!\")\n}\n```\n## 生成wasm文件\n``` GOARCH=wasm GOOS=js go build -o hello.wasm hello.go```\n在windows下需要先设置环境变量：``` $env:GOARCH=\"wasm\";$env:GOOS=\"js\"; ```\n## 添加依赖\n``` \ncp $(go env GOROOT)/misc/wasm/wasm_exec.{html,js} . \n```\n## 添加一个测试http服务器\n``` \n//http.go\npackage main\n\nimport (\n    \"flag\"\n    \"log\"\n    \"net/http\"\n    \"strings\"\n)\n\nvar (\n    listen = flag.String(\"listen\", \":8080\", \"listen address\")\n    dir    = flag.String(\"dir\", \".\", \"directory to serve\")\n)\n\nfunc main() {\n    flag.Parse()\n    log.Printf(\"listening on %q...\", *listen)\n    log.Fatal(http.ListenAndServe(*listen, http.HandlerFunc(func(resp http.ResponseWriter, req *http.Request) {\n        if strings.HasSuffix(req.URL.Path, \".wasm\") {\n            resp.Header().Set(\"content-type\", \"application/wasm\")\n        }\n\n        http.FileServer(http.Dir(*dir)).ServeHTTP(resp, req)\n    })))\n}\n```\n## 执行\ngo run http.go\n## 查看效果\n浏览器打开http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果\n## node执行\n``` \nnode wasm_exec.js test.wasm\n```\n","source":"_posts/webassembly_go_1.md","raw":"---\ntitle: 使用go编写webassembly\ndate: 2019-12-10 12:34:10\ntags: go\ncategories: 学习\n---\n# 使用go编写webassembly并在浏览器执行\n# 参考博客\n[用go写WebAssembly入门](https://www.cnblogs.com/baizx/p/9602581.html)\n## 下载安装\n[go](https://www.runoob.com/go/go-environment.html)\n## 编写测试文件hello.go\n```\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n        fmt.Println(\"Hello World!\")\n}\n```\n## 生成wasm文件\n``` GOARCH=wasm GOOS=js go build -o hello.wasm hello.go```\n在windows下需要先设置环境变量：``` $env:GOARCH=\"wasm\";$env:GOOS=\"js\"; ```\n## 添加依赖\n``` \ncp $(go env GOROOT)/misc/wasm/wasm_exec.{html,js} . \n```\n## 添加一个测试http服务器\n``` \n//http.go\npackage main\n\nimport (\n    \"flag\"\n    \"log\"\n    \"net/http\"\n    \"strings\"\n)\n\nvar (\n    listen = flag.String(\"listen\", \":8080\", \"listen address\")\n    dir    = flag.String(\"dir\", \".\", \"directory to serve\")\n)\n\nfunc main() {\n    flag.Parse()\n    log.Printf(\"listening on %q...\", *listen)\n    log.Fatal(http.ListenAndServe(*listen, http.HandlerFunc(func(resp http.ResponseWriter, req *http.Request) {\n        if strings.HasSuffix(req.URL.Path, \".wasm\") {\n            resp.Header().Set(\"content-type\", \"application/wasm\")\n        }\n\n        http.FileServer(http.Dir(*dir)).ServeHTTP(resp, req)\n    })))\n}\n```\n## 执行\ngo run http.go\n## 查看效果\n浏览器打开http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果\n## node执行\n``` \nnode wasm_exec.js test.wasm\n```\n","slug":"webassembly_go_1","published":1,"updated":"2019-12-10T08:29:16.440Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwvs004cd87p3h7thndz","content":"<h1 id=\"使用go编写webassembly并在浏览器执行\"><a href=\"#使用go编写webassembly并在浏览器执行\" class=\"headerlink\" title=\"使用go编写webassembly并在浏览器执行\"></a>使用go编写webassembly并在浏览器执行</h1><h1 id=\"参考博客\"><a href=\"#参考博客\" class=\"headerlink\" title=\"参考博客\"></a>参考博客</h1><p><a href=\"https://www.cnblogs.com/baizx/p/9602581.html\" target=\"_blank\" rel=\"noopener\">用go写WebAssembly入门</a></p>\n<h2 id=\"下载安装\"><a href=\"#下载安装\" class=\"headerlink\" title=\"下载安装\"></a>下载安装</h2><p><a href=\"https://www.runoob.com/go/go-environment.html\" target=\"_blank\" rel=\"noopener\">go</a></p>\n<h2 id=\"编写测试文件hello-go\"><a href=\"#编写测试文件hello-go\" class=\"headerlink\" title=\"编写测试文件hello.go\"></a>编写测试文件hello.go</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\">import &quot;fmt&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">        fmt.Println(&quot;Hello World!&quot;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"生成wasm文件\"><a href=\"#生成wasm文件\" class=\"headerlink\" title=\"生成wasm文件\"></a>生成wasm文件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在windows下需要先设置环境变量：``` $env:GOARCH=&quot;wasm&quot;;$env:GOOS=&quot;js&quot;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"添加依赖\"><a href=\"#添加依赖\" class=\"headerlink\" title=\"添加依赖\"></a>添加依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp $(go env GOROOT)/misc/wasm/wasm_exec.&#123;html,js&#125; .</span><br></pre></td></tr></table></figure>\n<h2 id=\"添加一个测试http服务器\"><a href=\"#添加一个测试http服务器\" class=\"headerlink\" title=\"添加一个测试http服务器\"></a>添加一个测试http服务器</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//http.go</span><br><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">    &quot;flag&quot;</span><br><span class=\"line\">    &quot;log&quot;</span><br><span class=\"line\">    &quot;net/http&quot;</span><br><span class=\"line\">    &quot;strings&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">var (</span><br><span class=\"line\">    listen = flag.String(&quot;listen&quot;, &quot;:8080&quot;, &quot;listen address&quot;)</span><br><span class=\"line\">    dir    = flag.String(&quot;dir&quot;, &quot;.&quot;, &quot;directory to serve&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">    flag.Parse()</span><br><span class=\"line\">    log.Printf(&quot;listening on %q...&quot;, *listen)</span><br><span class=\"line\">    log.Fatal(http.ListenAndServe(*listen, http.HandlerFunc(func(resp http.ResponseWriter, req *http.Request) &#123;</span><br><span class=\"line\">        if strings.HasSuffix(req.URL.Path, &quot;.wasm&quot;) &#123;</span><br><span class=\"line\">            resp.Header().Set(&quot;content-type&quot;, &quot;application/wasm&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        http.FileServer(http.Dir(*dir)).ServeHTTP(resp, req)</span><br><span class=\"line\">    &#125;)))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"执行\"><a href=\"#执行\" class=\"headerlink\" title=\"执行\"></a>执行</h2><p>go run http.go</p>\n<h2 id=\"查看效果\"><a href=\"#查看效果\" class=\"headerlink\" title=\"查看效果\"></a>查看效果</h2><p>浏览器打开<a href=\"http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果</a></p>\n<h2 id=\"node执行\"><a href=\"#node执行\" class=\"headerlink\" title=\"node执行\"></a>node执行</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node wasm_exec.js test.wasm</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"使用go编写webassembly并在浏览器执行\"><a href=\"#使用go编写webassembly并在浏览器执行\" class=\"headerlink\" title=\"使用go编写webassembly并在浏览器执行\"></a>使用go编写webassembly并在浏览器执行</h1><h1 id=\"参考博客\"><a href=\"#参考博客\" class=\"headerlink\" title=\"参考博客\"></a>参考博客</h1><p><a href=\"https://www.cnblogs.com/baizx/p/9602581.html\" target=\"_blank\" rel=\"noopener\">用go写WebAssembly入门</a></p>\n<h2 id=\"下载安装\"><a href=\"#下载安装\" class=\"headerlink\" title=\"下载安装\"></a>下载安装</h2><p><a href=\"https://www.runoob.com/go/go-environment.html\" target=\"_blank\" rel=\"noopener\">go</a></p>\n<h2 id=\"编写测试文件hello-go\"><a href=\"#编写测试文件hello-go\" class=\"headerlink\" title=\"编写测试文件hello.go\"></a>编写测试文件hello.go</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\">import &quot;fmt&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">        fmt.Println(&quot;Hello World!&quot;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"生成wasm文件\"><a href=\"#生成wasm文件\" class=\"headerlink\" title=\"生成wasm文件\"></a>生成wasm文件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在windows下需要先设置环境变量：``` $env:GOARCH=&quot;wasm&quot;;$env:GOOS=&quot;js&quot;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"添加依赖\"><a href=\"#添加依赖\" class=\"headerlink\" title=\"添加依赖\"></a>添加依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp $(go env GOROOT)/misc/wasm/wasm_exec.&#123;html,js&#125; .</span><br></pre></td></tr></table></figure>\n<h2 id=\"添加一个测试http服务器\"><a href=\"#添加一个测试http服务器\" class=\"headerlink\" title=\"添加一个测试http服务器\"></a>添加一个测试http服务器</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//http.go</span><br><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">    &quot;flag&quot;</span><br><span class=\"line\">    &quot;log&quot;</span><br><span class=\"line\">    &quot;net/http&quot;</span><br><span class=\"line\">    &quot;strings&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">var (</span><br><span class=\"line\">    listen = flag.String(&quot;listen&quot;, &quot;:8080&quot;, &quot;listen address&quot;)</span><br><span class=\"line\">    dir    = flag.String(&quot;dir&quot;, &quot;.&quot;, &quot;directory to serve&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">    flag.Parse()</span><br><span class=\"line\">    log.Printf(&quot;listening on %q...&quot;, *listen)</span><br><span class=\"line\">    log.Fatal(http.ListenAndServe(*listen, http.HandlerFunc(func(resp http.ResponseWriter, req *http.Request) &#123;</span><br><span class=\"line\">        if strings.HasSuffix(req.URL.Path, &quot;.wasm&quot;) &#123;</span><br><span class=\"line\">            resp.Header().Set(&quot;content-type&quot;, &quot;application/wasm&quot;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        http.FileServer(http.Dir(*dir)).ServeHTTP(resp, req)</span><br><span class=\"line\">    &#125;)))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"执行\"><a href=\"#执行\" class=\"headerlink\" title=\"执行\"></a>执行</h2><p>go run http.go</p>\n<h2 id=\"查看效果\"><a href=\"#查看效果\" class=\"headerlink\" title=\"查看效果\"></a>查看效果</h2><p>浏览器打开<a href=\"http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/wasm_exec.html，点击run，控制台可以看到效果</a></p>\n<h2 id=\"node执行\"><a href=\"#node执行\" class=\"headerlink\" title=\"node执行\"></a>node执行</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node wasm_exec.js test.wasm</span><br></pre></td></tr></table></figure>\n"},{"title":"各方法实现微信机器人对比","date":"2019-03-28T06:03:27.000Z","_content":"## wxpy\n直接排除，只有极少数人的微信可以使用，无法用来实现机器人；\n## 图灵机器人\n图灵机器人可以接入微信，也可以实现群管理，但是是通过第三方来实现的\n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 接入微信公众号 | 群自动回复 | 是 |\n| 主动触发回复 | 主动往群里发送消息 | 是 |\n| 定时发送 | 定时给群发送消息 | 是 |\n### 微群管家\n图灵机器人推荐的微信个人号接入第三方插件，但只有windows版本可用，不适用于mac版本开发，但可以实现自定义开发，文档比较全面*且免费*，可以作为备选方案    \n功能介绍：    \n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 关键词自动回复 | 群自动回复 | 是 |\n| 主动触发回复 | 主动往群里发送消息 | 是 |\n| 定时发送 | 定时给群发送消息 | 是 |\n\n收费情况如下：\n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| --- | --- | 免费 |\n\n建议：建议使用微群管家，免费\n### 微友助手\n也是图灵机器人推荐的个人号接入第三方插件，有后台管理。    \n功能介绍：     \n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 机器人管理 | 扫码登录的用户作为机器人，无需邀请新人 | 是 |\n| 机器人管理 | 群数据下载，分析群数据，没太大意义 | 否 |\n| 定时群发 | 可以直接定时群发消息，支持多个群 | 是 |\n| 群分组管理 | 可以给群做一个分组，但是仅限付费群，需要调研收费情况 | 待定 |\n| 自动回复 | 设置关键词后机器人可根据关键词自动回复 | 是 |\n| 智能聊天 | @机器人后接入图灵机器人自动回复 | 待定 |\n| 群文件管理 | 自动保存群成员发到群内的文件，在群内@机器人，机器人将会回复群文件存放链接 | 是 |\n| 成员管理 | 管理用户，可设置群内权限，也可查看聊天记录 | 是 |\n| 踢人 | 需要机器人本身是群主才能踢人 | 是 |\n\n收费情况如下：\n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| 微友助手精简版 | （机器人聊天+关键词回复）或 （机器人聊天+新人入群欢迎语）或 （机器人聊天+定时发送消息）或（机器人聊天+群数据分析）四选一| 79/群/年 |\n| 微友助手高级版 | 机器人聊天、群数据分析、新人入群欢迎语、关键词回复、定时群发 | 99/群/年 |\n| 微友助手旗舰版 | 高级版所有功能+潜水/邀请查询，管理员、关键词自动批量踢人，群签到，群精华，群文件管理，群名保护，重复群成员查询去重，发红包、链接、小程序智能提醒及更多扩展功能。 | 129/群/年 |\n| 微友助手企业版 | 包含旗舰版的所有功能，支持购买的群数范围内无限次换群。购买50个以上，问题优先处理，1对1VIP服务。 | 需要咨询 |\n\n建议：企业版，可以协调价格\n### chatie\n文档地址：https://docs.chatie.io/v/zh/api\n微群管家也是基于web开发的，微友助手和chatie是通过ipad方式登录，还可以用    \n功能介绍：与微友助手类似    \n\n收费情况：    \n如果web版微信可用，免费，否则通过ipad登录收费    \n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| token | 提供一个类似于微信公众号token，必须自行开发 | 1920元/年 |\n| token | 提供一个类似于微信公众号token，可自行开发 | 1920/年 |\n","source":"_posts/wechat.md","raw":"---\ntitle: 各方法实现微信机器人对比\ndate: 2019-03-28 14:03:27\ncategories: \n- 其他\n---\n## wxpy\n直接排除，只有极少数人的微信可以使用，无法用来实现机器人；\n## 图灵机器人\n图灵机器人可以接入微信，也可以实现群管理，但是是通过第三方来实现的\n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 接入微信公众号 | 群自动回复 | 是 |\n| 主动触发回复 | 主动往群里发送消息 | 是 |\n| 定时发送 | 定时给群发送消息 | 是 |\n### 微群管家\n图灵机器人推荐的微信个人号接入第三方插件，但只有windows版本可用，不适用于mac版本开发，但可以实现自定义开发，文档比较全面*且免费*，可以作为备选方案    \n功能介绍：    \n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 关键词自动回复 | 群自动回复 | 是 |\n| 主动触发回复 | 主动往群里发送消息 | 是 |\n| 定时发送 | 定时给群发送消息 | 是 |\n\n收费情况如下：\n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| --- | --- | 免费 |\n\n建议：建议使用微群管家，免费\n### 微友助手\n也是图灵机器人推荐的个人号接入第三方插件，有后台管理。    \n功能介绍：     \n\n| 功能 | 详解 | 是否必要 |\n| --- | --- | --- |\n| 机器人管理 | 扫码登录的用户作为机器人，无需邀请新人 | 是 |\n| 机器人管理 | 群数据下载，分析群数据，没太大意义 | 否 |\n| 定时群发 | 可以直接定时群发消息，支持多个群 | 是 |\n| 群分组管理 | 可以给群做一个分组，但是仅限付费群，需要调研收费情况 | 待定 |\n| 自动回复 | 设置关键词后机器人可根据关键词自动回复 | 是 |\n| 智能聊天 | @机器人后接入图灵机器人自动回复 | 待定 |\n| 群文件管理 | 自动保存群成员发到群内的文件，在群内@机器人，机器人将会回复群文件存放链接 | 是 |\n| 成员管理 | 管理用户，可设置群内权限，也可查看聊天记录 | 是 |\n| 踢人 | 需要机器人本身是群主才能踢人 | 是 |\n\n收费情况如下：\n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| 微友助手精简版 | （机器人聊天+关键词回复）或 （机器人聊天+新人入群欢迎语）或 （机器人聊天+定时发送消息）或（机器人聊天+群数据分析）四选一| 79/群/年 |\n| 微友助手高级版 | 机器人聊天、群数据分析、新人入群欢迎语、关键词回复、定时群发 | 99/群/年 |\n| 微友助手旗舰版 | 高级版所有功能+潜水/邀请查询，管理员、关键词自动批量踢人，群签到，群精华，群文件管理，群名保护，重复群成员查询去重，发红包、链接、小程序智能提醒及更多扩展功能。 | 129/群/年 |\n| 微友助手企业版 | 包含旗舰版的所有功能，支持购买的群数范围内无限次换群。购买50个以上，问题优先处理，1对1VIP服务。 | 需要咨询 |\n\n建议：企业版，可以协调价格\n### chatie\n文档地址：https://docs.chatie.io/v/zh/api\n微群管家也是基于web开发的，微友助手和chatie是通过ipad方式登录，还可以用    \n功能介绍：与微友助手类似    \n\n收费情况：    \n如果web版微信可用，免费，否则通过ipad登录收费    \n\n| 产品 | 功能 | 价格 |\n| --- | --- | --- |\n| token | 提供一个类似于微信公众号token，必须自行开发 | 1920元/年 |\n| token | 提供一个类似于微信公众号token，可自行开发 | 1920/年 |\n","slug":"wechat","published":1,"updated":"2019-12-10T01:49:46.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwvw004fd87pcx0jkikt","content":"<h2 id=\"wxpy\"><a href=\"#wxpy\" class=\"headerlink\" title=\"wxpy\"></a>wxpy</h2><p>直接排除，只有极少数人的微信可以使用，无法用来实现机器人；</p>\n<h2 id=\"图灵机器人\"><a href=\"#图灵机器人\" class=\"headerlink\" title=\"图灵机器人\"></a>图灵机器人</h2><p>图灵机器人可以接入微信，也可以实现群管理，但是是通过第三方来实现的</p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>接入微信公众号</td>\n<td>群自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>主动触发回复</td>\n<td>主动往群里发送消息</td>\n<td>是</td>\n</tr>\n<tr>\n<td>定时发送</td>\n<td>定时给群发送消息</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"微群管家\"><a href=\"#微群管家\" class=\"headerlink\" title=\"微群管家\"></a>微群管家</h3><p>图灵机器人推荐的微信个人号接入第三方插件，但只有windows版本可用，不适用于mac版本开发，但可以实现自定义开发，文档比较全面<em>且免费</em>，可以作为备选方案<br>功能介绍：    </p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>关键词自动回复</td>\n<td>群自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>主动触发回复</td>\n<td>主动往群里发送消息</td>\n<td>是</td>\n</tr>\n<tr>\n<td>定时发送</td>\n<td>定时给群发送消息</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<p>收费情况如下：</p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>—</td>\n<td>—</td>\n<td>免费</td>\n</tr>\n</tbody>\n</table>\n<p>建议：建议使用微群管家，免费</p>\n<h3 id=\"微友助手\"><a href=\"#微友助手\" class=\"headerlink\" title=\"微友助手\"></a>微友助手</h3><p>也是图灵机器人推荐的个人号接入第三方插件，有后台管理。<br>功能介绍：     </p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>机器人管理</td>\n<td>扫码登录的用户作为机器人，无需邀请新人</td>\n<td>是</td>\n</tr>\n<tr>\n<td>机器人管理</td>\n<td>群数据下载，分析群数据，没太大意义</td>\n<td>否</td>\n</tr>\n<tr>\n<td>定时群发</td>\n<td>可以直接定时群发消息，支持多个群</td>\n<td>是</td>\n</tr>\n<tr>\n<td>群分组管理</td>\n<td>可以给群做一个分组，但是仅限付费群，需要调研收费情况</td>\n<td>待定</td>\n</tr>\n<tr>\n<td>自动回复</td>\n<td>设置关键词后机器人可根据关键词自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>智能聊天</td>\n<td>@机器人后接入图灵机器人自动回复</td>\n<td>待定</td>\n</tr>\n<tr>\n<td>群文件管理</td>\n<td>自动保存群成员发到群内的文件，在群内@机器人，机器人将会回复群文件存放链接</td>\n<td>是</td>\n</tr>\n<tr>\n<td>成员管理</td>\n<td>管理用户，可设置群内权限，也可查看聊天记录</td>\n<td>是</td>\n</tr>\n<tr>\n<td>踢人</td>\n<td>需要机器人本身是群主才能踢人</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<p>收费情况如下：</p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>微友助手精简版</td>\n<td>（机器人聊天+关键词回复）或 （机器人聊天+新人入群欢迎语）或 （机器人聊天+定时发送消息）或（机器人聊天+群数据分析）四选一</td>\n<td>79/群/年</td>\n</tr>\n<tr>\n<td>微友助手高级版</td>\n<td>机器人聊天、群数据分析、新人入群欢迎语、关键词回复、定时群发</td>\n<td>99/群/年</td>\n</tr>\n<tr>\n<td>微友助手旗舰版</td>\n<td>高级版所有功能+潜水/邀请查询，管理员、关键词自动批量踢人，群签到，群精华，群文件管理，群名保护，重复群成员查询去重，发红包、链接、小程序智能提醒及更多扩展功能。</td>\n<td>129/群/年</td>\n</tr>\n<tr>\n<td>微友助手企业版</td>\n<td>包含旗舰版的所有功能，支持购买的群数范围内无限次换群。购买50个以上，问题优先处理，1对1VIP服务。</td>\n<td>需要咨询</td>\n</tr>\n</tbody>\n</table>\n<p>建议：企业版，可以协调价格</p>\n<h3 id=\"chatie\"><a href=\"#chatie\" class=\"headerlink\" title=\"chatie\"></a>chatie</h3><p>文档地址：<a href=\"https://docs.chatie.io/v/zh/api\" target=\"_blank\" rel=\"noopener\">https://docs.chatie.io/v/zh/api</a><br>微群管家也是基于web开发的，微友助手和chatie是通过ipad方式登录，还可以用<br>功能介绍：与微友助手类似    </p>\n<p>收费情况：<br>如果web版微信可用，免费，否则通过ipad登录收费    </p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>token</td>\n<td>提供一个类似于微信公众号token，必须自行开发</td>\n<td>1920元/年</td>\n</tr>\n<tr>\n<td>token</td>\n<td>提供一个类似于微信公众号token，可自行开发</td>\n<td>1920/年</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"wxpy\"><a href=\"#wxpy\" class=\"headerlink\" title=\"wxpy\"></a>wxpy</h2><p>直接排除，只有极少数人的微信可以使用，无法用来实现机器人；</p>\n<h2 id=\"图灵机器人\"><a href=\"#图灵机器人\" class=\"headerlink\" title=\"图灵机器人\"></a>图灵机器人</h2><p>图灵机器人可以接入微信，也可以实现群管理，但是是通过第三方来实现的</p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>接入微信公众号</td>\n<td>群自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>主动触发回复</td>\n<td>主动往群里发送消息</td>\n<td>是</td>\n</tr>\n<tr>\n<td>定时发送</td>\n<td>定时给群发送消息</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"微群管家\"><a href=\"#微群管家\" class=\"headerlink\" title=\"微群管家\"></a>微群管家</h3><p>图灵机器人推荐的微信个人号接入第三方插件，但只有windows版本可用，不适用于mac版本开发，但可以实现自定义开发，文档比较全面<em>且免费</em>，可以作为备选方案<br>功能介绍：    </p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>关键词自动回复</td>\n<td>群自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>主动触发回复</td>\n<td>主动往群里发送消息</td>\n<td>是</td>\n</tr>\n<tr>\n<td>定时发送</td>\n<td>定时给群发送消息</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<p>收费情况如下：</p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>—</td>\n<td>—</td>\n<td>免费</td>\n</tr>\n</tbody>\n</table>\n<p>建议：建议使用微群管家，免费</p>\n<h3 id=\"微友助手\"><a href=\"#微友助手\" class=\"headerlink\" title=\"微友助手\"></a>微友助手</h3><p>也是图灵机器人推荐的个人号接入第三方插件，有后台管理。<br>功能介绍：     </p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>详解</th>\n<th>是否必要</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>机器人管理</td>\n<td>扫码登录的用户作为机器人，无需邀请新人</td>\n<td>是</td>\n</tr>\n<tr>\n<td>机器人管理</td>\n<td>群数据下载，分析群数据，没太大意义</td>\n<td>否</td>\n</tr>\n<tr>\n<td>定时群发</td>\n<td>可以直接定时群发消息，支持多个群</td>\n<td>是</td>\n</tr>\n<tr>\n<td>群分组管理</td>\n<td>可以给群做一个分组，但是仅限付费群，需要调研收费情况</td>\n<td>待定</td>\n</tr>\n<tr>\n<td>自动回复</td>\n<td>设置关键词后机器人可根据关键词自动回复</td>\n<td>是</td>\n</tr>\n<tr>\n<td>智能聊天</td>\n<td>@机器人后接入图灵机器人自动回复</td>\n<td>待定</td>\n</tr>\n<tr>\n<td>群文件管理</td>\n<td>自动保存群成员发到群内的文件，在群内@机器人，机器人将会回复群文件存放链接</td>\n<td>是</td>\n</tr>\n<tr>\n<td>成员管理</td>\n<td>管理用户，可设置群内权限，也可查看聊天记录</td>\n<td>是</td>\n</tr>\n<tr>\n<td>踢人</td>\n<td>需要机器人本身是群主才能踢人</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<p>收费情况如下：</p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>微友助手精简版</td>\n<td>（机器人聊天+关键词回复）或 （机器人聊天+新人入群欢迎语）或 （机器人聊天+定时发送消息）或（机器人聊天+群数据分析）四选一</td>\n<td>79/群/年</td>\n</tr>\n<tr>\n<td>微友助手高级版</td>\n<td>机器人聊天、群数据分析、新人入群欢迎语、关键词回复、定时群发</td>\n<td>99/群/年</td>\n</tr>\n<tr>\n<td>微友助手旗舰版</td>\n<td>高级版所有功能+潜水/邀请查询，管理员、关键词自动批量踢人，群签到，群精华，群文件管理，群名保护，重复群成员查询去重，发红包、链接、小程序智能提醒及更多扩展功能。</td>\n<td>129/群/年</td>\n</tr>\n<tr>\n<td>微友助手企业版</td>\n<td>包含旗舰版的所有功能，支持购买的群数范围内无限次换群。购买50个以上，问题优先处理，1对1VIP服务。</td>\n<td>需要咨询</td>\n</tr>\n</tbody>\n</table>\n<p>建议：企业版，可以协调价格</p>\n<h3 id=\"chatie\"><a href=\"#chatie\" class=\"headerlink\" title=\"chatie\"></a>chatie</h3><p>文档地址：<a href=\"https://docs.chatie.io/v/zh/api\" target=\"_blank\" rel=\"noopener\">https://docs.chatie.io/v/zh/api</a><br>微群管家也是基于web开发的，微友助手和chatie是通过ipad方式登录，还可以用<br>功能介绍：与微友助手类似    </p>\n<p>收费情况：<br>如果web版微信可用，免费，否则通过ipad登录收费    </p>\n<table>\n<thead>\n<tr>\n<th>产品</th>\n<th>功能</th>\n<th>价格</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>token</td>\n<td>提供一个类似于微信公众号token，必须自行开发</td>\n<td>1920元/年</td>\n</tr>\n<tr>\n<td>token</td>\n<td>提供一个类似于微信公众号token，可自行开发</td>\n<td>1920/年</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"工作经验总结","date":"2019-10-05T09:40:10.000Z","_content":"## 工作经验\n（1）学会控制情绪\n","source":"_posts/work.md","raw":"---\ntitle: 工作经验总结\ndate: 2019-10-05 17:40:10\ntags: 学习\ncategories: 工作经验\n---\n## 工作经验\n（1）学会控制情绪\n","slug":"work","published":1,"updated":"2019-12-10T01:49:46.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3zlxwvz004jd87ps3cuxg8u","content":"<h2 id=\"工作经验\"><a href=\"#工作经验\" class=\"headerlink\" title=\"工作经验\"></a>工作经验</h2><p>（1）学会控制情绪</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"工作经验\"><a href=\"#工作经验\" class=\"headerlink\" title=\"工作经验\"></a>工作经验</h2><p>（1）学会控制情绪</p>\n"}],"PostAsset":[{"_id":"source/_posts/mysql数据库维护/TestSql.png","post":"ck3zlxwt3002vd87p790fw4ml","slug":"TestSql.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/const.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"const.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/error.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"error.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/exp.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"exp.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/explain.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"explain.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/towrow.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"towrow.png","modified":1,"renderable":1},{"_id":"source/_posts/mysqlIndex/towrowres.png","post":"ck3zlxwss002rd87piaas1l0i","slug":"towrowres.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"ck3zlxwq90008d87pphh3iq97","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwqt000gd87phlw5wtyx"},{"post_id":"ck3zlxwpe0000d87pqe2m18z0","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwqy000ld87pvw8kb5k4"},{"post_id":"ck3zlxwqb0009d87poeyfxsk5","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwr1000od87pwv7lcq4x"},{"post_id":"ck3zlxwpp0002d87phyva3hqr","category_id":"ck3zlxwqd000ad87p3u247oke","_id":"ck3zlxwr4000td87pft4kb0u6"},{"post_id":"ck3zlxwq40006d87p619ujw9n","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwr5000wd87phznf29mv"},{"post_id":"ck3zlxwqh000dd87pn4t2conx","category_id":"ck3zlxwr1000pd87p2ya9wbul","_id":"ck3zlxwr90012d87pxrmjakol"},{"post_id":"ck3zlxwrc0017d87pltu1mee0","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwrl001fd87p00gp0dzf"},{"post_id":"ck3zlxwr0000nd87p3xu6uyv0","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwrp001jd87ptye1wmv0"},{"post_id":"ck3zlxwr3000sd87plu9i3ny6","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxwrt001md87p2ybu71m4"},{"post_id":"ck3zlxwrn001id87pe1zpwbf0","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwrz001sd87pf5llhjfq"},{"post_id":"ck3zlxwqq000fd87pggtk5uq5","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxws1001wd87pgtvhffl3"},{"post_id":"ck3zlxwqq000fd87pggtk5uq5","category_id":"ck3zlxwrm001gd87pktf2c6jf","_id":"ck3zlxws4001zd87phhb73ilc"},{"post_id":"ck3zlxwrq001ld87pmv3zsahr","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxws80023d87pm1xkec96"},{"post_id":"ck3zlxwra0015d87ptkjd8a24","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwsa0025d87pvfi5v15m"},{"post_id":"ck3zlxwrx001rd87pcsw91731","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwsd0029d87p9m2rdo67"},{"post_id":"ck3zlxwri001cd87puumrw4sj","category_id":"ck3zlxwrz001td87ppyfclyrz","_id":"ck3zlxwsf002dd87p78ocqdg4"},{"post_id":"ck3zlxws60022d87poccr5k2d","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwsh002fd87pshihns4m"},{"post_id":"ck3zlxwrk001ed87psgefmz3q","category_id":"ck3zlxws60021d87puhtaxvr2","_id":"ck3zlxwsj002kd87pg2gctea7"},{"post_id":"ck3zlxwrv001pd87pkm6fcq3v","category_id":"ck3zlxwsd002ad87pqwgfwuaq","_id":"ck3zlxwsm002nd87pzc080ykt"},{"post_id":"ck3zlxws90024d87p0nv8763o","category_id":"ck3zlxwsn002od87po3qyn9eh","_id":"ck3zlxwt7002wd87ph50u6is9"},{"post_id":"ck3zlxwse002cd87p6lejjmxj","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxwth0032d87ps4h6ifu8"},{"post_id":"ck3zlxwse002cd87p6lejjmxj","category_id":"ck3zlxwsw002sd87p3p7tv7df","_id":"ck3zlxwtl0035d87p7b4k3zdl"},{"post_id":"ck3zlxwsg002ed87p9v7w82cz","category_id":"ck3zlxwta002yd87pgnbi619n","_id":"ck3zlxwto0038d87pbet4fm20"},{"post_id":"ck3zlxwtf0031d87p0nvt6orv","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxwtt003bd87p8fyxfalv"},{"post_id":"ck3zlxwti0034d87p2hl4tg04","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwtw003dd87pqtn2ajcb"},{"post_id":"ck3zlxwsi002id87pbhq86pw9","category_id":"ck3zlxwth0033d87pqc87nzwc","_id":"ck3zlxwu0003gd87p8ydjp37b"},{"post_id":"ck3zlxwtm0037d87p69q9h7eg","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwu6003id87prpy9bphj"},{"post_id":"ck3zlxwtq003ad87p1dxh9w8y","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwuj003ld87pmdq7akit"},{"post_id":"ck3zlxws2001yd87pwu9j7no6","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxwuq003nd87psndagozx"},{"post_id":"ck3zlxws2001yd87pwu9j7no6","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxwuw003qd87p0c3m6bez"},{"post_id":"ck3zlxws2001yd87pwu9j7no6","category_id":"ck3zlxwto0039d87po4s1gh5u","_id":"ck3zlxwv1003td87phz9verso"},{"post_id":"ck3zlxwtt003cd87pgazkow5r","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwv5003wd87pwsqho2g6"},{"post_id":"ck3zlxwtx003fd87pbjlzf9gb","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwvd003yd87py95jqgir"},{"post_id":"ck3zlxwu0003hd87px1bk1ifg","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwvi0041d87p4t7x7uwg"},{"post_id":"ck3zlxwsk002ld87pozukgj9i","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxwvl0043d87pt7gob99i"},{"post_id":"ck3zlxwsk002ld87pozukgj9i","category_id":"ck3zlxwtx003ed87pc2ze6r2u","_id":"ck3zlxwvp0047d87pz30u0wmp"},{"post_id":"ck3zlxwu7003jd87pkuhwe5r4","category_id":"ck3zlxwpz0004d87p0oz2ad7f","_id":"ck3zlxwvs004ad87pjamjdqrn"},{"post_id":"ck3zlxwso002pd87p4dcbpf2i","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxwvu004dd87pbf63hv2r"},{"post_id":"ck3zlxwso002pd87p4dcbpf2i","category_id":"ck3zlxwtx003ed87pc2ze6r2u","_id":"ck3zlxwvy004gd87pe5400cto"},{"post_id":"ck3zlxwul003md87p5isdy8rg","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxww0004kd87pbbhpxshw"},{"post_id":"ck3zlxwul003md87p5isdy8rg","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxww1004md87pns06npcz"},{"post_id":"ck3zlxwur003od87p2bydgj2o","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxww1004od87p8pevcfxr"},{"post_id":"ck3zlxwur003od87p2bydgj2o","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxww2004rd87p3ec2itde"},{"post_id":"ck3zlxwux003sd87phgi9ukt2","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxww3004sd87pl5hy7np3"},{"post_id":"ck3zlxwux003sd87phgi9ukt2","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxww3004ud87plxqvvo75"},{"post_id":"ck3zlxwss002rd87piaas1l0i","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxww3004vd87p31e1jszd"},{"post_id":"ck3zlxwss002rd87piaas1l0i","category_id":"ck3zlxwuw003pd87pye7i8wte","_id":"ck3zlxww4004xd87pnu8zwyk2"},{"post_id":"ck3zlxwv2003ud87pz6s8i6hl","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxww4004yd87pqxaiuuy2"},{"post_id":"ck3zlxwv2003ud87pz6s8i6hl","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxww4004zd87p729vaju7"},{"post_id":"ck3zlxwva003xd87p0gfgddqm","category_id":"ck3zlxwrg0019d87pya5zhjqv","_id":"ck3zlxww40050d87ptono23po"},{"post_id":"ck3zlxwva003xd87p0gfgddqm","category_id":"ck3zlxwsh002hd87pjrhfs676","_id":"ck3zlxww40051d87pwcdnvwaf"},{"post_id":"ck3zlxwsx002td87pqjrhzxgi","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxww40052d87psccl425y"},{"post_id":"ck3zlxwsx002td87pqjrhzxgi","category_id":"ck3zlxwuw003pd87pye7i8wte","_id":"ck3zlxww40053d87plhuac9r1"},{"post_id":"ck3zlxwve003zd87pg38phplv","category_id":"ck3zlxwr90013d87pt4y93bne","_id":"ck3zlxww40054d87pxftzek68"},{"post_id":"ck3zlxwt3002vd87p790fw4ml","category_id":"ck3zlxwr6000xd87pbexlx0rd","_id":"ck3zlxww40055d87pasxya238"},{"post_id":"ck3zlxwt3002vd87p790fw4ml","category_id":"ck3zlxwuw003pd87pye7i8wte","_id":"ck3zlxww40056d87p2nrrd9gf"},{"post_id":"ck3zlxwvm0045d87p2ikqmpm7","category_id":"ck3zlxwr1000pd87p2ya9wbul","_id":"ck3zlxww50057d87pgzaofk42"},{"post_id":"ck3zlxwt8002xd87pkye9o9zx","category_id":"ck3zlxwvo0046d87ptjsquatc","_id":"ck3zlxww50058d87p6brhzfyp"},{"post_id":"ck3zlxwtb002zd87pjvqlbtah","category_id":"ck3zlxwvo0046d87ptjsquatc","_id":"ck3zlxww50059d87ppmtalvml"},{"post_id":"ck3zlxwvk0042d87poopktv7d","category_id":"ck3zlxww0004ld87p0b7tbufb","_id":"ck3zlxww5005ad87pshaqkakw"},{"post_id":"ck3zlxwvs004cd87p3h7thndz","category_id":"ck3zlxww0004ld87p0b7tbufb","_id":"ck3zlxww6005bd87p7trph5ge"},{"post_id":"ck3zlxwvw004fd87pcx0jkikt","category_id":"ck3zlxww3004td87py4ya2xcy","_id":"ck3zlxww6005cd87pc8tb201u"},{"post_id":"ck3zlxwvz004jd87ps3cuxg8u","category_id":"ck3zlxww3004wd87pg8vzlwtq","_id":"ck3zlxww6005dd87p3j2ybjzt"}],"PostTag":[{"post_id":"ck3zlxwq90008d87pphh3iq97","tag_id":"ck3zlxwq30005d87pmu9ur8y9","_id":"ck3zlxwqg000cd87p1etqbyxl"},{"post_id":"ck3zlxwpe0000d87pqe2m18z0","tag_id":"ck3zlxwq30005d87pmu9ur8y9","_id":"ck3zlxwqq000ed87p9pu9dio0"},{"post_id":"ck3zlxwqb0009d87poeyfxsk5","tag_id":"ck3zlxwq30005d87pmu9ur8y9","_id":"ck3zlxwqw000jd87psq8xxwnz"},{"post_id":"ck3zlxwpp0002d87phyva3hqr","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwqz000md87pnmbdqb50"},{"post_id":"ck3zlxwqw000kd87phjmqjf8s","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwr2000rd87p2y9fz79a"},{"post_id":"ck3zlxwq40006d87p619ujw9n","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwr4000ud87p56w8x4n3"},{"post_id":"ck3zlxwqh000dd87pn4t2conx","tag_id":"ck3zlxwr2000qd87pjh0q4cg2","_id":"ck3zlxwr70010d87pm0mfp6r5"},{"post_id":"ck3zlxwqq000fd87pggtk5uq5","tag_id":"ck3zlxwr6000yd87ppkc5l2c2","_id":"ck3zlxwrc0016d87p7e0q43kx"},{"post_id":"ck3zlxwrc0017d87pltu1mee0","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxwrh001bd87pv564t5ke"},{"post_id":"ck3zlxwr0000nd87p3xu6uyv0","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxwrj001dd87p2dfb7nbg"},{"post_id":"ck3zlxwri001cd87puumrw4sj","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwrn001hd87pecy2sz2r"},{"post_id":"ck3zlxwra0015d87ptkjd8a24","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxwrq001kd87phvnw7ia8"},{"post_id":"ck3zlxwrk001ed87psgefmz3q","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwru001od87p9lsuc6hb"},{"post_id":"ck3zlxwrn001id87pe1zpwbf0","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwrx001qd87pzoha6kmg"},{"post_id":"ck3zlxwrq001ld87pmv3zsahr","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxws0001ud87p2qs1vhn8"},{"post_id":"ck3zlxwrx001rd87pcsw91731","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxws2001xd87pjptefdmc"},{"post_id":"ck3zlxws60022d87poccr5k2d","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwsb0026d87p61nr5uya"},{"post_id":"ck3zlxws0001vd87pcxwo6y1w","tag_id":"ck3zlxws50020d87pbmln3kvn","_id":"ck3zlxwse002bd87p67jm9z9h"},{"post_id":"ck3zlxws2001yd87pwu9j7no6","tag_id":"ck3zlxwsd0028d87pp7s2osmz","_id":"ck3zlxwsj002jd87pv7briu1r"},{"post_id":"ck3zlxwsg002ed87p9v7w82cz","tag_id":"ck3zlxwq30005d87pmu9ur8y9","_id":"ck3zlxwsm002md87pu2w0zb8e"},{"post_id":"ck3zlxws90024d87p0nv8763o","tag_id":"ck3zlxwsh002gd87pcxo008ld","_id":"ck3zlxwsr002qd87ph6u6gzip"},{"post_id":"ck3zlxwss002rd87piaas1l0i","tag_id":"ck3zlxwt2002ud87psgl9gct5","_id":"ck3zlxwte0030d87pc7fjnjuw"},{"post_id":"ck3zlxwtf0031d87p0nvt6orv","tag_id":"ck3zlxwra0014d87pwzwhy4vv","_id":"ck3zlxwtl0036d87pa3m5dxwc"},{"post_id":"ck3zlxwul003md87p5isdy8rg","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwux003rd87pxz80q8lr"},{"post_id":"ck3zlxwve003zd87pg38phplv","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxwvm0044d87p0ky7bqj1"},{"post_id":"ck3zlxwvm0045d87p2ikqmpm7","tag_id":"ck3zlxwr2000qd87pjh0q4cg2","_id":"ck3zlxwvs004bd87p3vh84mbb"},{"post_id":"ck3zlxwvk0042d87poopktv7d","tag_id":"ck3zlxwvp0048d87pp5lxj32i","_id":"ck3zlxwvy004id87pn1ahhzbu"},{"post_id":"ck3zlxwvz004jd87ps3cuxg8u","tag_id":"ck3zlxwqe000bd87p4oi6r691","_id":"ck3zlxww1004nd87p7d7nbe8f"},{"post_id":"ck3zlxwvs004cd87p3h7thndz","tag_id":"ck3zlxwvy004hd87pbmo9hvvp","_id":"ck3zlxww2004pd87pplg65nl1"}],"Tag":[{"name":"工作","_id":"ck3zlxwq30005d87pmu9ur8y9"},{"name":"学习","_id":"ck3zlxwqe000bd87p4oi6r691"},{"name":"文档","_id":"ck3zlxwr2000qd87pjh0q4cg2"},{"name":"基础命令","_id":"ck3zlxwr6000yd87ppkc5l2c2"},{"name":"概念介绍","_id":"ck3zlxwra0014d87pwzwhy4vv"},{"name":"demo","_id":"ck3zlxws50020d87pbmln3kvn"},{"name":"小工具","_id":"ck3zlxwsd0028d87pp7s2osmz"},{"name":"使用心得","_id":"ck3zlxwsh002gd87pcxo008ld"},{"name":"优化","_id":"ck3zlxwt2002ud87psgl9gct5"},{"name":"测试","_id":"ck3zlxwvp0048d87pp5lxj32i"},{"name":"go","_id":"ck3zlxwvy004hd87pbmo9hvvp"}]}}